function Fr(t,e){return function(){return t.apply(e,arguments)}}const{toString:qa}=Object.prototype,{getPrototypeOf:zs}=Object,Ui=(t=>e=>{const i=qa.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Te=t=>(t=t.toLowerCase(),e=>Ui(e)===t),zi=t=>e=>typeof e===t,{isArray:lt}=Array,jt=zi("undefined");function Wa(t){return t!==null&&!jt(t)&&t.constructor!==null&&!jt(t.constructor)&&ce(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Br=Te("ArrayBuffer");function Ya(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Br(t.buffer),e}const Xa=zi("string"),ce=zi("function"),Gr=zi("number"),Vi=t=>t!==null&&typeof t=="object",Za=t=>t===!0||t===!1,Ti=t=>{if(Ui(t)!=="object")return!1;const e=zs(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ja=Te("Date"),Ka=Te("File"),Qa=Te("Blob"),Ja=Te("FileList"),el=t=>Vi(t)&&ce(t.pipe),tl=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ce(t.append)&&((e=Ui(t))==="formdata"||e==="object"&&ce(t.toString)&&t.toString()==="[object FormData]"))},il=Te("URLSearchParams"),[sl,nl,rl,ol]=["ReadableStream","Request","Response","Headers"].map(Te),al=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jt(t,e,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let s,n;if(typeof t!="object"&&(t=[t]),lt(t))for(s=0,n=t.length;s<n;s++)e.call(null,t[s],s,t);else{const r=i?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(s=0;s<o;s++)a=r[s],e.call(null,t[a],a,t)}}function Ur(t,e){e=e.toLowerCase();const i=Object.keys(t);let s=i.length,n;for(;s-- >0;)if(n=i[s],e===n.toLowerCase())return n;return null}const Ge=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zr=t=>!jt(t)&&t!==Ge;function fs(){const{caseless:t}=zr(this)&&this||{},e={},i=(s,n)=>{const r=t&&Ur(e,n)||n;Ti(e[r])&&Ti(s)?e[r]=fs(e[r],s):Ti(s)?e[r]=fs({},s):lt(s)?e[r]=s.slice():e[r]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&Jt(arguments[s],i);return e}const ll=(t,e,i,{allOwnKeys:s}={})=>(Jt(e,(n,r)=>{i&&ce(n)?t[r]=Fr(n,i):t[r]=n},{allOwnKeys:s}),t),cl=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),dl=(t,e,i,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},hl=(t,e,i,s)=>{let n,r,o;const a={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),r=n.length;r-- >0;)o=n[r],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=i!==!1&&zs(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},ul=(t,e,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=e.length;const s=t.indexOf(e,i);return s!==-1&&s===i},pl=t=>{if(!t)return null;if(lt(t))return t;let e=t.length;if(!Gr(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=t[e];return i},fl=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&zs(Uint8Array)),gl=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=s.next())&&!n.done;){const r=n.value;e.call(t,r[0],r[1])}},ml=(t,e)=>{let i;const s=[];for(;(i=t.exec(e))!==null;)s.push(i);return s},El=Te("HTMLFormElement"),_l=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,s,n){return s.toUpperCase()+n}),fn=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),yl=Te("RegExp"),Vr=(t,e)=>{const i=Object.getOwnPropertyDescriptors(t),s={};Jt(i,(n,r)=>{let o;(o=e(n,r,t))!==!1&&(s[r]=o||n)}),Object.defineProperties(t,s)},Il=t=>{Vr(t,(e,i)=>{if(ce(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const s=t[i];if(ce(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},Tl=(t,e)=>{const i={},s=n=>{n.forEach(r=>{i[r]=!0})};return lt(t)?s(t):s(String(t).split(e)),i},vl=()=>{},Sl=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function wl(t){return!!(t&&ce(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const bl=t=>{const e=new Array(10),i=(s,n)=>{if(Vi(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[n]=s;const r=lt(s)?[]:{};return Jt(s,(o,a)=>{const l=i(o,n+1);!jt(l)&&(r[a]=l)}),e[n]=void 0,r}}return s};return i(t,0)},Rl=Te("AsyncFunction"),Ol=t=>t&&(Vi(t)||ce(t))&&ce(t.then)&&ce(t.catch),Hr=((t,e)=>t?setImmediate:e?((i,s)=>(Ge.addEventListener("message",({source:n,data:r})=>{n===Ge&&r===i&&s.length&&s.shift()()},!1),n=>{s.push(n),Ge.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",ce(Ge.postMessage)),Al=typeof queueMicrotask<"u"?queueMicrotask.bind(Ge):typeof process<"u"&&process.nextTick||Hr,I={isArray:lt,isArrayBuffer:Br,isBuffer:Wa,isFormData:tl,isArrayBufferView:Ya,isString:Xa,isNumber:Gr,isBoolean:Za,isObject:Vi,isPlainObject:Ti,isReadableStream:sl,isRequest:nl,isResponse:rl,isHeaders:ol,isUndefined:jt,isDate:ja,isFile:Ka,isBlob:Qa,isRegExp:yl,isFunction:ce,isStream:el,isURLSearchParams:il,isTypedArray:fl,isFileList:Ja,forEach:Jt,merge:fs,extend:ll,trim:al,stripBOM:cl,inherits:dl,toFlatObject:hl,kindOf:Ui,kindOfTest:Te,endsWith:ul,toArray:pl,forEachEntry:gl,matchAll:ml,isHTMLForm:El,hasOwnProperty:fn,hasOwnProp:fn,reduceDescriptors:Vr,freezeMethods:Il,toObjectSet:Tl,toCamelCase:_l,noop:vl,toFiniteNumber:Sl,findKey:Ur,global:Ge,isContextDefined:zr,isSpecCompliantForm:wl,toJSONObject:bl,isAsyncFn:Rl,isThenable:Ol,setImmediate:Hr,asap:Al};function G(t,e,i,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}I.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const $r=G.prototype,kr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{kr[t]={value:t}});Object.defineProperties(G,kr);Object.defineProperty($r,"isAxiosError",{value:!0});G.from=(t,e,i,s,n,r)=>{const o=Object.create($r);return I.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),G.call(o,t.message,e,i,s,n),o.cause=t,o.name=t.name,r&&Object.assign(o,r),o};const Dl=null;function gs(t){return I.isPlainObject(t)||I.isArray(t)}function qr(t){return I.endsWith(t,"[]")?t.slice(0,-2):t}function gn(t,e,i){return t?t.concat(e).map(function(n,r){return n=qr(n),!i&&r?"["+n+"]":n}).join(i?".":""):e}function Cl(t){return I.isArray(t)&&!t.some(gs)}const Pl=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function Hi(t,e,i){if(!I.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,i=I.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,E){return!I.isUndefined(E[m])});const s=i.metaTokens,n=i.visitor||d,r=i.dots,o=i.indexes,l=(i.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(e);if(!I.isFunction(n))throw new TypeError("visitor must be a function");function c(u){if(u===null)return"";if(I.isDate(u))return u.toISOString();if(!l&&I.isBlob(u))throw new G("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(u)||I.isTypedArray(u)?l&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function d(u,m,E){let y=u;if(u&&!E&&typeof u=="object"){if(I.endsWith(m,"{}"))m=s?m:m.slice(0,-2),u=JSON.stringify(u);else if(I.isArray(u)&&Cl(u)||(I.isFileList(u)||I.endsWith(m,"[]"))&&(y=I.toArray(u)))return m=qr(m),y.forEach(function(_,T){!(I.isUndefined(_)||_===null)&&e.append(o===!0?gn([m],T,r):o===null?m:m+"[]",c(_))}),!1}return gs(u)?!0:(e.append(gn(E,m,r),c(u)),!1)}const h=[],p=Object.assign(Pl,{defaultVisitor:d,convertValue:c,isVisitable:gs});function g(u,m){if(!I.isUndefined(u)){if(h.indexOf(u)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(u),I.forEach(u,function(y,f){(!(I.isUndefined(y)||y===null)&&n.call(e,y,I.isString(f)?f.trim():f,m,p))===!0&&g(y,m?m.concat(f):[f])}),h.pop()}}if(!I.isObject(t))throw new TypeError("data must be an object");return g(t),e}function mn(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Vs(t,e){this._pairs=[],t&&Hi(t,this,e)}const Wr=Vs.prototype;Wr.append=function(e,i){this._pairs.push([e,i])};Wr.toString=function(e){const i=e?function(s){return e.call(this,s,mn)}:mn;return this._pairs.map(function(n){return i(n[0])+"="+i(n[1])},"").join("&")};function Ll(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Yr(t,e,i){if(!e)return t;const s=i&&i.encode||Ll;I.isFunction(i)&&(i={serialize:i});const n=i&&i.serialize;let r;if(n?r=n(e,i):r=I.isURLSearchParams(e)?e.toString():new Vs(e,i).toString(s),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class En{constructor(){this.handlers=[]}use(e,i,s){return this.handlers.push({fulfilled:e,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Xr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ml=typeof URLSearchParams<"u"?URLSearchParams:Vs,xl=typeof FormData<"u"?FormData:null,Nl=typeof Blob<"u"?Blob:null,Fl={isBrowser:!0,classes:{URLSearchParams:Ml,FormData:xl,Blob:Nl},protocols:["http","https","file","blob","url","data"]},Hs=typeof window<"u"&&typeof document<"u",ms=typeof navigator=="object"&&navigator||void 0,Bl=Hs&&(!ms||["ReactNative","NativeScript","NS"].indexOf(ms.product)<0),Gl=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ul=Hs&&window.location.href||"http://localhost",zl=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hs,hasStandardBrowserEnv:Bl,hasStandardBrowserWebWorkerEnv:Gl,navigator:ms,origin:Ul},Symbol.toStringTag,{value:"Module"})),J={...zl,...Fl};function Vl(t,e){return Hi(t,new J.classes.URLSearchParams,Object.assign({visitor:function(i,s,n,r){return J.isNode&&I.isBuffer(i)?(this.append(s,i.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function Hl(t){return I.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $l(t){const e={},i=Object.keys(t);let s;const n=i.length;let r;for(s=0;s<n;s++)r=i[s],e[r]=t[r];return e}function Zr(t){function e(i,s,n,r){let o=i[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=i.length;return o=!o&&I.isArray(n)?n.length:o,l?(I.hasOwnProp(n,o)?n[o]=[n[o],s]:n[o]=s,!a):((!n[o]||!I.isObject(n[o]))&&(n[o]=[]),e(i,s,n[o],r)&&I.isArray(n[o])&&(n[o]=$l(n[o])),!a)}if(I.isFormData(t)&&I.isFunction(t.entries)){const i={};return I.forEachEntry(t,(s,n)=>{e(Hl(s),n,i,0)}),i}return null}function kl(t,e,i){if(I.isString(t))try{return(e||JSON.parse)(t),I.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(i||JSON.stringify)(t)}const ei={transitional:Xr,adapter:["xhr","http","fetch"],transformRequest:[function(e,i){const s=i.getContentType()||"",n=s.indexOf("application/json")>-1,r=I.isObject(e);if(r&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return n?JSON.stringify(Zr(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e)||I.isReadableStream(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Vl(e,this.formSerializer).toString();if((a=I.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Hi(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||n?(i.setContentType("application/json",!1),kl(e)):e}],transformResponse:[function(e){const i=this.transitional||ei.transitional,s=i&&i.forcedJSONParsing,n=this.responseType==="json";if(I.isResponse(e)||I.isReadableStream(e))return e;if(e&&I.isString(e)&&(s&&!this.responseType||n)){const o=!(i&&i.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?G.from(a,G.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:J.classes.FormData,Blob:J.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],t=>{ei.headers[t]={}});const ql=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wl=t=>{const e={};let i,s,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),i=o.substring(0,n).trim().toLowerCase(),s=o.substring(n+1).trim(),!(!i||e[i]&&ql[i])&&(i==="set-cookie"?e[i]?e[i].push(s):e[i]=[s]:e[i]=e[i]?e[i]+", "+s:s)}),e},_n=Symbol("internals");function ft(t){return t&&String(t).trim().toLowerCase()}function vi(t){return t===!1||t==null?t:I.isArray(t)?t.map(vi):String(t)}function Yl(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=i.exec(t);)e[s[1]]=s[2];return e}const Xl=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ts(t,e,i,s,n){if(I.isFunction(s))return s.call(this,e,i);if(n&&(e=i),!!I.isString(e)){if(I.isString(s))return e.indexOf(s)!==-1;if(I.isRegExp(s))return s.test(e)}}function Zl(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,i,s)=>i.toUpperCase()+s)}function jl(t,e){const i=I.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+i,{value:function(n,r,o){return this[s].call(this,e,n,r,o)},configurable:!0})})}let oe=class{constructor(e){e&&this.set(e)}set(e,i,s){const n=this;function r(a,l,c){const d=ft(l);if(!d)throw new Error("header name must be a non-empty string");const h=I.findKey(n,d);(!h||n[h]===void 0||c===!0||c===void 0&&n[h]!==!1)&&(n[h||l]=vi(a))}const o=(a,l)=>I.forEach(a,(c,d)=>r(c,d,l));if(I.isPlainObject(e)||e instanceof this.constructor)o(e,i);else if(I.isString(e)&&(e=e.trim())&&!Xl(e))o(Wl(e),i);else if(I.isHeaders(e))for(const[a,l]of e.entries())r(l,a,s);else e!=null&&r(i,e,s);return this}get(e,i){if(e=ft(e),e){const s=I.findKey(this,e);if(s){const n=this[s];if(!i)return n;if(i===!0)return Yl(n);if(I.isFunction(i))return i.call(this,n,s);if(I.isRegExp(i))return i.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,i){if(e=ft(e),e){const s=I.findKey(this,e);return!!(s&&this[s]!==void 0&&(!i||ts(this,this[s],s,i)))}return!1}delete(e,i){const s=this;let n=!1;function r(o){if(o=ft(o),o){const a=I.findKey(s,o);a&&(!i||ts(s,s[a],a,i))&&(delete s[a],n=!0)}}return I.isArray(e)?e.forEach(r):r(e),n}clear(e){const i=Object.keys(this);let s=i.length,n=!1;for(;s--;){const r=i[s];(!e||ts(this,this[r],r,e,!0))&&(delete this[r],n=!0)}return n}normalize(e){const i=this,s={};return I.forEach(this,(n,r)=>{const o=I.findKey(s,r);if(o){i[o]=vi(n),delete i[r];return}const a=e?Zl(r):String(r).trim();a!==r&&delete i[r],i[a]=vi(n),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const i=Object.create(null);return I.forEach(this,(s,n)=>{s!=null&&s!==!1&&(i[n]=e&&I.isArray(s)?s.join(", "):s)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,i])=>e+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...i){const s=new this(e);return i.forEach(n=>s.set(n)),s}static accessor(e){const s=(this[_n]=this[_n]={accessors:{}}).accessors,n=this.prototype;function r(o){const a=ft(o);s[a]||(jl(n,o),s[a]=!0)}return I.isArray(e)?e.forEach(r):r(e),this}};oe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(oe.prototype,({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[i]=s}}});I.freezeMethods(oe);function is(t,e){const i=this||ei,s=e||i,n=oe.from(s.headers);let r=s.data;return I.forEach(t,function(a){r=a.call(i,r,n.normalize(),e?e.status:void 0)}),n.normalize(),r}function jr(t){return!!(t&&t.__CANCEL__)}function ct(t,e,i){G.call(this,t??"canceled",G.ERR_CANCELED,e,i),this.name="CanceledError"}I.inherits(ct,G,{__CANCEL__:!0});function Kr(t,e,i){const s=i.config.validateStatus;!i.status||!s||s(i.status)?t(i):e(new G("Request failed with status code "+i.status,[G.ERR_BAD_REQUEST,G.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Kl(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Ql(t,e){t=t||10;const i=new Array(t),s=new Array(t);let n=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=s[r];o||(o=c),i[n]=l,s[n]=c;let h=r,p=0;for(;h!==n;)p+=i[h++],h=h%t;if(n=(n+1)%t,n===r&&(r=(r+1)%t),c-o<e)return;const g=d&&c-d;return g?Math.round(p*1e3/g):void 0}}function Jl(t,e){let i=0,s=1e3/e,n,r;const o=(c,d=Date.now())=>{i=d,n=null,r&&(clearTimeout(r),r=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),h=d-i;h>=s?o(c,d):(n=c,r||(r=setTimeout(()=>{r=null,o(n)},s-h)))},()=>n&&o(n)]}const Ci=(t,e,i=3)=>{let s=0;const n=Ql(50,250);return Jl(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-s,c=n(l),d=o<=a;s=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},i)},yn=(t,e)=>{const i=t!=null;return[s=>e[0]({lengthComputable:i,total:t,loaded:s}),e[1]]},In=t=>(...e)=>I.asap(()=>t(...e)),ec=J.hasStandardBrowserEnv?((t,e)=>i=>(i=new URL(i,J.origin),t.protocol===i.protocol&&t.host===i.host&&(e||t.port===i.port)))(new URL(J.origin),J.navigator&&/(msie|trident)/i.test(J.navigator.userAgent)):()=>!0,tc=J.hasStandardBrowserEnv?{write(t,e,i,s,n,r){const o=[t+"="+encodeURIComponent(e)];I.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),I.isString(s)&&o.push("path="+s),I.isString(n)&&o.push("domain="+n),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ic(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function sc(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Qr(t,e,i){let s=!ic(e);return t&&(s||i==!1)?sc(t,e):e}const Tn=t=>t instanceof oe?{...t}:t;function Xe(t,e){e=e||{};const i={};function s(c,d,h,p){return I.isPlainObject(c)&&I.isPlainObject(d)?I.merge.call({caseless:p},c,d):I.isPlainObject(d)?I.merge({},d):I.isArray(d)?d.slice():d}function n(c,d,h,p){if(I.isUndefined(d)){if(!I.isUndefined(c))return s(void 0,c,h,p)}else return s(c,d,h,p)}function r(c,d){if(!I.isUndefined(d))return s(void 0,d)}function o(c,d){if(I.isUndefined(d)){if(!I.isUndefined(c))return s(void 0,c)}else return s(void 0,d)}function a(c,d,h){if(h in e)return s(c,d);if(h in t)return s(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,h)=>n(Tn(c),Tn(d),h,!0)};return I.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||n,p=h(t[d],e[d],d);I.isUndefined(p)&&h!==a||(i[d]=p)}),i}const Jr=t=>{const e=Xe({},t);let{data:i,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:r,headers:o,auth:a}=e;e.headers=o=oe.from(o),e.url=Yr(Qr(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(I.isFormData(i)){if(J.hasStandardBrowserEnv||J.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(J.hasStandardBrowserEnv&&(s&&I.isFunction(s)&&(s=s(e)),s||s!==!1&&ec(e.url))){const c=n&&r&&tc.read(r);c&&o.set(n,c)}return e},nc=typeof XMLHttpRequest<"u",rc=nc&&function(t){return new Promise(function(i,s){const n=Jr(t);let r=n.data;const o=oe.from(n.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=n,d,h,p,g,u;function m(){g&&g(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let E=new XMLHttpRequest;E.open(n.method.toUpperCase(),n.url,!0),E.timeout=n.timeout;function y(){if(!E)return;const _=oe.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),v={data:!a||a==="text"||a==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:_,config:t,request:E};Kr(function(C){i(C),m()},function(C){s(C),m()},v),E=null}"onloadend"in E?E.onloadend=y:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(y)},E.onabort=function(){E&&(s(new G("Request aborted",G.ECONNABORTED,t,E)),E=null)},E.onerror=function(){s(new G("Network Error",G.ERR_NETWORK,t,E)),E=null},E.ontimeout=function(){let T=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const v=n.transitional||Xr;n.timeoutErrorMessage&&(T=n.timeoutErrorMessage),s(new G(T,v.clarifyTimeoutError?G.ETIMEDOUT:G.ECONNABORTED,t,E)),E=null},r===void 0&&o.setContentType(null),"setRequestHeader"in E&&I.forEach(o.toJSON(),function(T,v){E.setRequestHeader(v,T)}),I.isUndefined(n.withCredentials)||(E.withCredentials=!!n.withCredentials),a&&a!=="json"&&(E.responseType=n.responseType),c&&([p,u]=Ci(c,!0),E.addEventListener("progress",p)),l&&E.upload&&([h,g]=Ci(l),E.upload.addEventListener("progress",h),E.upload.addEventListener("loadend",g)),(n.cancelToken||n.signal)&&(d=_=>{E&&(s(!_||_.type?new ct(null,t,E):_),E.abort(),E=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const f=Kl(n.url);if(f&&J.protocols.indexOf(f)===-1){s(new G("Unsupported protocol "+f+":",G.ERR_BAD_REQUEST,t));return}E.send(r||null)})},oc=(t,e)=>{const{length:i}=t=t?t.filter(Boolean):[];if(e||i){let s=new AbortController,n;const r=function(c){if(!n){n=!0,a();const d=c instanceof Error?c:this.reason;s.abort(d instanceof G?d:new ct(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,r(new G(`timeout ${e} of ms exceeded`,G.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),t=null)};t.forEach(c=>c.addEventListener("abort",r));const{signal:l}=s;return l.unsubscribe=()=>I.asap(a),l}},ac=function*(t,e){let i=t.byteLength;if(i<e){yield t;return}let s=0,n;for(;s<i;)n=s+e,yield t.slice(s,n),s=n},lc=async function*(t,e){for await(const i of cc(t))yield*ac(i,e)},cc=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:i,value:s}=await e.read();if(i)break;yield s}}finally{await e.cancel()}},vn=(t,e,i,s)=>{const n=lc(t,e);let r=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await n.next();if(c){a(),l.close();return}let h=d.byteLength;if(i){let p=r+=h;i(p)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),n.return()}},{highWaterMark:2})},$i=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",eo=$i&&typeof ReadableStream=="function",dc=$i&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),to=(t,...e)=>{try{return!!t(...e)}catch{return!1}},hc=eo&&to(()=>{let t=!1;const e=new Request(J.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Sn=64*1024,Es=eo&&to(()=>I.isReadableStream(new Response("").body)),Pi={stream:Es&&(t=>t.body)};$i&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Pi[e]&&(Pi[e]=I.isFunction(t[e])?i=>i[e]():(i,s)=>{throw new G(`Response type '${e}' is not supported`,G.ERR_NOT_SUPPORT,s)})})})(new Response);const uc=async t=>{if(t==null)return 0;if(I.isBlob(t))return t.size;if(I.isSpecCompliantForm(t))return(await new Request(J.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(I.isArrayBufferView(t)||I.isArrayBuffer(t))return t.byteLength;if(I.isURLSearchParams(t)&&(t=t+""),I.isString(t))return(await dc(t)).byteLength},pc=async(t,e)=>{const i=I.toFiniteNumber(t.getContentLength());return i??uc(e)},fc=$i&&(async t=>{let{url:e,method:i,data:s,signal:n,cancelToken:r,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:p}=Jr(t);c=c?(c+"").toLowerCase():"text";let g=oc([n,r&&r.toAbortSignal()],o),u;const m=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let E;try{if(l&&hc&&i!=="get"&&i!=="head"&&(E=await pc(d,s))!==0){let v=new Request(e,{method:"POST",body:s,duplex:"half"}),O;if(I.isFormData(s)&&(O=v.headers.get("content-type"))&&d.setContentType(O),v.body){const[C,w]=yn(E,Ci(In(l)));s=vn(v.body,Sn,C,w)}}I.isString(h)||(h=h?"include":"omit");const y="credentials"in Request.prototype;u=new Request(e,{...p,signal:g,method:i.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:y?h:void 0});let f=await fetch(u);const _=Es&&(c==="stream"||c==="response");if(Es&&(a||_&&m)){const v={};["status","statusText","headers"].forEach(D=>{v[D]=f[D]});const O=I.toFiniteNumber(f.headers.get("content-length")),[C,w]=a&&yn(O,Ci(In(a),!0))||[];f=new Response(vn(f.body,Sn,C,()=>{w&&w(),m&&m()}),v)}c=c||"text";let T=await Pi[I.findKey(Pi,c)||"text"](f,t);return!_&&m&&m(),await new Promise((v,O)=>{Kr(v,O,{data:T,headers:oe.from(f.headers),status:f.status,statusText:f.statusText,config:t,request:u})})}catch(y){throw m&&m(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new G("Network Error",G.ERR_NETWORK,t,u),{cause:y.cause||y}):G.from(y,y&&y.code,t,u)}}),_s={http:Dl,xhr:rc,fetch:fc};I.forEach(_s,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const wn=t=>`- ${t}`,gc=t=>I.isFunction(t)||t===null||t===!1,io={getAdapter:t=>{t=I.isArray(t)?t:[t];const{length:e}=t;let i,s;const n={};for(let r=0;r<e;r++){i=t[r];let o;if(s=i,!gc(i)&&(s=_s[(o=String(i)).toLowerCase()],s===void 0))throw new G(`Unknown adapter '${o}'`);if(s)break;n[o||"#"+r]=s}if(!s){const r=Object.entries(n).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(wn).join(`
`):" "+wn(r[0]):"as no adapter specified";throw new G("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:_s};function ss(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ct(null,t)}function bn(t){return ss(t),t.headers=oe.from(t.headers),t.data=is.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),io.getAdapter(t.adapter||ei.adapter)(t).then(function(s){return ss(t),s.data=is.call(t,t.transformResponse,s),s.headers=oe.from(s.headers),s},function(s){return jr(s)||(ss(t),s&&s.response&&(s.response.data=is.call(t,t.transformResponse,s.response),s.response.headers=oe.from(s.response.headers))),Promise.reject(s)})}const so="1.8.4",ki={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ki[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Rn={};ki.transitional=function(e,i,s){function n(r,o){return"[Axios v"+so+"] Transitional option '"+r+"'"+o+(s?". "+s:"")}return(r,o,a)=>{if(e===!1)throw new G(n(o," has been removed"+(i?" in "+i:"")),G.ERR_DEPRECATED);return i&&!Rn[o]&&(Rn[o]=!0,console.warn(n(o," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(r,o,a):!0}};ki.spelling=function(e){return(i,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function mc(t,e,i){if(typeof t!="object")throw new G("options must be an object",G.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let n=s.length;for(;n-- >0;){const r=s[n],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new G("option "+r+" must be "+l,G.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new G("Unknown option "+r,G.ERR_BAD_OPTION)}}const Si={assertOptions:mc,validators:ki},Se=Si.validators;let $e=class{constructor(e){this.defaults=e,this.interceptors={request:new En,response:new En}}async request(e,i){try{return await this._request(e,i)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const r=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=Xe(this.defaults,i);const{transitional:s,paramsSerializer:n,headers:r}=i;s!==void 0&&Si.assertOptions(s,{silentJSONParsing:Se.transitional(Se.boolean),forcedJSONParsing:Se.transitional(Se.boolean),clarifyTimeoutError:Se.transitional(Se.boolean)},!1),n!=null&&(I.isFunction(n)?i.paramsSerializer={serialize:n}:Si.assertOptions(n,{encode:Se.function,serialize:Se.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),Si.assertOptions(i,{baseUrl:Se.spelling("baseURL"),withXsrfToken:Se.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let o=r&&I.merge(r.common,r[i.method]);r&&I.forEach(["delete","get","head","post","put","patch","common"],u=>{delete r[u]}),i.headers=oe.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(i)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let d,h=0,p;if(!l){const u=[bn.bind(this),void 0];for(u.unshift.apply(u,a),u.push.apply(u,c),p=u.length,d=Promise.resolve(i);h<p;)d=d.then(u[h++],u[h++]);return d}p=a.length;let g=i;for(h=0;h<p;){const u=a[h++],m=a[h++];try{g=u(g)}catch(E){m.call(this,E);break}}try{d=bn.call(this,g)}catch(u){return Promise.reject(u)}for(h=0,p=c.length;h<p;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=Xe(this.defaults,e);const i=Qr(e.baseURL,e.url,e.allowAbsoluteUrls);return Yr(i,e.params,e.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(e){$e.prototype[e]=function(i,s){return this.request(Xe(s||{},{method:e,url:i,data:(s||{}).data}))}});I.forEach(["post","put","patch"],function(e){function i(s){return function(r,o,a){return this.request(Xe(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}$e.prototype[e]=i(),$e.prototype[e+"Form"]=i(!0)});let Ec=class no{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(r){i=r});const s=this;this.promise.then(n=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](n);s._listeners=null}),this.promise.then=n=>{let r;const o=new Promise(a=>{s.subscribe(a),r=a}).then(n);return o.cancel=function(){s.unsubscribe(r)},o},e(function(r,o,a){s.reason||(s.reason=new ct(r,o,a),i(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const e=new AbortController,i=s=>{e.abort(s)};return this.subscribe(i),e.signal.unsubscribe=()=>this.unsubscribe(i),e.signal}static source(){let e;return{token:new no(function(n){e=n}),cancel:e}}};function _c(t){return function(i){return t.apply(null,i)}}function yc(t){return I.isObject(t)&&t.isAxiosError===!0}const ys={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ys).forEach(([t,e])=>{ys[e]=t});function ro(t){const e=new $e(t),i=Fr($e.prototype.request,e);return I.extend(i,$e.prototype,e,{allOwnKeys:!0}),I.extend(i,e,null,{allOwnKeys:!0}),i.create=function(n){return ro(Xe(t,n))},i}const q=ro(ei);q.Axios=$e;q.CanceledError=ct;q.CancelToken=Ec;q.isCancel=jr;q.VERSION=so;q.toFormData=Hi;q.AxiosError=G;q.Cancel=q.CanceledError;q.all=function(e){return Promise.all(e)};q.spread=_c;q.isAxiosError=yc;q.mergeConfig=Xe;q.AxiosHeaders=oe;q.formToJSON=t=>Zr(I.isHTMLForm(t)?new FormData(t):t);q.getAdapter=io.getAdapter;q.HttpStatusCode=ys;q.default=q;const{Axios:Jm,AxiosError:eE,CanceledError:tE,isCancel:iE,CancelToken:sE,VERSION:nE,all:rE,Cancel:oE,isAxiosError:aE,spread:lE,toFormData:cE,AxiosHeaders:dE,HttpStatusCode:hE,formToJSON:uE,getAdapter:pE,mergeConfig:fE}=q,Ic={labelIdle:'Перетащите файлы или <span class="filepond--label-action"> выберите </span>',labelInvalidField:"Поле содержит недопустимые файлы",labelFileWaitingForSize:"Укажите размер",labelFileSizeNotAvailable:"Размер не поддерживается",labelFileLoading:"Ожидание",labelFileLoadError:"Ошибка при ожидании",labelFileProcessing:"Загрузка",labelFileProcessingComplete:"Загрузка завершена",labelFileProcessingAborted:"Загрузка отменена",labelFileProcessingError:"Ошибка при загрузке",labelFileProcessingRevertError:"Ошибка при возврате",labelFileRemoveError:"Ошибка при удалении",labelTapToCancel:"нажмите для отмены",labelTapToRetry:"нажмите, чтобы повторить попытку",labelTapToUndo:"нажмите для отмены последнего действия",labelButtonRemoveItem:"Удалить",labelButtonAbortItemLoad:"Прекращено",labelButtonRetryItemLoad:"Повторите попытку",labelButtonAbortItemProcessing:"Отмена",labelButtonUndoItemProcessing:"Отмена последнего действия",labelButtonRetryItemProcessing:"Повторите попытку",labelButtonProcessItem:"Загрузка",labelMaxFileSizeExceeded:"Файл слишком большой",labelMaxFileSize:"Максимальный размер файла: {filesize}",labelMaxTotalFileSizeExceeded:"Превышен максимальный размер",labelMaxTotalFileSize:"Максимальный размер файла: {filesize}",labelFileTypeNotAllowed:"Файл неверного типа",fileValidateTypeLabelExpectedTypes:"Ожидается {allButLastType} или {lastType}",imageValidateSizeLabelFormatError:"Тип изображения не поддерживается",imageValidateSizeLabelImageSizeTooSmall:"Изображение слишком маленькое",imageValidateSizeLabelImageSizeTooBig:"Изображение слишком большое",imageValidateSizeLabelExpectedMinSize:"Минимальный размер: {minWidth} × {minHeight}",imageValidateSizeLabelExpectedMaxSize:"Максимальный размер: {maxWidth} × {maxHeight}",imageValidateSizeLabelImageResolutionTooLow:"Разрешение слишком низкое",imageValidateSizeLabelImageResolutionTooHigh:"Разрешение слишком высокое",imageValidateSizeLabelExpectedMinResolution:"Минимальное разрешение: {minResolution}",imageValidateSizeLabelExpectedMaxResolution:"Максимальное разрешение: {maxResolution}"};/*!
 * FilePond 4.32.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Tc=t=>t instanceof HTMLElement,vc=(t,e=[],i=[])=>{const s={...t},n=[],r=[],o=()=>({...s}),a=()=>{const u=[...n];return n.length=0,u},l=()=>{const u=[...r];r.length=0,u.forEach(({type:m,data:E})=>{c(m,E)})},c=(u,m,E)=>{if(E&&!document.hidden){r.push({type:u,data:m});return}g[u]&&g[u](m),n.push({type:u,data:m})},d=(u,...m)=>p[u]?p[u](...m):null,h={getState:o,processActionQueue:a,processDispatchQueue:l,dispatch:c,query:d};let p={};e.forEach(u=>{p={...u(s),...p}});let g={};return i.forEach(u=>{g={...u(c,d,s),...g}}),h},Sc=(t,e,i)=>{if(typeof i=="function"){t[e]=i;return}Object.defineProperty(t,e,{...i})},$=(t,e)=>{for(const i in t)t.hasOwnProperty(i)&&e(i,t[i])},Me=t=>{const e={};return $(t,i=>{Sc(e,i,t[i])}),e},j=(t,e,i=null)=>{if(i===null)return t.getAttribute(e)||t.hasAttribute(e);t.setAttribute(e,i)},wc="http://www.w3.org/2000/svg",bc=["svg","path"],On=t=>bc.includes(t),Li=(t,e,i={})=>{typeof e=="object"&&(i=e,e=null);const s=On(t)?document.createElementNS(wc,t):document.createElement(t);return e&&(On(t)?j(s,"class",e):s.className=e),$(i,(n,r)=>{j(s,n,r)}),s},Rc=t=>(e,i)=>{typeof i<"u"&&t.children[i]?t.insertBefore(e,t.children[i]):t.appendChild(e)},Oc=(t,e)=>(i,s)=>(typeof s<"u"?e.splice(s,0,i):e.push(i),i),Ac=(t,e)=>i=>(e.splice(e.indexOf(i),1),i.element.parentNode&&t.removeChild(i.element),i),Dc=typeof window<"u"&&typeof window.document<"u",oo=()=>Dc,Cc=oo()?Li("svg"):{},Pc="children"in Cc?t=>t.children.length:t=>t.childNodes.length,ao=(t,e,i,s)=>{const n=i[0]||t.left,r=i[1]||t.top,o=n+t.width,a=r+t.height*(s[1]||1),l={element:{...t},inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:n,top:r,right:o,bottom:a}};return e.filter(c=>!c.isRectIgnored()).map(c=>c.rect).forEach(c=>{An(l.inner,{...c.inner}),An(l.outer,{...c.outer})}),Dn(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,Dn(l.outer),l},An=(t,e)=>{e.top+=t.top,e.right+=t.left,e.bottom+=t.top,e.left+=t.left,e.bottom>t.bottom&&(t.bottom=e.bottom),e.right>t.right&&(t.right=e.right)},Dn=t=>{t.width=t.right-t.left,t.height=t.bottom-t.top},Ue=t=>typeof t=="number",Lc=(t,e,i,s=.001)=>Math.abs(t-e)<s&&Math.abs(i)<s,Mc=({stiffness:t=.5,damping:e=.75,mass:i=10}={})=>{let s=null,n=null,r=0,o=!1;const c=Me({interpolate:(d,h)=>{if(o)return;if(!(Ue(s)&&Ue(n))){o=!0,r=0;return}const p=-(n-s)*t;r+=p/i,n+=r,r*=e,Lc(n,s,r)||h?(n=s,r=0,o=!0,c.onupdate(n),c.oncomplete(n)):c.onupdate(n)},target:{set:d=>{if(Ue(d)&&!Ue(n)&&(n=d),s===null&&(s=d,n=d),s=d,n===s||typeof s>"u"){o=!0,r=0,c.onupdate(n),c.oncomplete(n);return}o=!1},get:()=>s},resting:{get:()=>o},onupdate:d=>{},oncomplete:d=>{}});return c},xc=t=>t<.5?2*t*t:-1+(4-2*t)*t,Nc=({duration:t=500,easing:e=xc,delay:i=0}={})=>{let s=null,n,r,o=!0,a=!1,l=null;const d=Me({interpolate:(h,p)=>{o||l===null||(s===null&&(s=h),!(h-s<i)&&(n=h-s-i,n>=t||p?(n=1,r=a?0:1,d.onupdate(r*l),d.oncomplete(r*l),o=!0):(r=n/t,d.onupdate((n>=0?e(a?1-r:r):0)*l))))},target:{get:()=>a?0:l,set:h=>{if(l===null){l=h,d.onupdate(h),d.oncomplete(h);return}h<l?(l=1,a=!0):(a=!1,l=h),o=!1,s=null}},resting:{get:()=>o},onupdate:h=>{},oncomplete:h=>{}});return d},Cn={spring:Mc,tween:Nc},Fc=(t,e,i)=>{const s=t[e]&&typeof t[e][i]=="object"?t[e][i]:t[e]||t,n=typeof s=="string"?s:s.type,r=typeof s=="object"?{...s}:{};return Cn[n]?Cn[n](r):null},$s=(t,e,i,s=!1)=>{e=Array.isArray(e)?e:[e],e.forEach(n=>{t.forEach(r=>{let o=r,a=()=>i[r],l=c=>i[r]=c;typeof r=="object"&&(o=r.key,a=r.getter||a,l=r.setter||l),!(n[o]&&!s)&&(n[o]={get:a,set:l})})})},Bc=({mixinConfig:t,viewProps:e,viewInternalAPI:i,viewExternalAPI:s})=>{const n={...e},r=[];return $(t,(o,a)=>{const l=Fc(a);if(!l)return;l.onupdate=d=>{e[o]=d},l.target=n[o],$s([{key:o,setter:d=>{l.target!==d&&(l.target=d)},getter:()=>e[o]}],[i,s],e,!0),r.push(l)}),{write:o=>{let a=document.hidden,l=!0;return r.forEach(c=>{c.resting||(l=!1),c.interpolate(o,a)}),l},destroy:()=>{}}},Gc=t=>(e,i)=>{t.addEventListener(e,i)},Uc=t=>(e,i)=>{t.removeEventListener(e,i)},zc=({mixinConfig:t,viewProps:e,viewInternalAPI:i,viewExternalAPI:s,viewState:n,view:r})=>{const o=[],a=Gc(r.element),l=Uc(r.element);return s.on=(c,d)=>{o.push({type:c,fn:d}),a(c,d)},s.off=(c,d)=>{o.splice(o.findIndex(h=>h.type===c&&h.fn===d),1),l(c,d)},{write:()=>!0,destroy:()=>{o.forEach(c=>{l(c.type,c.fn)})}}},Vc=({mixinConfig:t,viewProps:e,viewExternalAPI:i})=>{$s(t,i,e)},ee=t=>t!=null,Hc={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},$c=({mixinConfig:t,viewProps:e,viewInternalAPI:i,viewExternalAPI:s,view:n})=>{const r={...e},o={};$s(t,[i,s],e);const a=()=>[e.translateX||0,e.translateY||0],l=()=>[e.scaleX||0,e.scaleY||0],c=()=>n.rect?ao(n.rect,n.childViews,a(),l()):null;return i.rect={get:c},s.rect={get:c},t.forEach(d=>{e[d]=typeof r[d]>"u"?Hc[d]:r[d]}),{write:()=>{if(kc(o,e))return qc(n.element,e),Object.assign(o,{...e}),!0},destroy:()=>{}}},kc=(t,e)=>{if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const i in e)if(e[i]!==t[i])return!0;return!1},qc=(t,{opacity:e,perspective:i,translateX:s,translateY:n,scaleX:r,scaleY:o,rotateX:a,rotateY:l,rotateZ:c,originX:d,originY:h,width:p,height:g})=>{let u="",m="";(ee(d)||ee(h))&&(m+=`transform-origin: ${d||0}px ${h||0}px;`),ee(i)&&(u+=`perspective(${i}px) `),(ee(s)||ee(n))&&(u+=`translate3d(${s||0}px, ${n||0}px, 0) `),(ee(r)||ee(o))&&(u+=`scale3d(${ee(r)?r:1}, ${ee(o)?o:1}, 1) `),ee(c)&&(u+=`rotateZ(${c}rad) `),ee(a)&&(u+=`rotateX(${a}rad) `),ee(l)&&(u+=`rotateY(${l}rad) `),u.length&&(m+=`transform:${u};`),ee(e)&&(m+=`opacity:${e};`,e===0&&(m+="visibility:hidden;"),e<1&&(m+="pointer-events:none;")),ee(g)&&(m+=`height:${g}px;`),ee(p)&&(m+=`width:${p}px;`);const E=t.elementCurrentStyle||"";(m.length!==E.length||m!==E)&&(t.style.cssText=m,t.elementCurrentStyle=m)},Wc={styles:$c,listeners:zc,animations:Bc,apis:Vc},Pn=(t={},e={},i={})=>(e.layoutCalculated||(t.paddingTop=parseInt(i.paddingTop,10)||0,t.marginTop=parseInt(i.marginTop,10)||0,t.marginRight=parseInt(i.marginRight,10)||0,t.marginBottom=parseInt(i.marginBottom,10)||0,t.marginLeft=parseInt(i.marginLeft,10)||0,e.layoutCalculated=!0),t.left=e.offsetLeft||0,t.top=e.offsetTop||0,t.width=e.offsetWidth||0,t.height=e.offsetHeight||0,t.right=t.left+t.width,t.bottom=t.top+t.height,t.scrollTop=e.scrollTop,t.hidden=e.offsetParent===null,t),X=({tag:t="div",name:e=null,attributes:i={},read:s=()=>{},write:n=()=>{},create:r=()=>{},destroy:o=()=>{},filterFrameActionsForChild:a=(g,u)=>u,didCreateView:l=()=>{},didWriteView:c=()=>{},ignoreRect:d=!1,ignoreRectUpdate:h=!1,mixins:p=[]}={})=>(g,u={})=>{const m=Li(t,`filepond--${e}`,i),E=window.getComputedStyle(m,null),y=Pn();let f=null,_=!1;const T=[],v=[],O={},C={},w=[n],D=[s],x=[o],P=()=>m,L=()=>T.concat(),V=()=>O,A=z=>(Q,Oe)=>Q(z,Oe),U=()=>f||(f=ao(y,T,[0,0],[1,1]),f),b=()=>E,R=()=>{f=null,T.forEach(Oe=>Oe._read()),!(h&&y.width&&y.height)&&Pn(y,m,E);const Q={root:Ee,props:u,rect:y};D.forEach(Oe=>Oe(Q))},M=(z,Q,Oe)=>{let Ke=Q.length===0;return w.forEach(se=>{se({props:u,root:Ee,actions:Q,timestamp:z,shouldOptimize:Oe})===!1&&(Ke=!1)}),v.forEach(se=>{se.write(z)===!1&&(Ke=!1)}),T.filter(se=>!!se.element.parentNode).forEach(se=>{se._write(z,a(se,Q),Oe)||(Ke=!1)}),T.forEach((se,oi)=>{se.element.parentNode||(Ee.appendChild(se.element,oi),se._read(),se._write(z,a(se,Q),Oe),Ke=!1)}),_=Ke,c({props:u,root:Ee,actions:Q,timestamp:z}),Ke},N=()=>{v.forEach(z=>z.destroy()),x.forEach(z=>{z({root:Ee,props:u})}),T.forEach(z=>z._destroy())},H={element:{get:P},style:{get:b},childViews:{get:L}},B={...H,rect:{get:U},ref:{get:V},is:z=>e===z,appendChild:Rc(m),createChildView:A(g),linkView:z=>(T.push(z),z),unlinkView:z=>{T.splice(T.indexOf(z),1)},appendChildView:Oc(m,T),removeChildView:Ac(m,T),registerWriter:z=>w.push(z),registerReader:z=>D.push(z),registerDestroyer:z=>x.push(z),invalidateLayout:()=>m.layoutCalculated=!1,dispatch:g.dispatch,query:g.query},Ne={element:{get:P},childViews:{get:L},rect:{get:U},resting:{get:()=>_},isRectIgnored:()=>d,_read:R,_write:M,_destroy:N},pt={...H,rect:{get:()=>y}};Object.keys(p).sort((z,Q)=>z==="styles"?1:Q==="styles"?-1:0).forEach(z=>{const Q=Wc[z]({mixinConfig:p[z],viewProps:u,viewState:C,viewInternalAPI:B,viewExternalAPI:Ne,view:Me(pt)});Q&&v.push(Q)});const Ee=Me(B);r({root:Ee,props:u});const es=Pc(m);return T.forEach((z,Q)=>{Ee.appendChild(z.element,es+Q)}),l(Ee),Me(Ne)},Yc=(t,e,i=60)=>{const s="__framePainter";if(window[s]){window[s].readers.push(t),window[s].writers.push(e);return}window[s]={readers:[t],writers:[e]};const n=window[s],r=1e3/i;let o=null,a=null,l=null,c=null;const d=()=>{document.hidden?(l=()=>window.setTimeout(()=>h(performance.now()),r),c=()=>window.clearTimeout(a)):(l=()=>window.requestAnimationFrame(h),c=()=>window.cancelAnimationFrame(a))};document.addEventListener("visibilitychange",()=>{c&&c(),d(),h(performance.now())});const h=p=>{a=l(h),o||(o=p);const g=p-o;g<=r||(o=p-g%r,n.readers.forEach(u=>u()),n.writers.forEach(u=>u(p)))};return d(),h(performance.now()),{pause:()=>{c(a)}}},ie=(t,e)=>({root:i,props:s,actions:n=[],timestamp:r,shouldOptimize:o})=>{n.filter(a=>t[a.type]).forEach(a=>t[a.type]({root:i,props:s,action:a.data,timestamp:r,shouldOptimize:o})),e&&e({root:i,props:s,actions:n,timestamp:r,shouldOptimize:o})},Ln=(t,e)=>e.parentNode.insertBefore(t,e),Mn=(t,e)=>e.parentNode.insertBefore(t,e.nextSibling),qi=t=>Array.isArray(t),Ae=t=>t==null,Xc=t=>t.trim(),Wi=t=>""+t,Zc=(t,e=",")=>Ae(t)?[]:qi(t)?t:Wi(t).split(e).map(Xc).filter(i=>i.length),lo=t=>typeof t=="boolean",co=t=>lo(t)?t:t==="true",te=t=>typeof t=="string",ho=t=>Ue(t)?t:te(t)?Wi(t).replace(/[a-z]+/gi,""):0,wi=t=>parseInt(ho(t),10),xn=t=>parseFloat(ho(t)),dt=t=>Ue(t)&&isFinite(t)&&Math.floor(t)===t,Nn=(t,e=1e3)=>{if(dt(t))return t;let i=Wi(t).trim();return/MB$/i.test(i)?(i=i.replace(/MB$i/,"").trim(),wi(i)*e*e):/KB/i.test(i)?(i=i.replace(/KB$i/,"").trim(),wi(i)*e):wi(i)},ze=t=>typeof t=="function",jc=t=>{let e=self,i=t.split("."),s=null;for(;s=i.shift();)if(e=e[s],!e)return null;return e},Fn={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},Kc=t=>{const e={};return e.url=te(t)?t:t.url||"",e.timeout=t.timeout?parseInt(t.timeout,10):0,e.headers=t.headers?t.headers:{},$(Fn,i=>{e[i]=Qc(i,t[i],Fn[i],e.timeout,e.headers)}),e.process=t.process||te(t)||t.url?e.process:null,e.remove=t.remove||null,delete e.headers,e},Qc=(t,e,i,s,n)=>{if(e===null)return null;if(typeof e=="function")return e;const r={url:i==="GET"||i==="PATCH"?`?${t}=`:"",method:i,headers:n,withCredentials:!1,timeout:s,onload:null,ondata:null,onerror:null};if(te(e))return r.url=e,r;if(Object.assign(r,e),te(r.headers)){const o=r.headers.split(/:(.+)/);r.headers={header:o[0],value:o[1]}}return r.withCredentials=co(r.withCredentials),r},Jc=t=>Kc(t),ed=t=>t===null,K=t=>typeof t=="object"&&t!==null,td=t=>K(t)&&te(t.url)&&K(t.process)&&K(t.revert)&&K(t.restore)&&K(t.fetch),Is=t=>qi(t)?"array":ed(t)?"null":dt(t)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)?"bytes":td(t)?"api":typeof t,id=t=>t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),sd={array:Zc,boolean:co,int:t=>Is(t)==="bytes"?Nn(t):wi(t),number:xn,float:xn,bytes:Nn,string:t=>ze(t)?t:Wi(t),function:t=>jc(t),serverapi:Jc,object:t=>{try{return JSON.parse(id(t))}catch{return null}}},nd=(t,e)=>sd[e](t),uo=(t,e,i)=>{if(t===e)return t;let s=Is(t);if(s!==i){const n=nd(t,i);if(s=Is(n),n===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${i}"`;t=n}return t},rd=(t,e)=>{let i=t;return{enumerable:!0,get:()=>i,set:s=>{i=uo(s,t,e)}}},od=t=>{const e={};return $(t,i=>{const s=t[i];e[i]=rd(s[0],s[1])}),Me(e)},ad=t=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:od(t)}),Yi=(t,e="-")=>t.split(/(?=[A-Z])/).map(i=>i.toLowerCase()).join(e),ld=(t,e)=>{const i={};return $(e,s=>{i[s]={get:()=>t.getState().options[s],set:n=>{t.dispatch(`SET_${Yi(s,"_").toUpperCase()}`,{value:n})}}}),i},cd=t=>(e,i,s)=>{const n={};return $(t,r=>{const o=Yi(r,"_").toUpperCase();n[`SET_${o}`]=a=>{try{s.options[r]=a.value}catch{}e(`DID_SET_${o}`,{value:s.options[r]})}}),n},dd=t=>e=>{const i={};return $(t,s=>{i[`GET_${Yi(s,"_").toUpperCase()}`]=n=>e.options[s]}),i},ge={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},ks=()=>Math.random().toString(36).substring(2,11),qs=(t,e)=>t.splice(e,1),hd=(t,e)=>{e?t():document.hidden?Promise.resolve(1).then(t):setTimeout(t,0)},Xi=()=>{const t=[],e=(s,n)=>{qs(t,t.findIndex(r=>r.event===s&&(r.cb===n||!n)))},i=(s,n,r)=>{t.filter(o=>o.event===s).map(o=>o.cb).forEach(o=>hd(()=>o(...n),r))};return{fireSync:(s,...n)=>{i(s,n,!0)},fire:(s,...n)=>{i(s,n,!1)},on:(s,n)=>{t.push({event:s,cb:n})},onOnce:(s,n)=>{t.push({event:s,cb:(...r)=>{e(s,n),n(...r)}})},off:e}},po=(t,e,i)=>{Object.getOwnPropertyNames(t).filter(s=>!i.includes(s)).forEach(s=>Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s)))},ud=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],ne=t=>{const e={};return po(t,e,ud),e},pd=t=>{t.forEach((e,i)=>{e.released&&qs(t,i)})},F={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Z={INPUT:1,LIMBO:2,LOCAL:3},fo=t=>/[^0-9]+/.exec(t),go=()=>fo(1.1.toLocaleString())[0],fd=()=>{const t=go(),e=1e3.toLocaleString();return e!=="1000"?fo(e)[0]:t==="."?",":"."},S={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Ws=[],_e=(t,e,i)=>new Promise((s,n)=>{const r=Ws.filter(a=>a.key===t).map(a=>a.cb);if(r.length===0){s(e);return}const o=r.shift();r.reduce((a,l)=>a.then(c=>l(c,i)),o(e,i)).then(a=>s(a)).catch(a=>n(a))}),Ze=(t,e,i)=>Ws.filter(s=>s.key===t).map(s=>s.cb(e,i)),gd=(t,e)=>Ws.push({key:t,cb:e}),md=t=>Object.assign(it,t),Mi=()=>({...it}),Ed=t=>{$(t,(e,i)=>{it[e]&&(it[e][0]=uo(i,it[e][0],it[e][1]))})},it={id:[null,S.STRING],name:["filepond",S.STRING],disabled:[!1,S.BOOLEAN],className:[null,S.STRING],required:[!1,S.BOOLEAN],captureMethod:[null,S.STRING],allowSyncAcceptAttribute:[!0,S.BOOLEAN],allowDrop:[!0,S.BOOLEAN],allowBrowse:[!0,S.BOOLEAN],allowPaste:[!0,S.BOOLEAN],allowMultiple:[!1,S.BOOLEAN],allowReplace:[!0,S.BOOLEAN],allowRevert:[!0,S.BOOLEAN],allowRemove:[!0,S.BOOLEAN],allowProcess:[!0,S.BOOLEAN],allowReorder:[!1,S.BOOLEAN],allowDirectoriesOnly:[!1,S.BOOLEAN],storeAsFile:[!1,S.BOOLEAN],forceRevert:[!1,S.BOOLEAN],maxFiles:[null,S.INT],checkValidity:[!1,S.BOOLEAN],itemInsertLocationFreedom:[!0,S.BOOLEAN],itemInsertLocation:["before",S.STRING],itemInsertInterval:[75,S.INT],dropOnPage:[!1,S.BOOLEAN],dropOnElement:[!0,S.BOOLEAN],dropValidation:[!1,S.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],S.ARRAY],instantUpload:[!0,S.BOOLEAN],maxParallelUploads:[2,S.INT],allowMinimumUploadDuration:[!0,S.BOOLEAN],chunkUploads:[!1,S.BOOLEAN],chunkForce:[!1,S.BOOLEAN],chunkSize:[5e6,S.INT],chunkRetryDelays:[[500,1e3,3e3],S.ARRAY],server:[null,S.SERVER_API],fileSizeBase:[1e3,S.INT],labelFileSizeBytes:["bytes",S.STRING],labelFileSizeKilobytes:["KB",S.STRING],labelFileSizeMegabytes:["MB",S.STRING],labelFileSizeGigabytes:["GB",S.STRING],labelDecimalSeparator:[go(),S.STRING],labelThousandsSeparator:[fd(),S.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',S.STRING],labelInvalidField:["Field contains invalid files",S.STRING],labelFileWaitingForSize:["Waiting for size",S.STRING],labelFileSizeNotAvailable:["Size not available",S.STRING],labelFileCountSingular:["file in list",S.STRING],labelFileCountPlural:["files in list",S.STRING],labelFileLoading:["Loading",S.STRING],labelFileAdded:["Added",S.STRING],labelFileLoadError:["Error during load",S.STRING],labelFileRemoved:["Removed",S.STRING],labelFileRemoveError:["Error during remove",S.STRING],labelFileProcessing:["Uploading",S.STRING],labelFileProcessingComplete:["Upload complete",S.STRING],labelFileProcessingAborted:["Upload cancelled",S.STRING],labelFileProcessingError:["Error during upload",S.STRING],labelFileProcessingRevertError:["Error during revert",S.STRING],labelTapToCancel:["tap to cancel",S.STRING],labelTapToRetry:["tap to retry",S.STRING],labelTapToUndo:["tap to undo",S.STRING],labelButtonRemoveItem:["Remove",S.STRING],labelButtonAbortItemLoad:["Abort",S.STRING],labelButtonRetryItemLoad:["Retry",S.STRING],labelButtonAbortItemProcessing:["Cancel",S.STRING],labelButtonUndoItemProcessing:["Undo",S.STRING],labelButtonRetryItemProcessing:["Retry",S.STRING],labelButtonProcessItem:["Upload",S.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',S.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',S.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',S.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',S.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',S.STRING],oninit:[null,S.FUNCTION],onwarning:[null,S.FUNCTION],onerror:[null,S.FUNCTION],onactivatefile:[null,S.FUNCTION],oninitfile:[null,S.FUNCTION],onaddfilestart:[null,S.FUNCTION],onaddfileprogress:[null,S.FUNCTION],onaddfile:[null,S.FUNCTION],onprocessfilestart:[null,S.FUNCTION],onprocessfileprogress:[null,S.FUNCTION],onprocessfileabort:[null,S.FUNCTION],onprocessfilerevert:[null,S.FUNCTION],onprocessfile:[null,S.FUNCTION],onprocessfiles:[null,S.FUNCTION],onremovefile:[null,S.FUNCTION],onpreparefile:[null,S.FUNCTION],onupdatefiles:[null,S.FUNCTION],onreorderfiles:[null,S.FUNCTION],beforeDropFile:[null,S.FUNCTION],beforeAddFile:[null,S.FUNCTION],beforeRemoveFile:[null,S.FUNCTION],beforePrepareFile:[null,S.FUNCTION],stylePanelLayout:[null,S.STRING],stylePanelAspectRatio:[null,S.STRING],styleItemPanelAspectRatio:[null,S.STRING],styleButtonRemoveItemPosition:["left",S.STRING],styleButtonProcessItemPosition:["right",S.STRING],styleLoadIndicatorPosition:["right",S.STRING],styleProgressIndicatorPosition:["right",S.STRING],styleButtonRemoveItemAlign:[!1,S.BOOLEAN],files:[[],S.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],S.ARRAY]},Ve=(t,e)=>Ae(e)?t[0]||null:dt(e)?t[e]||null:(typeof e=="object"&&(e=e.id),t.find(i=>i.id===e)||null),mo=t=>{if(Ae(t))return t;if(/:/.test(t)){const e=t.split(":");return e[1]/e[0]}return parseFloat(t)},ye=t=>t.filter(e=>!e.archived),Eo={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let ai=null;const _d=()=>{if(ai===null)try{const t=new DataTransfer;t.items.add(new File(["hello world"],"This_Works.txt"));const e=document.createElement("input");e.setAttribute("type","file"),e.files=t.files,ai=e.files.length===1}catch{ai=!1}return ai},yd=[F.LOAD_ERROR,F.PROCESSING_ERROR,F.PROCESSING_REVERT_ERROR],Id=[F.LOADING,F.PROCESSING,F.PROCESSING_QUEUED,F.INIT],Td=[F.PROCESSING_COMPLETE],vd=t=>yd.includes(t.status),Sd=t=>Id.includes(t.status),wd=t=>Td.includes(t.status),Bn=t=>K(t.options.server)&&(K(t.options.server.process)||ze(t.options.server.process)),bd=t=>({GET_STATUS:()=>{const e=ye(t.items),{EMPTY:i,ERROR:s,BUSY:n,IDLE:r,READY:o}=Eo;return e.length===0?i:e.some(vd)?s:e.some(Sd)?n:e.some(wd)?o:r},GET_ITEM:e=>Ve(t.items,e),GET_ACTIVE_ITEM:e=>Ve(ye(t.items),e),GET_ACTIVE_ITEMS:()=>ye(t.items),GET_ITEMS:()=>t.items,GET_ITEM_NAME:e=>{const i=Ve(t.items,e);return i?i.filename:null},GET_ITEM_SIZE:e=>{const i=Ve(t.items,e);return i?i.fileSize:null},GET_STYLES:()=>Object.keys(t.options).filter(e=>/^style/.test(e)).map(e=>({name:e,value:t.options[e]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(t.options.stylePanelLayout)?1:mo(t.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>t.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:e=>ye(t.items).filter(i=>i.status===e),GET_TOTAL_ITEMS:()=>ye(t.items).length,SHOULD_UPDATE_FILE_INPUT:()=>t.options.storeAsFile&&_d()&&!Bn(t),IS_ASYNC:()=>Bn(t),GET_FILE_SIZE_LABELS:e=>({labelBytes:e("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:e("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:e("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:e("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),Rd=t=>{const e=ye(t.items).length;if(!t.options.allowMultiple)return e===0;const i=t.options.maxFiles;return i===null||e<i},_o=(t,e,i)=>Math.max(Math.min(i,t),e),Od=(t,e,i)=>t.splice(e,0,i),Ad=(t,e,i)=>Ae(e)?null:typeof i>"u"?(t.push(e),e):(i=_o(i,0,t.length),Od(t,i,e),e),Ts=t=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t),ti=t=>`${t}`.split("/").pop().split("?").shift(),Zi=t=>t.split(".").pop(),Dd=t=>{if(typeof t!="string")return"";const e=t.split("/").pop();return/svg/.test(e)?"svg":/zip|compressed/.test(e)?"zip":/plain/.test(e)?"txt":/msword/.test(e)?"doc":/[a-z]+/.test(e)?e==="jpeg"?"jpg":e:""},gt=(t,e="")=>(e+t).slice(-e.length),yo=(t=new Date)=>`${t.getFullYear()}-${gt(t.getMonth()+1,"00")}-${gt(t.getDate(),"00")}_${gt(t.getHours(),"00")}-${gt(t.getMinutes(),"00")}-${gt(t.getSeconds(),"00")}`,ot=(t,e,i=null,s=null)=>{const n=typeof i=="string"?t.slice(0,t.size,i):t.slice(0,t.size,t.type);return n.lastModifiedDate=new Date,t._relativePath&&(n._relativePath=t._relativePath),te(e)||(e=yo()),e&&s===null&&Zi(e)?n.name=e:(s=s||Dd(n.type),n.name=e+(s?"."+s:"")),n},Cd=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Io=(t,e)=>{const i=Cd();if(i){const s=new i;return s.append(t),s.getBlob(e)}return new Blob([t],{type:e})},Pd=(t,e)=>{const i=new ArrayBuffer(t.length),s=new Uint8Array(i);for(let n=0;n<t.length;n++)s[n]=t.charCodeAt(n);return Io(i,e)},To=t=>(/^data:(.+);/.exec(t)||[])[1]||null,Ld=t=>t.split(",")[1].replace(/\s/g,""),Md=t=>atob(Ld(t)),xd=t=>{const e=To(t),i=Md(t);return Pd(i,e)},Nd=(t,e,i)=>ot(xd(t),e,null,i),Fd=t=>{if(!/^content-disposition:/i.test(t))return null;const e=t.split(/filename=|filename\*=.+''/).splice(1).map(i=>i.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(i=>i.length);return e.length?decodeURI(e[e.length-1]):null},Bd=t=>{if(/content-length:/i.test(t)){const e=t.match(/[0-9]+/)[0];return e?parseInt(e,10):null}return null},Gd=t=>/x-content-transfer-id:/i.test(t)&&(t.split(":")[1]||"").trim()||null,Ys=t=>{const e={source:null,name:null,size:null},i=t.split(`
`);for(let s of i){const n=Fd(s);if(n){e.name=n;continue}const r=Bd(s);if(r){e.size=r;continue}const o=Gd(s);if(o){e.source=o;continue}}return e},Ud=t=>{const e={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},i=()=>e.progress,s=()=>{e.request&&e.request.abort&&e.request.abort()},n=()=>{const a=e.source;o.fire("init",a),a instanceof File?o.fire("load",a):a instanceof Blob?o.fire("load",ot(a,a.name)):Ts(a)?o.fire("load",Nd(a)):r(a)},r=a=>{if(!t){o.fire("error",{type:"error",body:"Can't load URL",code:400});return}e.timestamp=Date.now(),e.request=t(a,l=>{e.duration=Date.now()-e.timestamp,e.complete=!0,l instanceof Blob&&(l=ot(l,l.name||ti(a))),o.fire("load",l instanceof Blob?l:l?l.body:null)},l=>{o.fire("error",typeof l=="string"?{type:"error",code:0,body:l}:l)},(l,c,d)=>{if(d&&(e.size=d),e.duration=Date.now()-e.timestamp,!l){e.progress=null;return}e.progress=c/d,o.fire("progress",e.progress)},()=>{o.fire("abort")},l=>{const c=Ys(typeof l=="string"?l:l.headers);o.fire("meta",{size:e.size||c.size,filename:c.name,source:c.source})})},o={...Xi(),setSource:a=>e.source=a,getProgress:i,abort:s,load:n};return o},Gn=t=>/GET|HEAD/.test(t),ke=(t,e,i)=>{const s={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{n=!0,o.abort()}};let n=!1,r=!1;i={method:"POST",headers:{},withCredentials:!1,...i},e=encodeURI(e),Gn(i.method)&&t&&(e=`${e}${encodeURIComponent(typeof t=="string"?t:JSON.stringify(t))}`);const o=new XMLHttpRequest,a=Gn(i.method)?o:o.upload;return a.onprogress=l=>{n||s.onprogress(l.lengthComputable,l.loaded,l.total)},o.onreadystatechange=()=>{o.readyState<2||o.readyState===4&&o.status===0||r||(r=!0,s.onheaders(o))},o.onload=()=>{o.status>=200&&o.status<300?s.onload(o):s.onerror(o)},o.onerror=()=>s.onerror(o),o.onabort=()=>{n=!0,s.onabort()},o.ontimeout=()=>s.ontimeout(o),o.open(i.method,e,!0),dt(i.timeout)&&(o.timeout=i.timeout),Object.keys(i.headers).forEach(l=>{const c=unescape(encodeURIComponent(i.headers[l]));o.setRequestHeader(l,c)}),i.responseType&&(o.responseType=i.responseType),i.withCredentials&&(o.withCredentials=!0),o.send(t),s},k=(t,e,i,s)=>({type:t,code:e,body:i,headers:s}),qe=t=>e=>{t(k("error",0,"Timeout",e.getAllResponseHeaders()))},Un=t=>/\?/.test(t),Yt=(...t)=>{let e="";return t.forEach(i=>{e+=Un(e)&&Un(i)?i.replace(/\?/,"&"):i}),e},ns=(t="",e)=>{if(typeof e=="function")return e;if(!e||!te(e.url))return null;const i=e.onload||(n=>n),s=e.onerror||(n=>null);return(n,r,o,a,l,c)=>{const d=ke(n,Yt(t,e.url),{...e,responseType:"blob"});return d.onload=h=>{const p=h.getAllResponseHeaders(),g=Ys(p).name||ti(n);r(k("load",h.status,e.method==="HEAD"?null:ot(i(h.response),g),p))},d.onerror=h=>{o(k("error",h.status,s(h.response)||h.statusText,h.getAllResponseHeaders()))},d.onheaders=h=>{c(k("headers",h.status,null,h.getAllResponseHeaders()))},d.ontimeout=qe(o),d.onprogress=a,d.onabort=l,d}},de={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},zd=(t,e,i,s,n,r,o,a,l,c,d)=>{const h=[],{chunkTransferId:p,chunkServer:g,chunkSize:u,chunkRetryDelays:m}=d,E={serverId:p,aborted:!1},y=e.ondata||(A=>A),f=e.onload||((A,U)=>U==="HEAD"?A.getResponseHeader("Upload-Offset"):A.response),_=e.onerror||(A=>null),T=A=>{const U=new FormData;K(n)&&U.append(i,JSON.stringify(n));const b=typeof e.headers=="function"?e.headers(s,n):{...e.headers,"Upload-Length":s.size},R={...e,headers:b},M=ke(y(U),Yt(t,e.url),R);M.onload=N=>A(f(N,R.method)),M.onerror=N=>o(k("error",N.status,_(N.response)||N.statusText,N.getAllResponseHeaders())),M.ontimeout=qe(o)},v=A=>{const U=Yt(t,g.url,E.serverId),R={headers:typeof e.headers=="function"?e.headers(E.serverId):{...e.headers},method:"HEAD"},M=ke(null,U,R);M.onload=N=>A(f(N,R.method)),M.onerror=N=>o(k("error",N.status,_(N.response)||N.statusText,N.getAllResponseHeaders())),M.ontimeout=qe(o)},O=Math.floor(s.size/u);for(let A=0;A<=O;A++){const U=A*u,b=s.slice(U,U+u,"application/offset+octet-stream");h[A]={index:A,size:b.size,offset:U,data:b,file:s,progress:0,retries:[...m],status:de.QUEUED,error:null,request:null,timeout:null}}const C=()=>r(E.serverId),w=A=>A.status===de.QUEUED||A.status===de.ERROR,D=A=>{if(E.aborted)return;if(A=A||h.find(w),!A){h.every(B=>B.status===de.COMPLETE)&&C();return}A.status=de.PROCESSING,A.progress=null;const U=g.ondata||(B=>B),b=g.onerror||(B=>null),R=g.onload||(()=>{}),M=Yt(t,g.url,E.serverId),N=typeof g.headers=="function"?g.headers(A):{...g.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":A.offset,"Upload-Length":s.size,"Upload-Name":s.name},H=A.request=ke(U(A.data),M,{...g,headers:N});H.onload=B=>{R(B,A.index,h.length),A.status=de.COMPLETE,A.request=null,L()},H.onprogress=(B,Ne,pt)=>{A.progress=B?Ne:null,P()},H.onerror=B=>{A.status=de.ERROR,A.request=null,A.error=b(B.response)||B.statusText,x(A)||o(k("error",B.status,b(B.response)||B.statusText,B.getAllResponseHeaders()))},H.ontimeout=B=>{A.status=de.ERROR,A.request=null,x(A)||qe(o)(B)},H.onabort=()=>{A.status=de.QUEUED,A.request=null,l()}},x=A=>A.retries.length===0?!1:(A.status=de.WAITING,clearTimeout(A.timeout),A.timeout=setTimeout(()=>{D(A)},A.retries.shift()),!0),P=()=>{const A=h.reduce((b,R)=>b===null||R.progress===null?null:b+R.progress,0);if(A===null)return a(!1,0,0);const U=h.reduce((b,R)=>b+R.size,0);a(!0,A,U)},L=()=>{h.filter(U=>U.status===de.PROCESSING).length>=1||D()},V=()=>{h.forEach(A=>{clearTimeout(A.timeout),A.request&&A.request.abort()})};return E.serverId?v(A=>{E.aborted||(h.filter(U=>U.offset<A).forEach(U=>{U.status=de.COMPLETE,U.progress=U.size}),L())}):T(A=>{E.aborted||(c(A),E.serverId=A,L())}),{abort:()=>{E.aborted=!0,V()}}},Vd=(t,e,i,s)=>(n,r,o,a,l,c,d)=>{if(!n)return;const h=s.chunkUploads,p=h&&n.size>s.chunkSize,g=h&&(p||s.chunkForce);if(n instanceof Blob&&g)return zd(t,e,i,n,r,o,a,l,c,d,s);const u=e.ondata||(v=>v),m=e.onload||(v=>v),E=e.onerror||(v=>null),y=typeof e.headers=="function"?e.headers(n,r)||{}:{...e.headers},f={...e,headers:y};var _=new FormData;K(r)&&_.append(i,JSON.stringify(r)),(n instanceof Blob?[{name:null,file:n}]:n).forEach(v=>{_.append(i,v.file,v.name===null?v.file.name:`${v.name}${v.file.name}`)});const T=ke(u(_),Yt(t,e.url),f);return T.onload=v=>{o(k("load",v.status,m(v.response),v.getAllResponseHeaders()))},T.onerror=v=>{a(k("error",v.status,E(v.response)||v.statusText,v.getAllResponseHeaders()))},T.ontimeout=qe(a),T.onprogress=l,T.onabort=c,T},Hd=(t="",e,i,s)=>typeof e=="function"?(...n)=>e(i,...n,s):!e||!te(e.url)?null:Vd(t,e,i,s),mt=(t="",e)=>{if(typeof e=="function")return e;if(!e||!te(e.url))return(n,r)=>r();const i=e.onload||(n=>n),s=e.onerror||(n=>null);return(n,r,o)=>{const a=ke(n,t+e.url,e);return a.onload=l=>{r(k("load",l.status,i(l.response),l.getAllResponseHeaders()))},a.onerror=l=>{o(k("error",l.status,s(l.response)||l.statusText,l.getAllResponseHeaders()))},a.ontimeout=qe(o),a}},vo=(t=0,e=1)=>t+Math.random()*(e-t),$d=(t,e=1e3,i=0,s=25,n=250)=>{let r=null;const o=Date.now(),a=()=>{let l=Date.now()-o,c=vo(s,n);l+c>e&&(c=l+c-e);let d=l/e;if(d>=1||document.hidden){t(1);return}t(d),r=setTimeout(a,c)};return e>0&&a(),{clear:()=>{clearTimeout(r)}}},kd=(t,e)=>{const i={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:s}=e,n=(d,h)=>{const p=()=>{i.duration===0||i.progress===null||c.fire("progress",c.getProgress())},g=()=>{i.complete=!0,c.fire("load-perceived",i.response.body)};c.fire("start"),i.timestamp=Date.now(),i.perceivedPerformanceUpdater=$d(u=>{i.perceivedProgress=u,i.perceivedDuration=Date.now()-i.timestamp,p(),i.response&&i.perceivedProgress===1&&!i.complete&&g()},s?vo(750,1500):0),i.request=t(d,h,u=>{i.response=K(u)?u:{type:"load",code:200,body:`${u}`,headers:{}},i.duration=Date.now()-i.timestamp,i.progress=1,c.fire("load",i.response.body),(!s||s&&i.perceivedProgress===1)&&g()},u=>{i.perceivedPerformanceUpdater.clear(),c.fire("error",K(u)?u:{type:"error",code:0,body:`${u}`})},(u,m,E)=>{i.duration=Date.now()-i.timestamp,i.progress=u?m/E:null,p()},()=>{i.perceivedPerformanceUpdater.clear(),c.fire("abort",i.response?i.response.body:null)},u=>{c.fire("transfer",u)})},r=()=>{i.request&&(i.perceivedPerformanceUpdater.clear(),i.request.abort&&i.request.abort(),i.complete=!0)},o=()=>{r(),i.complete=!1,i.perceivedProgress=0,i.progress=0,i.timestamp=null,i.perceivedDuration=0,i.duration=0,i.request=null,i.response=null},a=s?()=>i.progress?Math.min(i.progress,i.perceivedProgress):null:()=>i.progress||null,l=s?()=>Math.min(i.duration,i.perceivedDuration):()=>i.duration,c={...Xi(),process:n,abort:r,getProgress:a,getDuration:l,reset:o};return c},So=t=>t.substring(0,t.lastIndexOf("."))||t,qd=t=>{let e=[t.name,t.size,t.type];return t instanceof Blob||Ts(t)?e[0]=t.name||yo():Ts(t)?(e[1]=t.length,e[2]=To(t)):te(t)&&(e[0]=ti(t),e[1]=0,e[2]="application/octet-stream"),{name:e[0],size:e[1],type:e[2]}},We=t=>!!(t instanceof File||t instanceof Blob&&t.name),wo=t=>{if(!K(t))return t;const e=qi(t)?[]:{};for(const i in t){if(!t.hasOwnProperty(i))continue;const s=t[i];e[i]=s&&K(s)?wo(s):s}return e},Wd=(t=null,e=null,i=null)=>{const s=ks(),n={archived:!1,frozen:!1,released:!1,source:null,file:i,serverFileReference:e,transferId:null,processingAborted:!1,status:e?F.PROCESSING_COMPLETE:F.INIT,activeLoader:null,activeProcessor:null};let r=null;const o={},a=w=>n.status=w,l=(w,...D)=>{n.released||n.frozen||O.fire(w,...D)},c=()=>Zi(n.file.name),d=()=>n.file.type,h=()=>n.file.size,p=()=>n.file,g=(w,D,x)=>{if(n.source=w,O.fireSync("init"),n.file){O.fireSync("load-skip");return}n.file=qd(w),D.on("init",()=>{l("load-init")}),D.on("meta",P=>{n.file.size=P.size,n.file.filename=P.filename,P.source&&(t=Z.LIMBO,n.serverFileReference=P.source,n.status=F.PROCESSING_COMPLETE),l("load-meta")}),D.on("progress",P=>{a(F.LOADING),l("load-progress",P)}),D.on("error",P=>{a(F.LOAD_ERROR),l("load-request-error",P)}),D.on("abort",()=>{a(F.INIT),l("load-abort")}),D.on("load",P=>{n.activeLoader=null;const L=A=>{n.file=We(A)?A:n.file,t===Z.LIMBO&&n.serverFileReference?a(F.PROCESSING_COMPLETE):a(F.IDLE),l("load")},V=A=>{n.file=P,l("load-meta"),a(F.LOAD_ERROR),l("load-file-error",A)};if(n.serverFileReference){L(P);return}x(P,L,V)}),D.setSource(w),n.activeLoader=D,D.load()},u=()=>{n.activeLoader&&n.activeLoader.load()},m=()=>{if(n.activeLoader){n.activeLoader.abort();return}a(F.INIT),l("load-abort")},E=(w,D)=>{if(n.processingAborted){n.processingAborted=!1;return}if(a(F.PROCESSING),r=null,!(n.file instanceof Blob)){O.on("load",()=>{E(w,D)});return}w.on("load",L=>{n.transferId=null,n.serverFileReference=L}),w.on("transfer",L=>{n.transferId=L}),w.on("load-perceived",L=>{n.activeProcessor=null,n.transferId=null,n.serverFileReference=L,a(F.PROCESSING_COMPLETE),l("process-complete",L)}),w.on("start",()=>{l("process-start")}),w.on("error",L=>{n.activeProcessor=null,a(F.PROCESSING_ERROR),l("process-error",L)}),w.on("abort",L=>{n.activeProcessor=null,n.serverFileReference=L,a(F.IDLE),l("process-abort"),r&&r()}),w.on("progress",L=>{l("process-progress",L)});const x=L=>{n.archived||w.process(L,{...o})},P=console.error;D(n.file,x,P),n.activeProcessor=w},y=()=>{n.processingAborted=!1,a(F.PROCESSING_QUEUED)},f=()=>new Promise(w=>{if(!n.activeProcessor){n.processingAborted=!0,a(F.IDLE),l("process-abort"),w();return}r=()=>{w()},n.activeProcessor.abort()}),_=(w,D)=>new Promise((x,P)=>{const L=n.serverFileReference!==null?n.serverFileReference:n.transferId;if(L===null){x();return}w(L,()=>{n.serverFileReference=null,n.transferId=null,x()},V=>{if(!D){x();return}a(F.PROCESSING_REVERT_ERROR),l("process-revert-error"),P(V)}),a(F.IDLE),l("process-revert")}),T=(w,D,x)=>{const P=w.split("."),L=P[0],V=P.pop();let A=o;P.forEach(U=>A=A[U]),JSON.stringify(A[V])!==JSON.stringify(D)&&(A[V]=D,l("metadata-update",{key:L,value:o[L],silent:x}))},O={id:{get:()=>s},origin:{get:()=>t,set:w=>t=w},serverId:{get:()=>n.serverFileReference},transferId:{get:()=>n.transferId},status:{get:()=>n.status},filename:{get:()=>n.file.name},filenameWithoutExtension:{get:()=>So(n.file.name)},fileExtension:{get:c},fileType:{get:d},fileSize:{get:h},file:{get:p},relativePath:{get:()=>n.file._relativePath},source:{get:()=>n.source},getMetadata:w=>wo(w?o[w]:o),setMetadata:(w,D,x)=>{if(K(w)){const P=w;return Object.keys(P).forEach(L=>{T(L,P[L],D)}),w}return T(w,D,x),D},extend:(w,D)=>C[w]=D,abortLoad:m,retryLoad:u,requestProcessing:y,abortProcessing:f,load:g,process:E,revert:_,...Xi(),freeze:()=>n.frozen=!0,release:()=>n.released=!0,released:{get:()=>n.released},archive:()=>n.archived=!0,archived:{get:()=>n.archived},setFile:w=>n.file=w},C=Me(O);return C},Yd=(t,e)=>Ae(e)?0:te(e)?t.findIndex(i=>i.id===e):-1,zn=(t,e)=>{const i=Yd(t,e);if(!(i<0))return t[i]||null},Vn=(t,e,i,s,n,r)=>{const o=ke(null,t,{method:"GET",responseType:"blob"});return o.onload=a=>{const l=a.getAllResponseHeaders(),c=Ys(l).name||ti(t);e(k("load",a.status,ot(a.response,c),l))},o.onerror=a=>{i(k("error",a.status,a.statusText,a.getAllResponseHeaders()))},o.onheaders=a=>{r(k("headers",a.status,null,a.getAllResponseHeaders()))},o.ontimeout=qe(i),o.onprogress=s,o.onabort=n,o},Hn=t=>(t.indexOf("//")===0&&(t=location.protocol+t),t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),Xd=t=>(t.indexOf(":")>-1||t.indexOf("//")>-1)&&Hn(location.href)!==Hn(t),li=t=>(...e)=>ze(t)?t(...e):t,Zd=t=>!We(t.file),rs=(t,e)=>{clearTimeout(e.listUpdateTimeout),e.listUpdateTimeout=setTimeout(()=>{t("DID_UPDATE_ITEMS",{items:ye(e.items)})},0)},$n=(t,...e)=>new Promise(i=>{if(!t)return i(!0);const s=t(...e);if(s==null)return i(!0);if(typeof s=="boolean")return i(s);typeof s.then=="function"&&s.then(i)}),os=(t,e)=>{t.items.sort((i,s)=>e(ne(i),ne(s)))},he=(t,e)=>({query:i,success:s=()=>{},failure:n=()=>{},...r}={})=>{const o=Ve(t.items,i);if(!o){n({error:k("error",0,"Item not found"),file:null});return}e(o,s,n,r||{})},jd=(t,e,i)=>({ABORT_ALL:()=>{ye(i.items).forEach(s=>{s.freeze(),s.abortLoad(),s.abortProcessing()})},DID_SET_FILES:({value:s=[]})=>{const n=s.map(o=>({source:o.source?o.source:o,options:o.options}));let r=ye(i.items);r.forEach(o=>{n.find(a=>a.source===o.source||a.source===o.file)||t("REMOVE_ITEM",{query:o,remove:!1})}),r=ye(i.items),n.forEach((o,a)=>{r.find(l=>l.source===o.source||l.file===o.source)||t("ADD_ITEM",{...o,interactionMethod:ge.NONE,index:a})})},DID_UPDATE_ITEM_METADATA:({id:s,action:n,change:r})=>{r.silent||(clearTimeout(i.itemUpdateTimeout),i.itemUpdateTimeout=setTimeout(()=>{const o=zn(i.items,s);if(!e("IS_ASYNC")){_e("SHOULD_PREPARE_OUTPUT",!1,{item:o,query:e,action:n,change:r}).then(d=>{const h=e("GET_BEFORE_PREPARE_FILE");h&&(d=h(o,d)),d&&t("REQUEST_PREPARE_OUTPUT",{query:s,item:o,success:p=>{t("DID_PREPARE_OUTPUT",{id:s,file:p})}},!0)});return}o.origin===Z.LOCAL&&t("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:o.source});const a=()=>{setTimeout(()=>{t("REQUEST_ITEM_PROCESSING",{query:s})},32)},l=d=>{o.revert(mt(i.options.server.url,i.options.server.revert),e("GET_FORCE_REVERT")).then(d?a:()=>{}).catch(()=>{})},c=d=>{o.abortProcessing().then(d?a:()=>{})};if(o.status===F.PROCESSING_COMPLETE)return l(i.options.instantUpload);if(o.status===F.PROCESSING)return c(i.options.instantUpload);i.options.instantUpload&&a()},0))},MOVE_ITEM:({query:s,index:n})=>{const r=Ve(i.items,s);if(!r)return;const o=i.items.indexOf(r);n=_o(n,0,i.items.length-1),o!==n&&i.items.splice(n,0,i.items.splice(o,1)[0])},SORT:({compare:s})=>{os(i,s),t("DID_SORT_ITEMS",{items:e("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:s,index:n,interactionMethod:r,success:o=()=>{},failure:a=()=>{}})=>{let l=n;if(n===-1||typeof n>"u"){const g=e("GET_ITEM_INSERT_LOCATION"),u=e("GET_TOTAL_ITEMS");l=g==="before"?0:u}const c=e("GET_IGNORED_FILES"),d=g=>We(g)?!c.includes(g.name.toLowerCase()):!Ae(g),p=s.filter(d).map(g=>new Promise((u,m)=>{t("ADD_ITEM",{interactionMethod:r,source:g.source||g,success:u,failure:m,index:l++,options:g.options||{}})}));Promise.all(p).then(o).catch(a)},ADD_ITEM:({source:s,index:n=-1,interactionMethod:r,success:o=()=>{},failure:a=()=>{},options:l={}})=>{if(Ae(s)){a({error:k("error",0,"No source"),file:null});return}if(We(s)&&i.options.ignoredFiles.includes(s.name.toLowerCase()))return;if(!Rd(i)){if(i.options.allowMultiple||!i.options.allowMultiple&&!i.options.allowReplace){const f=k("warning",0,"Max files");t("DID_THROW_MAX_FILES",{source:s,error:f}),a({error:f,file:null});return}const y=ye(i.items)[0];if(y.status===F.PROCESSING_COMPLETE||y.status===F.PROCESSING_REVERT_ERROR){const f=e("GET_FORCE_REVERT");if(y.revert(mt(i.options.server.url,i.options.server.revert),f).then(()=>{f&&t("ADD_ITEM",{source:s,index:n,interactionMethod:r,success:o,failure:a,options:l})}).catch(()=>{}),f)return}t("REMOVE_ITEM",{query:y.id})}const c=l.type==="local"?Z.LOCAL:l.type==="limbo"?Z.LIMBO:Z.INPUT,d=Wd(c,c===Z.INPUT?null:s,l.file);Object.keys(l.metadata||{}).forEach(y=>{d.setMetadata(y,l.metadata[y])}),Ze("DID_CREATE_ITEM",d,{query:e,dispatch:t});const h=e("GET_ITEM_INSERT_LOCATION");i.options.itemInsertLocationFreedom||(n=h==="before"?-1:i.items.length),Ad(i.items,d,n),ze(h)&&s&&os(i,h);const p=d.id;d.on("init",()=>{t("DID_INIT_ITEM",{id:p})}),d.on("load-init",()=>{t("DID_START_ITEM_LOAD",{id:p})}),d.on("load-meta",()=>{t("DID_UPDATE_ITEM_META",{id:p})}),d.on("load-progress",y=>{t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:p,progress:y})}),d.on("load-request-error",y=>{const f=li(i.options.labelFileLoadError)(y);if(y.code>=400&&y.code<500){t("DID_THROW_ITEM_INVALID",{id:p,error:y,status:{main:f,sub:`${y.code} (${y.body})`}}),a({error:y,file:ne(d)});return}t("DID_THROW_ITEM_LOAD_ERROR",{id:p,error:y,status:{main:f,sub:i.options.labelTapToRetry}})}),d.on("load-file-error",y=>{t("DID_THROW_ITEM_INVALID",{id:p,error:y.status,status:y.status}),a({error:y.status,file:ne(d)})}),d.on("load-abort",()=>{t("REMOVE_ITEM",{query:p})}),d.on("load-skip",()=>{d.on("metadata-update",y=>{We(d.file)&&t("DID_UPDATE_ITEM_METADATA",{id:p,change:y})}),t("COMPLETE_LOAD_ITEM",{query:p,item:d,data:{source:s,success:o}})}),d.on("load",()=>{const y=f=>{if(!f){t("REMOVE_ITEM",{query:p});return}d.on("metadata-update",_=>{t("DID_UPDATE_ITEM_METADATA",{id:p,change:_})}),_e("SHOULD_PREPARE_OUTPUT",!1,{item:d,query:e}).then(_=>{const T=e("GET_BEFORE_PREPARE_FILE");T&&(_=T(d,_));const v=()=>{t("COMPLETE_LOAD_ITEM",{query:p,item:d,data:{source:s,success:o}}),rs(t,i)};if(_){t("REQUEST_PREPARE_OUTPUT",{query:p,item:d,success:O=>{t("DID_PREPARE_OUTPUT",{id:p,file:O}),v()}},!0);return}v()})};_e("DID_LOAD_ITEM",d,{query:e,dispatch:t}).then(()=>{$n(e("GET_BEFORE_ADD_FILE"),ne(d)).then(y)}).catch(f=>{if(!f||!f.error||!f.status)return y(!1);t("DID_THROW_ITEM_INVALID",{id:p,error:f.error,status:f.status})})}),d.on("process-start",()=>{t("DID_START_ITEM_PROCESSING",{id:p})}),d.on("process-progress",y=>{t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:p,progress:y})}),d.on("process-error",y=>{t("DID_THROW_ITEM_PROCESSING_ERROR",{id:p,error:y,status:{main:li(i.options.labelFileProcessingError)(y),sub:i.options.labelTapToRetry}})}),d.on("process-revert-error",y=>{t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:p,error:y,status:{main:li(i.options.labelFileProcessingRevertError)(y),sub:i.options.labelTapToRetry}})}),d.on("process-complete",y=>{t("DID_COMPLETE_ITEM_PROCESSING",{id:p,error:null,serverFileReference:y}),t("DID_DEFINE_VALUE",{id:p,value:y})}),d.on("process-abort",()=>{t("DID_ABORT_ITEM_PROCESSING",{id:p})}),d.on("process-revert",()=>{t("DID_REVERT_ITEM_PROCESSING",{id:p}),t("DID_DEFINE_VALUE",{id:p,value:null})}),t("DID_ADD_ITEM",{id:p,index:n,interactionMethod:r}),rs(t,i);const{url:g,load:u,restore:m,fetch:E}=i.options.server||{};d.load(s,Ud(c===Z.INPUT?te(s)&&Xd(s)&&E?ns(g,E):Vn:c===Z.LIMBO?ns(g,m):ns(g,u)),(y,f,_)=>{_e("LOAD_FILE",y,{query:e}).then(f).catch(_)})},REQUEST_PREPARE_OUTPUT:({item:s,success:n,failure:r=()=>{}})=>{const o={error:k("error",0,"Item not found"),file:null};if(s.archived)return r(o);_e("PREPARE_OUTPUT",s.file,{query:e,item:s}).then(a=>{_e("COMPLETE_PREPARE_OUTPUT",a,{query:e,item:s}).then(l=>{if(s.archived)return r(o);n(l)})})},COMPLETE_LOAD_ITEM:({item:s,data:n})=>{const{success:r,source:o}=n,a=e("GET_ITEM_INSERT_LOCATION");if(ze(a)&&o&&os(i,a),t("DID_LOAD_ITEM",{id:s.id,error:null,serverFileReference:s.origin===Z.INPUT?null:o}),r(ne(s)),s.origin===Z.LOCAL){t("DID_LOAD_LOCAL_ITEM",{id:s.id});return}if(s.origin===Z.LIMBO){t("DID_COMPLETE_ITEM_PROCESSING",{id:s.id,error:null,serverFileReference:o}),t("DID_DEFINE_VALUE",{id:s.id,value:s.serverId||o});return}e("IS_ASYNC")&&i.options.instantUpload&&t("REQUEST_ITEM_PROCESSING",{query:s.id})},RETRY_ITEM_LOAD:he(i,s=>{s.retryLoad()}),REQUEST_ITEM_PREPARE:he(i,(s,n,r)=>{t("REQUEST_PREPARE_OUTPUT",{query:s.id,item:s,success:o=>{t("DID_PREPARE_OUTPUT",{id:s.id,file:o}),n({file:s,output:o})},failure:r},!0)}),REQUEST_ITEM_PROCESSING:he(i,(s,n,r)=>{if(!(s.status===F.IDLE||s.status===F.PROCESSING_ERROR)){const a=()=>t("REQUEST_ITEM_PROCESSING",{query:s,success:n,failure:r}),l=()=>document.hidden?a():setTimeout(a,32);s.status===F.PROCESSING_COMPLETE||s.status===F.PROCESSING_REVERT_ERROR?s.revert(mt(i.options.server.url,i.options.server.revert),e("GET_FORCE_REVERT")).then(l).catch(()=>{}):s.status===F.PROCESSING&&s.abortProcessing().then(l);return}s.status!==F.PROCESSING_QUEUED&&(s.requestProcessing(),t("DID_REQUEST_ITEM_PROCESSING",{id:s.id}),t("PROCESS_ITEM",{query:s,success:n,failure:r},!0))}),PROCESS_ITEM:he(i,(s,n,r)=>{const o=e("GET_MAX_PARALLEL_UPLOADS");if(e("GET_ITEMS_BY_STATUS",F.PROCESSING).length===o){i.processingQueue.push({id:s.id,success:n,failure:r});return}if(s.status===F.PROCESSING)return;const l=()=>{const d=i.processingQueue.shift();if(!d)return;const{id:h,success:p,failure:g}=d,u=Ve(i.items,h);if(!u||u.archived){l();return}t("PROCESS_ITEM",{query:h,success:p,failure:g},!0)};s.onOnce("process-complete",()=>{n(ne(s)),l();const d=i.options.server;if(i.options.instantUpload&&s.origin===Z.LOCAL&&ze(d.remove)){const g=()=>{};s.origin=Z.LIMBO,i.options.server.remove(s.source,g,g)}e("GET_ITEMS_BY_STATUS",F.PROCESSING_COMPLETE).length===i.items.length&&t("DID_COMPLETE_ITEM_PROCESSING_ALL")}),s.onOnce("process-error",d=>{r({error:d,file:ne(s)}),l()});const c=i.options;s.process(kd(Hd(c.server.url,c.server.process,c.name,{chunkTransferId:s.transferId,chunkServer:c.server.patch,chunkUploads:c.chunkUploads,chunkForce:c.chunkForce,chunkSize:c.chunkSize,chunkRetryDelays:c.chunkRetryDelays}),{allowMinimumUploadDuration:e("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(d,h,p)=>{_e("PREPARE_OUTPUT",d,{query:e,item:s}).then(g=>{t("DID_PREPARE_OUTPUT",{id:s.id,file:g}),h(g)}).catch(p)})}),RETRY_ITEM_PROCESSING:he(i,s=>{t("REQUEST_ITEM_PROCESSING",{query:s})}),REQUEST_REMOVE_ITEM:he(i,s=>{$n(e("GET_BEFORE_REMOVE_FILE"),ne(s)).then(n=>{n&&t("REMOVE_ITEM",{query:s})})}),RELEASE_ITEM:he(i,s=>{s.release()}),REMOVE_ITEM:he(i,(s,n,r,o)=>{const a=()=>{const c=s.id;zn(i.items,c).archive(),t("DID_REMOVE_ITEM",{error:null,id:c,item:s}),rs(t,i),n(ne(s))},l=i.options.server;s.origin===Z.LOCAL&&l&&ze(l.remove)&&o.remove!==!1?(t("DID_START_ITEM_REMOVE",{id:s.id}),l.remove(s.source,()=>a(),c=>{t("DID_THROW_ITEM_REMOVE_ERROR",{id:s.id,error:k("error",0,c,null),status:{main:li(i.options.labelFileRemoveError)(c),sub:i.options.labelTapToRetry}})})):((o.revert&&s.origin!==Z.LOCAL&&s.serverId!==null||i.options.chunkUploads&&s.file.size>i.options.chunkSize||i.options.chunkUploads&&i.options.chunkForce)&&s.revert(mt(i.options.server.url,i.options.server.revert),e("GET_FORCE_REVERT")),a())}),ABORT_ITEM_LOAD:he(i,s=>{s.abortLoad()}),ABORT_ITEM_PROCESSING:he(i,s=>{if(s.serverId){t("REVERT_ITEM_PROCESSING",{id:s.id});return}s.abortProcessing().then(()=>{i.options.instantUpload&&t("REMOVE_ITEM",{query:s.id})})}),REQUEST_REVERT_ITEM_PROCESSING:he(i,s=>{if(!i.options.instantUpload){t("REVERT_ITEM_PROCESSING",{query:s});return}const n=a=>{a&&t("REVERT_ITEM_PROCESSING",{query:s})},r=e("GET_BEFORE_REMOVE_FILE");if(!r)return n(!0);const o=r(ne(s));if(o==null)return n(!0);if(typeof o=="boolean")return n(o);typeof o.then=="function"&&o.then(n)}),REVERT_ITEM_PROCESSING:he(i,s=>{s.revert(mt(i.options.server.url,i.options.server.revert),e("GET_FORCE_REVERT")).then(()=>{(i.options.instantUpload||Zd(s))&&t("REMOVE_ITEM",{query:s.id})}).catch(()=>{})}),SET_OPTIONS:({options:s})=>{const n=Object.keys(s),r=Kd.filter(a=>n.includes(a));[...r,...Object.keys(s).filter(a=>!r.includes(a))].forEach(a=>{t(`SET_${Yi(a,"_").toUpperCase()}`,{value:s[a]})})}}),Kd=["server"],Xs=t=>t,De=t=>document.createElement(t),W=(t,e)=>{let i=t.childNodes[0];i?e!==i.nodeValue&&(i.nodeValue=e):(i=document.createTextNode(e),t.appendChild(i))},kn=(t,e,i,s)=>{const n=(s%360-90)*Math.PI/180;return{x:t+i*Math.cos(n),y:e+i*Math.sin(n)}},Qd=(t,e,i,s,n,r)=>{const o=kn(t,e,i,n),a=kn(t,e,i,s);return["M",o.x,o.y,"A",i,i,0,r,0,a.x,a.y].join(" ")},Jd=(t,e,i,s,n)=>{let r=1;return n>s&&n-s<=.5&&(r=0),s>n&&s-n>=.5&&(r=0),Qd(t,e,i,Math.min(.9999,s)*360,Math.min(.9999,n)*360,r)},eh=({root:t,props:e})=>{e.spin=!1,e.progress=0,e.opacity=0;const i=Li("svg");t.ref.path=Li("path",{"stroke-width":2,"stroke-linecap":"round"}),i.appendChild(t.ref.path),t.ref.svg=i,t.appendChild(i)},th=({root:t,props:e})=>{if(e.opacity===0)return;e.align&&(t.element.dataset.align=e.align);const i=parseInt(j(t.ref.path,"stroke-width"),10),s=t.rect.element.width*.5;let n=0,r=0;e.spin?(n=0,r=.5):(n=0,r=e.progress);const o=Jd(s,s,s-i,n,r);j(t.ref.path,"d",o),j(t.ref.path,"stroke-opacity",e.spin||e.progress>0?1:0)},qn=X({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:eh,write:th,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),ih=({root:t,props:e})=>{t.element.innerHTML=(e.icon||"")+`<span>${e.label}</span>`,e.isDisabled=!1},sh=({root:t,props:e})=>{const{isDisabled:i}=e,s=t.query("GET_DISABLED")||e.opacity===0;s&&!i?(e.isDisabled=!0,j(t.element,"disabled","disabled")):!s&&i&&(e.isDisabled=!1,t.element.removeAttribute("disabled"))},bo=X({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:ih,write:sh}),Ro=(t,e=".",i=1e3,s={})=>{const{labelBytes:n="bytes",labelKilobytes:r="KB",labelMegabytes:o="MB",labelGigabytes:a="GB"}=s;t=Math.round(Math.abs(t));const l=i,c=i*i,d=i*i*i;return t<l?`${t} ${n}`:t<c?`${Math.floor(t/l)} ${r}`:t<d?`${Wn(t/c,1,e)} ${o}`:`${Wn(t/d,2,e)} ${a}`},Wn=(t,e,i)=>t.toFixed(e).split(".").filter(s=>s!=="0").join(i),nh=({root:t,props:e})=>{const i=De("span");i.className="filepond--file-info-main",j(i,"aria-hidden","true"),t.appendChild(i),t.ref.fileName=i;const s=De("span");s.className="filepond--file-info-sub",t.appendChild(s),t.ref.fileSize=s,W(s,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),W(i,Xs(t.query("GET_ITEM_NAME",e.id)))},vs=({root:t,props:e})=>{W(t.ref.fileSize,Ro(t.query("GET_ITEM_SIZE",e.id),".",t.query("GET_FILE_SIZE_BASE"),t.query("GET_FILE_SIZE_LABELS",t.query))),W(t.ref.fileName,Xs(t.query("GET_ITEM_NAME",e.id)))},Yn=({root:t,props:e})=>{if(dt(t.query("GET_ITEM_SIZE",e.id))){vs({root:t,props:e});return}W(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},rh=X({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:ie({DID_LOAD_ITEM:vs,DID_UPDATE_ITEM_META:vs,DID_THROW_ITEM_LOAD_ERROR:Yn,DID_THROW_ITEM_INVALID:Yn}),didCreateView:t=>{Ze("CREATE_VIEW",{...t,view:t})},create:nh,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Oo=t=>Math.round(t*100),oh=({root:t})=>{const e=De("span");e.className="filepond--file-status-main",t.appendChild(e),t.ref.main=e;const i=De("span");i.className="filepond--file-status-sub",t.appendChild(i),t.ref.sub=i,Ao({root:t,action:{progress:null}})},Ao=({root:t,action:e})=>{const i=e.progress===null?t.query("GET_LABEL_FILE_LOADING"):`${t.query("GET_LABEL_FILE_LOADING")} ${Oo(e.progress)}%`;W(t.ref.main,i),W(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},ah=({root:t,action:e})=>{const i=e.progress===null?t.query("GET_LABEL_FILE_PROCESSING"):`${t.query("GET_LABEL_FILE_PROCESSING")} ${Oo(e.progress)}%`;W(t.ref.main,i),W(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},lh=({root:t})=>{W(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),W(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},ch=({root:t})=>{W(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),W(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},dh=({root:t})=>{W(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),W(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},Xn=({root:t})=>{W(t.ref.main,""),W(t.ref.sub,"")},Et=({root:t,action:e})=>{W(t.ref.main,e.status.main),W(t.ref.sub,e.status.sub)},hh=X({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:ie({DID_LOAD_ITEM:Xn,DID_REVERT_ITEM_PROCESSING:Xn,DID_REQUEST_ITEM_PROCESSING:lh,DID_ABORT_ITEM_PROCESSING:ch,DID_COMPLETE_ITEM_PROCESSING:dh,DID_UPDATE_ITEM_PROCESS_PROGRESS:ah,DID_UPDATE_ITEM_LOAD_PROGRESS:Ao,DID_THROW_ITEM_LOAD_ERROR:Et,DID_THROW_ITEM_INVALID:Et,DID_THROW_ITEM_PROCESSING_ERROR:Et,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Et,DID_THROW_ITEM_REMOVE_ERROR:Et}),didCreateView:t=>{Ze("CREATE_VIEW",{...t,view:t})},create:oh,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Ss={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},ws=[];$(Ss,t=>{ws.push(t)});const ae=t=>{if(bs(t)==="right")return 0;const e=t.ref.buttonRemoveItem.rect.element;return e.hidden?null:e.width+e.left},uh=t=>t.ref.buttonAbortItemLoad.rect.element.width,ci=t=>Math.floor(t.ref.buttonRemoveItem.rect.element.height/4),ph=t=>Math.floor(t.ref.buttonRemoveItem.rect.element.left/2),fh=t=>t.query("GET_STYLE_LOAD_INDICATOR_POSITION"),gh=t=>t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),bs=t=>t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),mh={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:fh},processProgressIndicator:{opacity:0,align:gh},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Zn={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ae},status:{translateX:ae}},as={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},st={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:ae},status:{translateX:ae,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:ae},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:bs},info:{translateX:ae},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:bs},buttonRemoveItem:{opacity:1},info:{translateX:ae},status:{opacity:1,translateX:ae}},DID_LOAD_ITEM:Zn,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:ae},status:{translateX:ae}},DID_START_ITEM_PROCESSING:as,DID_REQUEST_ITEM_PROCESSING:as,DID_UPDATE_ITEM_PROCESS_PROGRESS:as,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:ae}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ae},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Zn},Eh=X({create:({root:t})=>{t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),_h=({root:t,props:e})=>{const i=Object.keys(Ss).reduce((u,m)=>(u[m]={...Ss[m]},u),{}),{id:s}=e,n=t.query("GET_ALLOW_REVERT"),r=t.query("GET_ALLOW_REMOVE"),o=t.query("GET_ALLOW_PROCESS"),a=t.query("GET_INSTANT_UPLOAD"),l=t.query("IS_ASYNC"),c=t.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let d;l?o&&!n?d=u=>!/RevertItemProcessing/.test(u):!o&&n?d=u=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(u):!o&&!n&&(d=u=>!/Process/.test(u)):d=u=>!/Process/.test(u);const h=d?ws.filter(d):ws.concat();if(a&&n&&(i.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",i.RevertItemProcessing.icon="GET_ICON_REMOVE"),l&&!n){const u=st.DID_COMPLETE_ITEM_PROCESSING;u.info.translateX=ph,u.info.translateY=ci,u.status.translateY=ci,u.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(l&&!o&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(u=>{st[u].status.translateY=ci}),st.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=uh),c&&n){i.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const u=st.DID_COMPLETE_ITEM_PROCESSING;u.info.translateX=ae,u.status.translateY=ci,u.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}r||(i.RemoveItem.disabled=!0),$(i,(u,m)=>{const E=t.createChildView(bo,{label:t.query(m.label),icon:t.query(m.icon),opacity:0});h.includes(u)&&t.appendChildView(E),m.disabled&&(E.element.setAttribute("disabled","disabled"),E.element.setAttribute("hidden","hidden")),E.element.dataset.align=t.query(`GET_STYLE_${m.align}`),E.element.classList.add(m.className),E.on("click",y=>{y.stopPropagation(),!m.disabled&&t.dispatch(m.action,{query:s})}),t.ref[`button${u}`]=E}),t.ref.processingCompleteIndicator=t.appendChildView(t.createChildView(Eh)),t.ref.processingCompleteIndicator.element.dataset.align=t.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),t.ref.info=t.appendChildView(t.createChildView(rh,{id:s})),t.ref.status=t.appendChildView(t.createChildView(hh,{id:s}));const p=t.appendChildView(t.createChildView(qn,{opacity:0,align:t.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));p.element.classList.add("filepond--load-indicator"),t.ref.loadProgressIndicator=p;const g=t.appendChildView(t.createChildView(qn,{opacity:0,align:t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));g.element.classList.add("filepond--process-indicator"),t.ref.processProgressIndicator=g,t.ref.activeStyles=[]},yh=({root:t,actions:e,props:i})=>{Ih({root:t,actions:e,props:i});let s=e.concat().filter(n=>/^DID_/.test(n.type)).reverse().find(n=>st[n.type]);if(s){t.ref.activeStyles=[];const n=st[s.type];$(mh,(r,o)=>{const a=t.ref[r];$(o,(l,c)=>{const d=n[r]&&typeof n[r][l]<"u"?n[r][l]:c;t.ref.activeStyles.push({control:a,key:l,value:d})})})}t.ref.activeStyles.forEach(({control:n,key:r,value:o})=>{n[r]=typeof o=="function"?o(t):o})},Ih=ie({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:t,action:e})=>{t.ref.buttonAbortItemProcessing.label=e.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:t,action:e})=>{t.ref.buttonAbortItemLoad.label=e.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:t,action:e})=>{t.ref.buttonAbortItemRemoval.label=e.value},DID_REQUEST_ITEM_PROCESSING:({root:t})=>{t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:t})=>{t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:t})=>{t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:t,action:e})=>{t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=e.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:t,action:e})=>{t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=e.progress}}),Th=X({create:_h,write:yh,didCreateView:t=>{Ze("CREATE_VIEW",{...t,view:t})},name:"file"}),vh=({root:t,props:e})=>{t.ref.fileName=De("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(Th,{id:e.id})),t.ref.data=!1},Sh=({root:t,props:e})=>{W(t.ref.fileName,Xs(t.query("GET_ITEM_NAME",e.id)))},wh=X({create:vh,ignoreRect:!0,write:ie({DID_LOAD_ITEM:Sh}),didCreateView:t=>{Ze("CREATE_VIEW",{...t,view:t})},tag:"fieldset",name:"file-wrapper"}),jn={type:"spring",damping:.6,mass:7},bh=({root:t,props:e})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:jn},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:jn},styles:["translateY"]}}].forEach(i=>{Rh(t,i,e.name)}),t.element.classList.add(`filepond--${e.name}`),t.ref.scalable=null},Rh=(t,e,i)=>{const s=X({name:`panel-${e.name} filepond--${i}`,mixins:e.mixins,ignoreRectUpdate:!0}),n=t.createChildView(s,e.props);t.ref[e.name]=t.appendChildView(n)},Oh=({root:t,props:e})=>{if((t.ref.scalable===null||e.scalable!==t.ref.scalable)&&(t.ref.scalable=lo(e.scalable)?e.scalable:!0,t.element.dataset.scalable=t.ref.scalable),!e.height)return;const i=t.ref.top.rect.element,s=t.ref.bottom.rect.element,n=Math.max(i.height+s.height,e.height);t.ref.center.translateY=i.height,t.ref.center.scaleY=(n-i.height-s.height)/100,t.ref.bottom.translateY=n-s.height},Do=X({name:"panel",read:({root:t,props:e})=>e.heightCurrent=t.ref.bottom.translateY,write:Oh,create:bh,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Ah=t=>{const e=t.map(s=>s.id);let i;return{setIndex:s=>{i=s},getIndex:()=>i,getItemIndex:s=>e.indexOf(s.id)}},Kn={type:"spring",stiffness:.75,damping:.45,mass:10},Qn="spring",Jn={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Dh=({root:t,props:e})=>{if(t.ref.handleClick=s=>t.dispatch("DID_ACTIVATE_ITEM",{id:e.id}),t.element.id=`filepond--item-${e.id}`,t.element.addEventListener("click",t.ref.handleClick),t.ref.container=t.appendChildView(t.createChildView(wh,{id:e.id})),t.ref.panel=t.appendChildView(t.createChildView(Do,{name:"item-panel"})),t.ref.panel.height=null,e.markedForRemoval=!1,!t.query("GET_ALLOW_REORDER"))return;t.element.dataset.dragState="idle";const i=s=>{if(!s.isPrimary)return;let n=!1;const r={x:s.pageX,y:s.pageY};e.dragOrigin={x:t.translateX,y:t.translateY},e.dragCenter={x:s.offsetX,y:s.offsetY};const o=Ah(t.query("GET_ACTIVE_ITEMS"));t.dispatch("DID_GRAB_ITEM",{id:e.id,dragState:o});const a=h=>{if(!h.isPrimary)return;h.stopPropagation(),h.preventDefault(),e.dragOffset={x:h.pageX-r.x,y:h.pageY-r.y},e.dragOffset.x*e.dragOffset.x+e.dragOffset.y*e.dragOffset.y>16&&!n&&(n=!0,t.element.removeEventListener("click",t.ref.handleClick)),t.dispatch("DID_DRAG_ITEM",{id:e.id,dragState:o})},l=h=>{h.isPrimary&&(e.dragOffset={x:h.pageX-r.x,y:h.pageY-r.y},d())},c=()=>{d()},d=()=>{document.removeEventListener("pointercancel",c),document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",l),t.dispatch("DID_DROP_ITEM",{id:e.id,dragState:o}),n&&setTimeout(()=>t.element.addEventListener("click",t.ref.handleClick),0)};document.addEventListener("pointercancel",c),document.addEventListener("pointermove",a),document.addEventListener("pointerup",l)};t.element.addEventListener("pointerdown",i)},Ch=ie({DID_UPDATE_PANEL_HEIGHT:({root:t,action:e})=>{t.height=e.height}}),Ph=ie({DID_GRAB_ITEM:({root:t,props:e})=>{e.dragOrigin={x:t.translateX,y:t.translateY}},DID_DRAG_ITEM:({root:t})=>{t.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:t,props:e})=>{e.dragOffset=null,e.dragOrigin=null,t.element.dataset.dragState="drop"}},({root:t,actions:e,props:i,shouldOptimize:s})=>{t.element.dataset.dragState==="drop"&&t.scaleX<=1&&(t.element.dataset.dragState="idle");let n=e.concat().filter(o=>/^DID_/.test(o.type)).reverse().find(o=>Jn[o.type]);n&&n.type!==i.currentState&&(i.currentState=n.type,t.element.dataset.filepondItemState=Jn[i.currentState]||"");const r=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");r?s||(t.height=t.rect.element.width*r):(Ch({root:t,actions:e,props:i}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),s&&(t.ref.panel.height=null),t.ref.panel.height=t.height}),Lh=X({create:Dh,write:Ph,destroy:({root:t,props:e})=>{t.element.removeEventListener("click",t.ref.handleClick),t.dispatch("RELEASE_ITEM",{query:e.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:Qn,scaleY:Qn,translateX:Kn,translateY:Kn,opacity:{type:"tween",duration:150}}}});var Zs=(t,e)=>Math.max(1,Math.floor((t+1)/e));const js=(t,e,i)=>{if(!i)return;const s=t.rect.element.width,n=e.length;let r=null;if(n===0||i.top<e[0].rect.element.top)return-1;const a=e[0].rect.element,l=a.marginLeft+a.marginRight,c=a.width+l,d=Zs(s,c);if(d===1){for(let g=0;g<n;g++){const u=e[g],m=u.rect.outer.top+u.rect.element.height*.5;if(i.top<m)return g}return n}const h=a.marginTop+a.marginBottom,p=a.height+h;for(let g=0;g<n;g++){const u=g%d,m=Math.floor(g/d),E=u*c,y=m*p,f=y-a.marginTop,_=E+c,T=y+p+a.marginBottom;if(i.top<T&&i.top>f){if(i.left<_)return g;g!==n-1?r=g:r=null}}return r!==null?r:n},di={height:0,width:0,get getHeight(){return this.height},set setHeight(t){(this.height===0||t===0)&&(this.height=t)},get getWidth(){return this.width},set setWidth(t){(this.width===0||t===0)&&(this.width=t)}},Mh=({root:t})=>{j(t.element,"role","list"),t.ref.lastItemSpanwDate=Date.now()},xh=({root:t,action:e})=>{const{id:i,index:s,interactionMethod:n}=e;t.ref.addIndex=s;const r=Date.now();let o=r,a=1;if(n!==ge.NONE){a=0;const l=t.query("GET_ITEM_INSERT_INTERVAL"),c=r-t.ref.lastItemSpanwDate;o=c<l?r+(l-c):r}t.ref.lastItemSpanwDate=o,t.appendChildView(t.createChildView(Lh,{spawnDate:o,id:i,opacity:a,interactionMethod:n}),s)},er=(t,e,i,s=0,n=1)=>{t.dragOffset?(t.translateX=null,t.translateY=null,t.translateX=t.dragOrigin.x+t.dragOffset.x,t.translateY=t.dragOrigin.y+t.dragOffset.y,t.scaleX=1.025,t.scaleY=1.025):(t.translateX=e,t.translateY=i,Date.now()>t.spawnDate&&(t.opacity===0&&Nh(t,e,i,s,n),t.scaleX=1,t.scaleY=1,t.opacity=1))},Nh=(t,e,i,s,n)=>{t.interactionMethod===ge.NONE?(t.translateX=null,t.translateX=e,t.translateY=null,t.translateY=i):t.interactionMethod===ge.DROP?(t.translateX=null,t.translateX=e-s*20,t.translateY=null,t.translateY=i-n*10,t.scaleX=.8,t.scaleY=.8):t.interactionMethod===ge.BROWSE?(t.translateY=null,t.translateY=i-30):t.interactionMethod===ge.API&&(t.translateX=null,t.translateX=e-30,t.translateY=null)},Fh=({root:t,action:e})=>{const{id:i}=e,s=t.childViews.find(n=>n.id===i);s&&(s.scaleX=.9,s.scaleY=.9,s.opacity=0,s.markedForRemoval=!0)},ls=t=>t.rect.element.height+t.rect.element.marginBottom*.5+t.rect.element.marginTop*.5,Bh=t=>t.rect.element.width+t.rect.element.marginLeft*.5+t.rect.element.marginRight*.5,Gh=({root:t,action:e})=>{const{id:i,dragState:s}=e,n=t.query("GET_ITEM",{id:i}),r=t.childViews.find(E=>E.id===i),o=t.childViews.length,a=s.getItemIndex(n);if(!r)return;const l={x:r.dragOrigin.x+r.dragOffset.x+r.dragCenter.x,y:r.dragOrigin.y+r.dragOffset.y+r.dragCenter.y},c=ls(r),d=Bh(r);let h=Math.floor(t.rect.outer.width/d);h>o&&(h=o);const p=Math.floor(o/h+1);di.setHeight=c*p,di.setWidth=d*h;var g={y:Math.floor(l.y/c),x:Math.floor(l.x/d),getGridIndex:function(){return l.y>di.getHeight||l.y<0||l.x>di.getWidth||l.x<0?a:this.y*h+this.x},getColIndex:function(){const y=t.query("GET_ACTIVE_ITEMS"),f=t.childViews.filter(P=>P.rect.element.height),_=y.map(P=>f.find(L=>L.id===P.id)),T=_.findIndex(P=>P===r),v=ls(r),O=_.length;let C=O,w=0,D=0,x=0;for(let P=0;P<O;P++)if(w=ls(_[P]),x=D,D=x+w,l.y<D){if(T>P){if(l.y<x+v){C=P;break}continue}C=P;break}return C}};const u=h>1?g.getGridIndex():g.getColIndex();t.dispatch("MOVE_ITEM",{query:r,index:u});const m=s.getIndex();if(m===void 0||m!==u){if(s.setIndex(u),m===void 0)return;t.dispatch("DID_REORDER_ITEMS",{items:t.query("GET_ACTIVE_ITEMS"),origin:a,target:u})}},Uh=ie({DID_ADD_ITEM:xh,DID_REMOVE_ITEM:Fh,DID_DRAG_ITEM:Gh}),zh=({root:t,props:e,actions:i,shouldOptimize:s})=>{Uh({root:t,props:e,actions:i});const{dragCoordinates:n}=e,r=t.rect.element.width,o=t.childViews.filter(_=>_.rect.element.height),a=t.query("GET_ACTIVE_ITEMS").map(_=>o.find(T=>T.id===_.id)).filter(_=>_),l=n?js(t,a,n):null,c=t.ref.addIndex||null;t.ref.addIndex=null;let d=0,h=0,p=0;if(a.length===0)return;const g=a[0].rect.element,u=g.marginTop+g.marginBottom,m=g.marginLeft+g.marginRight,E=g.width+m,y=g.height+u,f=Zs(r,E);if(f===1){let _=0,T=0;a.forEach((v,O)=>{if(l){let D=O-l;D===-2?T=-u*.25:D===-1?T=-u*.75:D===0?T=u*.75:D===1?T=u*.25:T=0}s&&(v.translateX=null,v.translateY=null),v.markedForRemoval||er(v,0,_+T);let w=(v.rect.element.height+u)*(v.markedForRemoval?v.opacity:1);_+=w})}else{let _=0,T=0;a.forEach((v,O)=>{O===l&&(d=1),O===c&&(p+=1),v.markedForRemoval&&v.opacity<.5&&(h-=1);const C=O+p+d+h,w=C%f,D=Math.floor(C/f),x=w*E,P=D*y,L=Math.sign(x-_),V=Math.sign(P-T);_=x,T=P,!v.markedForRemoval&&(s&&(v.translateX=null,v.translateY=null),er(v,x,P,L,V))})}},Vh=(t,e)=>e.filter(i=>i.data&&i.data.id?t.id===i.data.id:!0),Hh=X({create:Mh,write:zh,tag:"ul",name:"list",didWriteView:({root:t})=>{t.childViews.filter(e=>e.markedForRemoval&&e.opacity===0&&e.resting).forEach(e=>{e._destroy(),t.removeChildView(e)})},filterFrameActionsForChild:Vh,mixins:{apis:["dragCoordinates"]}}),$h=({root:t,props:e})=>{t.ref.list=t.appendChildView(t.createChildView(Hh)),e.dragCoordinates=null,e.overflowing=!1},kh=({root:t,props:e,action:i})=>{t.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(e.dragCoordinates={left:i.position.scopeLeft-t.ref.list.rect.element.left,top:i.position.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},qh=({props:t})=>{t.dragCoordinates=null},Wh=ie({DID_DRAG:kh,DID_END_DRAG:qh}),Yh=({root:t,props:e,actions:i})=>{if(Wh({root:t,props:e,actions:i}),t.ref.list.dragCoordinates=e.dragCoordinates,e.overflowing&&!e.overflow&&(e.overflowing=!1,t.element.dataset.state="",t.height=null),e.overflow){const s=Math.round(e.overflow);s!==t.height&&(e.overflowing=!0,t.element.dataset.state="overflow",t.height=s)}},Xh=X({create:$h,write:Yh,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Ie=(t,e,i,s="")=>{i?j(t,e,s):t.removeAttribute(e)},Zh=t=>{if(!(!t||t.value==="")){try{t.value=""}catch{}if(t.value){const e=De("form"),i=t.parentNode,s=t.nextSibling;e.appendChild(t),e.reset(),s?i.insertBefore(t,s):i.appendChild(t)}}},jh=({root:t,props:e})=>{t.element.id=`filepond--browser-${e.id}`,j(t.element,"name",t.query("GET_NAME")),j(t.element,"aria-controls",`filepond--assistant-${e.id}`),j(t.element,"aria-labelledby",`filepond--drop-label-${e.id}`),Co({root:t,action:{value:t.query("GET_ACCEPTED_FILE_TYPES")}}),Po({root:t,action:{value:t.query("GET_ALLOW_MULTIPLE")}}),Lo({root:t,action:{value:t.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Rs({root:t}),Mo({root:t,action:{value:t.query("GET_REQUIRED")}}),xo({root:t,action:{value:t.query("GET_CAPTURE_METHOD")}}),t.ref.handleChange=i=>{if(!t.element.value)return;const s=Array.from(t.element.files).map(n=>(n._relativePath=n.webkitRelativePath,n));setTimeout(()=>{e.onload(s),Zh(t.element)},250)},t.element.addEventListener("change",t.ref.handleChange)},Co=({root:t,action:e})=>{t.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Ie(t.element,"accept",!!e.value,e.value?e.value.join(","):"")},Po=({root:t,action:e})=>{Ie(t.element,"multiple",e.value)},Lo=({root:t,action:e})=>{Ie(t.element,"webkitdirectory",e.value)},Rs=({root:t})=>{const e=t.query("GET_DISABLED"),i=t.query("GET_ALLOW_BROWSE"),s=e||!i;Ie(t.element,"disabled",s)},Mo=({root:t,action:e})=>{e.value?t.query("GET_TOTAL_ITEMS")===0&&Ie(t.element,"required",!0):Ie(t.element,"required",!1)},xo=({root:t,action:e})=>{Ie(t.element,"capture",!!e.value,e.value===!0?"":e.value)},tr=({root:t})=>{const{element:e}=t;if(t.query("GET_TOTAL_ITEMS")>0){Ie(e,"required",!1),Ie(e,"name",!1);const i=t.query("GET_ACTIVE_ITEMS");let s=!1;for(let n=0;n<i.length;n++)i[n].status===F.LOAD_ERROR&&(s=!0);t.element.setCustomValidity(s?t.query("GET_LABEL_INVALID_FIELD"):"")}else Ie(e,"name",!0,t.query("GET_NAME")),t.query("GET_CHECK_VALIDITY")&&e.setCustomValidity(""),t.query("GET_REQUIRED")&&Ie(e,"required",!0)},Kh=({root:t})=>{t.query("GET_CHECK_VALIDITY")&&t.element.setCustomValidity(t.query("GET_LABEL_INVALID_FIELD"))},Qh=X({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:jh,destroy:({root:t})=>{t.element.removeEventListener("change",t.ref.handleChange)},write:ie({DID_LOAD_ITEM:tr,DID_REMOVE_ITEM:tr,DID_THROW_ITEM_INVALID:Kh,DID_SET_DISABLED:Rs,DID_SET_ALLOW_BROWSE:Rs,DID_SET_ALLOW_DIRECTORIES_ONLY:Lo,DID_SET_ALLOW_MULTIPLE:Po,DID_SET_ACCEPTED_FILE_TYPES:Co,DID_SET_CAPTURE_METHOD:xo,DID_SET_REQUIRED:Mo})}),ir={ENTER:13,SPACE:32},Jh=({root:t,props:e})=>{const i=De("label");j(i,"for",`filepond--browser-${e.id}`),j(i,"id",`filepond--drop-label-${e.id}`),t.ref.handleKeyDown=s=>{(s.keyCode===ir.ENTER||s.keyCode===ir.SPACE)&&(s.preventDefault(),t.ref.label.click())},t.ref.handleClick=s=>{s.target===i||i.contains(s.target)||t.ref.label.click()},i.addEventListener("keydown",t.ref.handleKeyDown),t.element.addEventListener("click",t.ref.handleClick),No(i,e.caption),t.appendChild(i),t.ref.label=i},No=(t,e)=>{t.innerHTML=e;const i=t.querySelector(".filepond--label-action");return i&&j(i,"tabindex","0"),e},eu=X({name:"drop-label",ignoreRect:!0,create:Jh,destroy:({root:t})=>{t.ref.label.addEventListener("keydown",t.ref.handleKeyDown),t.element.removeEventListener("click",t.ref.handleClick)},write:ie({DID_SET_LABEL_IDLE:({root:t,action:e})=>{No(t.ref.label,e.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),tu=X({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),iu=({root:t})=>{const e=t.rect.element.width*.5,i=t.rect.element.height*.5;t.ref.blob=t.appendChildView(t.createChildView(tu,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:e,translateY:i}))},su=({root:t,action:e})=>{if(!t.ref.blob){iu({root:t});return}t.ref.blob.translateX=e.position.scopeLeft,t.ref.blob.translateY=e.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1},nu=({root:t})=>{t.ref.blob&&(t.ref.blob.opacity=0)},ru=({root:t})=>{t.ref.blob&&(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},ou=({root:t,props:e,actions:i})=>{au({root:t,props:e,actions:i});const{blob:s}=t.ref;i.length===0&&s&&s.opacity===0&&(t.removeChildView(s),t.ref.blob=null)},au=ie({DID_DRAG:su,DID_DROP:ru,DID_END_DRAG:nu}),lu=X({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:ou}),Fo=(t,e)=>{try{const i=new DataTransfer;e.forEach(s=>{s instanceof File?i.items.add(s):i.items.add(new File([s],s.name,{type:s.type}))}),t.files=i.files}catch{return!1}return!0},cu=({root:t})=>{t.ref.fields={};const e=document.createElement("legend");e.textContent="Files",t.element.appendChild(e)},ji=(t,e)=>t.ref.fields[e],Ks=t=>{t.query("GET_ACTIVE_ITEMS").forEach(e=>{t.ref.fields[e.id]&&t.element.appendChild(t.ref.fields[e.id])})},sr=({root:t})=>Ks(t),du=({root:t,action:e})=>{const n=!(t.query("GET_ITEM",e.id).origin===Z.LOCAL)&&t.query("SHOULD_UPDATE_FILE_INPUT"),r=De("input");r.type=n?"file":"hidden",r.name=t.query("GET_NAME"),t.ref.fields[e.id]=r,Ks(t)},hu=({root:t,action:e})=>{const i=ji(t,e.id);if(!i||(e.serverFileReference!==null&&(i.value=e.serverFileReference),!t.query("SHOULD_UPDATE_FILE_INPUT")))return;const s=t.query("GET_ITEM",e.id);Fo(i,[s.file])},uu=({root:t,action:e})=>{t.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const i=ji(t,e.id);i&&Fo(i,[e.file])},0)},pu=({root:t})=>{t.element.disabled=t.query("GET_DISABLED")},fu=({root:t,action:e})=>{const i=ji(t,e.id);i&&(i.parentNode&&i.parentNode.removeChild(i),delete t.ref.fields[e.id])},gu=({root:t,action:e})=>{const i=ji(t,e.id);i&&(e.value===null?i.removeAttribute("value"):i.type!="file"&&(i.value=e.value),Ks(t))},mu=ie({DID_SET_DISABLED:pu,DID_ADD_ITEM:du,DID_LOAD_ITEM:hu,DID_REMOVE_ITEM:fu,DID_DEFINE_VALUE:gu,DID_PREPARE_OUTPUT:uu,DID_REORDER_ITEMS:sr,DID_SORT_ITEMS:sr}),Eu=X({tag:"fieldset",name:"data",create:cu,write:mu,ignoreRect:!0}),_u=t=>"getRootNode"in t?t.getRootNode():document,yu=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Iu=["css","csv","html","txt"],Tu={zip:"zip|compressed",epub:"application/epub+zip"},Bo=(t="")=>(t=t.toLowerCase(),yu.includes(t)?"image/"+(t==="jpg"?"jpeg":t==="svg"?"svg+xml":t):Iu.includes(t)?"text/"+t:Tu[t]||""),Qs=t=>new Promise((e,i)=>{const s=Du(t);if(s.length&&!vu(t))return e(s);Su(t).then(e)}),vu=t=>t.files?t.files.length>0:!1,Su=t=>new Promise((e,i)=>{const s=(t.items?Array.from(t.items):[]).filter(n=>wu(n)).map(n=>bu(n));if(!s.length){e(t.files?Array.from(t.files):[]);return}Promise.all(s).then(n=>{const r=[];n.forEach(o=>{r.push.apply(r,o)}),e(r.filter(o=>o).map(o=>(o._relativePath||(o._relativePath=o.webkitRelativePath),o)))}).catch(console.error)}),wu=t=>{if(Go(t)){const e=Js(t);if(e)return e.isFile||e.isDirectory}return t.kind==="file"},bu=t=>new Promise((e,i)=>{if(Au(t)){Ru(Js(t)).then(e).catch(i);return}e([t.getAsFile()])}),Ru=t=>new Promise((e,i)=>{const s=[];let n=0,r=0;const o=()=>{r===0&&n===0&&e(s)},a=l=>{n++;const c=l.createReader(),d=()=>{c.readEntries(h=>{if(h.length===0){n--,o();return}h.forEach(p=>{p.isDirectory?a(p):(r++,p.file(g=>{const u=Ou(g);p.fullPath&&(u._relativePath=p.fullPath),s.push(u),r--,o()}))}),d()},i)};d()};a(t)}),Ou=t=>{if(t.type.length)return t;const e=t.lastModifiedDate,i=t.name,s=Bo(Zi(t.name));return s.length&&(t=t.slice(0,t.size,s),t.name=i,t.lastModifiedDate=e),t},Au=t=>Go(t)&&(Js(t)||{}).isDirectory,Go=t=>"webkitGetAsEntry"in t,Js=t=>t.webkitGetAsEntry(),Du=t=>{let e=[];try{if(e=Pu(t),e.length)return e;e=Cu(t)}catch{}return e},Cu=t=>{let e=t.getData("url");return typeof e=="string"&&e.length?[e]:[]},Pu=t=>{let e=t.getData("text/html");if(typeof e=="string"&&e.length){const i=e.match(/src\s*=\s*"(.+?)"/);if(i)return[i[1]]}return[]},xi=[],Ye=t=>({pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}),Lu=(t,e,i)=>{const s=Mu(e),n={element:t,filterElement:i,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return n.destroy=s.addListener(n),n},Mu=t=>{const e=xi.find(s=>s.element===t);if(e)return e;const i=xu(t);return xi.push(i),i},xu=t=>{const e=[],i={dragenter:Fu,dragover:Bu,dragleave:Uu,drop:Gu},s={};$(i,(r,o)=>{s[r]=o(t,e),t.addEventListener(r,s[r],!1)});const n={element:t,addListener:r=>(e.push(r),()=>{e.splice(e.indexOf(r),1),e.length===0&&(xi.splice(xi.indexOf(n),1),$(i,o=>{t.removeEventListener(o,s[o],!1)}))})};return n},Nu=(t,e)=>("elementFromPoint"in t||(t=document),t.elementFromPoint(e.x,e.y)),en=(t,e)=>{const i=_u(e),s=Nu(i,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return s===e||e.contains(s)};let Uo=null;const hi=(t,e)=>{try{t.dropEffect=e}catch{}},Fu=(t,e)=>i=>{i.preventDefault(),Uo=i.target,e.forEach(s=>{const{element:n,onenter:r}=s;en(i,n)&&(s.state="enter",r(Ye(i)))})},Bu=(t,e)=>i=>{i.preventDefault();const s=i.dataTransfer;Qs(s).then(n=>{let r=!1;e.some(o=>{const{filterElement:a,element:l,onenter:c,onexit:d,ondrag:h,allowdrop:p}=o;hi(s,"copy");const g=p(n);if(!g){hi(s,"none");return}if(en(i,l)){if(r=!0,o.state===null){o.state="enter",c(Ye(i));return}if(o.state="over",a&&!g){hi(s,"none");return}h(Ye(i))}else a&&!r&&hi(s,"none"),o.state&&(o.state=null,d(Ye(i)))})})},Gu=(t,e)=>i=>{i.preventDefault();const s=i.dataTransfer;Qs(s).then(n=>{e.forEach(r=>{const{filterElement:o,element:a,ondrop:l,onexit:c,allowdrop:d}=r;if(r.state=null,!(o&&!en(i,a))){if(!d(n))return c(Ye(i));l(Ye(i),n)}})})},Uu=(t,e)=>i=>{Uo===i.target&&e.forEach(s=>{const{onexit:n}=s;s.state=null,n(Ye(i))})},zu=(t,e,i)=>{t.classList.add("filepond--hopper");const{catchesDropsOnPage:s,requiresDropOnElement:n,filterItems:r=d=>d}=i,o=Lu(t,s?document.documentElement:t,n);let a="",l="";o.allowdrop=d=>e(r(d)),o.ondrop=(d,h)=>{const p=r(h);if(!e(p)){c.ondragend(d);return}l="drag-drop",c.onload(p,d)},o.ondrag=d=>{c.ondrag(d)},o.onenter=d=>{l="drag-over",c.ondragstart(d)},o.onexit=d=>{l="drag-exit",c.ondragend(d)};const c={updateHopperState:()=>{a!==l&&(t.dataset.hopperState=l,a=l)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{o.destroy()}};return c};let Os=!1;const rt=[],zo=t=>{const e=document.activeElement;if(e&&(/textarea|input/i.test(e.nodeName)||e.getAttribute("contenteditable")==="true")){let s=!1,n=e;for(;n!==document.body;){if(n.classList.contains("filepond--root")){s=!0;break}n=n.parentNode}if(!s)return}Qs(t.clipboardData).then(s=>{s.length&&rt.forEach(n=>n(s))})},Vu=t=>{rt.includes(t)||(rt.push(t),!Os&&(Os=!0,document.addEventListener("paste",zo)))},Hu=t=>{qs(rt,rt.indexOf(t)),rt.length===0&&(document.removeEventListener("paste",zo),Os=!1)},$u=()=>{const t=i=>{e.onload(i)},e={destroy:()=>{Hu(t)},onload:()=>{}};return Vu(t),e},ku=({root:t,props:e})=>{t.element.id=`filepond--assistant-${e.id}`,j(t.element,"role","alert"),j(t.element,"aria-live","polite"),j(t.element,"aria-relevant","additions")};let nr=null,rr=null;const cs=[],Ki=(t,e)=>{t.element.textContent=e},qu=t=>{t.element.textContent=""},Vo=(t,e,i)=>{const s=t.query("GET_TOTAL_ITEMS");Ki(t,`${i} ${e}, ${s} ${s===1?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(rr),rr=setTimeout(()=>{qu(t)},1500)},Ho=t=>t.element.parentNode.contains(document.activeElement),Wu=({root:t,action:e})=>{if(!Ho(t))return;t.element.textContent="";const i=t.query("GET_ITEM",e.id);cs.push(i.filename),clearTimeout(nr),nr=setTimeout(()=>{Vo(t,cs.join(", "),t.query("GET_LABEL_FILE_ADDED")),cs.length=0},750)},Yu=({root:t,action:e})=>{if(!Ho(t))return;const i=e.item;Vo(t,i.filename,t.query("GET_LABEL_FILE_REMOVED"))},Xu=({root:t,action:e})=>{const s=t.query("GET_ITEM",e.id).filename,n=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Ki(t,`${s} ${n}`)},or=({root:t,action:e})=>{const s=t.query("GET_ITEM",e.id).filename,n=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");Ki(t,`${s} ${n}`)},ui=({root:t,action:e})=>{const s=t.query("GET_ITEM",e.id).filename;Ki(t,`${e.status.main} ${s} ${e.status.sub}`)},Zu=X({create:ku,ignoreRect:!0,ignoreRectUpdate:!0,write:ie({DID_LOAD_ITEM:Wu,DID_REMOVE_ITEM:Yu,DID_COMPLETE_ITEM_PROCESSING:Xu,DID_ABORT_ITEM_PROCESSING:or,DID_REVERT_ITEM_PROCESSING:or,DID_THROW_ITEM_REMOVE_ERROR:ui,DID_THROW_ITEM_LOAD_ERROR:ui,DID_THROW_ITEM_INVALID:ui,DID_THROW_ITEM_PROCESSING_ERROR:ui}),tag:"span",name:"assistant"}),$o=(t,e="-")=>t.replace(new RegExp(`${e}.`,"g"),i=>i.charAt(1).toUpperCase()),ko=(t,e=16,i=!0)=>{let s=Date.now(),n=null;return(...r)=>{clearTimeout(n);const o=Date.now()-s,a=()=>{s=Date.now(),t(...r)};o<e?i||(n=setTimeout(a,e-o)):a()}},ju=1e6,Ni=t=>t.preventDefault(),Ku=({root:t,props:e})=>{const i=t.query("GET_ID");i&&(t.element.id=i);const s=t.query("GET_CLASS_NAME");s&&s.split(" ").filter(l=>l.length).forEach(l=>{t.element.classList.add(l)}),t.ref.label=t.appendChildView(t.createChildView(eu,{...e,translateY:null,caption:t.query("GET_LABEL_IDLE")})),t.ref.list=t.appendChildView(t.createChildView(Xh,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(Do,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(Zu,{...e})),t.ref.data=t.appendChildView(t.createChildView(Eu,{...e})),t.ref.measure=De("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure),t.ref.bounds=null,t.query("GET_STYLES").filter(l=>!Ae(l.value)).map(({name:l,value:c})=>{t.element.dataset[l]=c}),t.ref.widthPrevious=null,t.ref.widthUpdated=ko(()=>{t.ref.updateHistory=[],t.dispatch("DID_RESIZE_ROOT")},250),t.ref.previousAspectRatio=null,t.ref.updateHistory=[];const n=window.matchMedia("(pointer: fine) and (hover: hover)").matches,r="PointerEvent"in window;t.query("GET_ALLOW_REORDER")&&r&&!n&&(t.element.addEventListener("touchmove",Ni,{passive:!1}),t.element.addEventListener("gesturestart",Ni));const o=t.query("GET_CREDITS");if(o.length===2){const l=document.createElement("a");l.className="filepond--credits",l.href=o[0],l.tabIndex=-1,l.target="_blank",l.rel="noopener noreferrer nofollow",l.textContent=o[1],t.element.appendChild(l),t.ref.credits=l}},Qu=({root:t,props:e,actions:i})=>{if(sp({root:t,props:e,actions:i}),i.filter(O=>/^DID_SET_STYLE_/.test(O.type)).filter(O=>!Ae(O.data.value)).map(({type:O,data:C})=>{const w=$o(O.substring(8).toLowerCase(),"_");t.element.dataset[w]=C.value,t.invalidateLayout()}),t.rect.element.hidden)return;t.rect.element.width!==t.ref.widthPrevious&&(t.ref.widthPrevious=t.rect.element.width,t.ref.widthUpdated());let s=t.ref.bounds;s||(s=t.ref.bounds=tp(t),t.element.removeChild(t.ref.measure),t.ref.measure=null);const{hopper:n,label:r,list:o,panel:a}=t.ref;n&&n.updateHopperState();const l=t.query("GET_PANEL_ASPECT_RATIO"),c=t.query("GET_ALLOW_MULTIPLE"),d=t.query("GET_TOTAL_ITEMS"),h=c?t.query("GET_MAX_FILES")||ju:1,p=d===h,g=i.find(O=>O.type==="DID_ADD_ITEM");if(p&&g){const O=g.data.interactionMethod;r.opacity=0,c?r.translateY=-40:O===ge.API?r.translateX=40:O===ge.BROWSE?r.translateY=40:r.translateY=30}else p||(r.opacity=1,r.translateX=0,r.translateY=0);const u=Ju(t),m=ep(t),E=r.rect.element.height,y=!c||p?0:E,f=p?o.rect.element.marginTop:0,_=d===0?0:o.rect.element.marginBottom,T=y+f+m.visual+_,v=y+f+m.bounds+_;if(o.translateY=Math.max(0,y-o.rect.element.marginTop)-u.top,l){const O=t.rect.element.width,C=O*l;l!==t.ref.previousAspectRatio&&(t.ref.previousAspectRatio=l,t.ref.updateHistory=[]);const w=t.ref.updateHistory;w.push(O);const D=2;if(w.length>D*2){const P=w.length,L=P-10;let V=0;for(let A=P;A>=L;A--)if(w[A]===w[A-2]&&V++,V>=D)return}a.scalable=!1,a.height=C;const x=C-y-(_-u.bottom)-(p?f:0);m.visual>x?o.overflow=x:o.overflow=null,t.height=C}else if(s.fixedHeight){a.scalable=!1;const O=s.fixedHeight-y-(_-u.bottom)-(p?f:0);m.visual>O?o.overflow=O:o.overflow=null}else if(s.cappedHeight){const O=T>=s.cappedHeight,C=Math.min(s.cappedHeight,T);a.scalable=!0,a.height=O?C:C-u.top-u.bottom;const w=C-y-(_-u.bottom)-(p?f:0);T>s.cappedHeight&&m.visual>w?o.overflow=w:o.overflow=null,t.height=Math.min(s.cappedHeight,v-u.top-u.bottom)}else{const O=d>0?u.top+u.bottom:0;a.scalable=!0,a.height=Math.max(E,T-O),t.height=Math.max(E,v-O)}t.ref.credits&&a.heightCurrent&&(t.ref.credits.style.transform=`translateY(${a.heightCurrent}px)`)},Ju=t=>{const e=t.ref.list.childViews[0].childViews[0];return e?{top:e.rect.element.marginTop,bottom:e.rect.element.marginBottom}:{top:0,bottom:0}},ep=t=>{let e=0,i=0;const s=t.ref.list,n=s.childViews[0],r=n.childViews.filter(f=>f.rect.element.height),o=t.query("GET_ACTIVE_ITEMS").map(f=>r.find(_=>_.id===f.id)).filter(f=>f);if(o.length===0)return{visual:e,bounds:i};const a=n.rect.element.width,l=js(n,o,s.dragCoordinates),c=o[0].rect.element,d=c.marginTop+c.marginBottom,h=c.marginLeft+c.marginRight,p=c.width+h,g=c.height+d,u=typeof l<"u"&&l>=0?1:0,m=o.find(f=>f.markedForRemoval&&f.opacity<.45)?-1:0,E=o.length+u+m,y=Zs(a,p);return y===1?o.forEach(f=>{const _=f.rect.element.height+d;i+=_,e+=_*f.opacity}):(i=Math.ceil(E/y)*g,e=i),{visual:e,bounds:i}},tp=t=>{const e=t.ref.measureHeight||null;return{cappedHeight:parseInt(t.style.maxHeight,10)||null,fixedHeight:e===0?null:e}},tn=(t,e)=>{const i=t.query("GET_ALLOW_REPLACE"),s=t.query("GET_ALLOW_MULTIPLE"),n=t.query("GET_TOTAL_ITEMS");let r=t.query("GET_MAX_FILES");const o=e.length;return!s&&o>1?(t.dispatch("DID_THROW_MAX_FILES",{source:e,error:k("warning",0,"Max files")}),!0):(r=s?r:1,!s&&i?!1:dt(r)&&n+o>r?(t.dispatch("DID_THROW_MAX_FILES",{source:e,error:k("warning",0,"Max files")}),!0):!1)},ip=(t,e,i)=>{const s=t.childViews[0];return js(s,e,{left:i.scopeLeft-s.rect.element.left,top:i.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},ar=t=>{const e=t.query("GET_ALLOW_DROP"),i=t.query("GET_DISABLED"),s=e&&!i;if(s&&!t.ref.hopper){const n=zu(t.element,r=>{const o=t.query("GET_BEFORE_DROP_FILE")||(()=>!0);return t.query("GET_DROP_VALIDATION")?r.every(l=>Ze("ALLOW_HOPPER_ITEM",l,{query:t.query}).every(c=>c===!0)&&o(l)):!0},{filterItems:r=>{const o=t.query("GET_IGNORED_FILES");return r.filter(a=>We(a)?!o.includes(a.name.toLowerCase()):!0)},catchesDropsOnPage:t.query("GET_DROP_ON_PAGE"),requiresDropOnElement:t.query("GET_DROP_ON_ELEMENT")});n.onload=(r,o)=>{const l=t.ref.list.childViews[0].childViews.filter(d=>d.rect.element.height),c=t.query("GET_ACTIVE_ITEMS").map(d=>l.find(h=>h.id===d.id)).filter(d=>d);_e("ADD_ITEMS",r,{dispatch:t.dispatch}).then(d=>{if(tn(t,d))return!1;t.dispatch("ADD_ITEMS",{items:d,index:ip(t.ref.list,c,o),interactionMethod:ge.DROP})}),t.dispatch("DID_DROP",{position:o}),t.dispatch("DID_END_DRAG",{position:o})},n.ondragstart=r=>{t.dispatch("DID_START_DRAG",{position:r})},n.ondrag=ko(r=>{t.dispatch("DID_DRAG",{position:r})}),n.ondragend=r=>{t.dispatch("DID_END_DRAG",{position:r})},t.ref.hopper=n,t.ref.drip=t.appendChildView(t.createChildView(lu))}else!s&&t.ref.hopper&&(t.ref.hopper.destroy(),t.ref.hopper=null,t.removeChildView(t.ref.drip))},lr=(t,e)=>{const i=t.query("GET_ALLOW_BROWSE"),s=t.query("GET_DISABLED"),n=i&&!s;n&&!t.ref.browser?t.ref.browser=t.appendChildView(t.createChildView(Qh,{...e,onload:r=>{_e("ADD_ITEMS",r,{dispatch:t.dispatch}).then(o=>{if(tn(t,o))return!1;t.dispatch("ADD_ITEMS",{items:o,index:-1,interactionMethod:ge.BROWSE})})}}),0):!n&&t.ref.browser&&(t.removeChildView(t.ref.browser),t.ref.browser=null)},cr=t=>{const e=t.query("GET_ALLOW_PASTE"),i=t.query("GET_DISABLED"),s=e&&!i;s&&!t.ref.paster?(t.ref.paster=$u(),t.ref.paster.onload=n=>{_e("ADD_ITEMS",n,{dispatch:t.dispatch}).then(r=>{if(tn(t,r))return!1;t.dispatch("ADD_ITEMS",{items:r,index:-1,interactionMethod:ge.PASTE})})}):!s&&t.ref.paster&&(t.ref.paster.destroy(),t.ref.paster=null)},sp=ie({DID_SET_ALLOW_BROWSE:({root:t,props:e})=>{lr(t,e)},DID_SET_ALLOW_DROP:({root:t})=>{ar(t)},DID_SET_ALLOW_PASTE:({root:t})=>{cr(t)},DID_SET_DISABLED:({root:t,props:e})=>{ar(t),cr(t),lr(t,e),t.query("GET_DISABLED")?t.element.dataset.disabled="disabled":t.element.removeAttribute("data-disabled")}}),np=X({name:"root",read:({root:t})=>{t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:Ku,write:Qu,destroy:({root:t})=>{t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy(),t.element.removeEventListener("touchmove",Ni),t.element.removeEventListener("gesturestart",Ni)},mixins:{styles:["height"]}}),rp=(t={})=>{let e=null;const i=Mi(),s=vc(ad(i),[bd,dd(i)],[jd,cd(i)]);s.dispatch("SET_OPTIONS",{options:t});const n=()=>{document.hidden||s.dispatch("KICK")};document.addEventListener("visibilitychange",n);let r=null,o=!1,a=!1,l=null,c=null;const d=()=>{o||(o=!0),clearTimeout(r),r=setTimeout(()=>{o=!1,l=null,c=null,a&&(a=!1,s.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",d);const h=np(s,{id:ks()});let p=!1,g=!1;const u={_read:()=>{o&&(c=window.innerWidth,l||(l=c),!a&&c!==l&&(s.dispatch("DID_START_RESIZE"),a=!0)),g&&p&&(p=h.element.offsetParent===null),!p&&(h._read(),g=h.rect.element.hidden)},_write:b=>{const R=s.processActionQueue().filter(M=>!/^SET_/.test(M.type));p&&!R.length||(f(R),p=h._write(b,R,a),pd(s.query("GET_ITEMS")),p&&s.processDispatchQueue())}},m=b=>R=>{const M={type:b};if(!R)return M;if(R.hasOwnProperty("error")&&(M.error=R.error?{...R.error}:null),R.status&&(M.status={...R.status}),R.file&&(M.output=R.file),R.source)M.file=R.source;else if(R.item||R.id){const N=R.item?R.item:s.query("GET_ITEM",R.id);M.file=N?ne(N):null}return R.items&&(M.items=R.items.map(ne)),/progress/.test(b)&&(M.progress=R.progress),R.hasOwnProperty("origin")&&R.hasOwnProperty("target")&&(M.origin=R.origin,M.target=R.target),M},E={DID_DESTROY:m("destroy"),DID_INIT:m("init"),DID_THROW_MAX_FILES:m("warning"),DID_INIT_ITEM:m("initfile"),DID_START_ITEM_LOAD:m("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:m("addfileprogress"),DID_LOAD_ITEM:m("addfile"),DID_THROW_ITEM_INVALID:[m("error"),m("addfile")],DID_THROW_ITEM_LOAD_ERROR:[m("error"),m("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[m("error"),m("removefile")],DID_PREPARE_OUTPUT:m("preparefile"),DID_START_ITEM_PROCESSING:m("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:m("processfileprogress"),DID_ABORT_ITEM_PROCESSING:m("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:m("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:m("processfiles"),DID_REVERT_ITEM_PROCESSING:m("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[m("error"),m("processfile")],DID_REMOVE_ITEM:m("removefile"),DID_UPDATE_ITEMS:m("updatefiles"),DID_ACTIVATE_ITEM:m("activatefile"),DID_REORDER_ITEMS:m("reorderfiles")},y=b=>{const R={pond:U,...b};delete R.type,h.element.dispatchEvent(new CustomEvent(`FilePond:${b.type}`,{detail:R,bubbles:!0,cancelable:!0,composed:!0}));const M=[];b.hasOwnProperty("error")&&M.push(b.error),b.hasOwnProperty("file")&&M.push(b.file);const N=["type","error","file"];Object.keys(b).filter(B=>!N.includes(B)).forEach(B=>M.push(b[B])),U.fire(b.type,...M);const H=s.query(`GET_ON${b.type.toUpperCase()}`);H&&H(...M)},f=b=>{b.length&&b.filter(R=>E[R.type]).forEach(R=>{const M=E[R.type];(Array.isArray(M)?M:[M]).forEach(N=>{R.type==="DID_INIT_ITEM"?y(N(R.data)):setTimeout(()=>{y(N(R.data))},0)})})},_=b=>s.dispatch("SET_OPTIONS",{options:b}),T=b=>s.query("GET_ACTIVE_ITEM",b),v=b=>new Promise((R,M)=>{s.dispatch("REQUEST_ITEM_PREPARE",{query:b,success:N=>{R(N)},failure:N=>{M(N)}})}),O=(b,R={})=>new Promise((M,N)=>{D([{source:b,options:R}],{index:R.index}).then(H=>M(H&&H[0])).catch(N)}),C=b=>b.file&&b.id,w=(b,R)=>(typeof b=="object"&&!C(b)&&!R&&(R=b,b=void 0),s.dispatch("REMOVE_ITEM",{...R,query:b}),s.query("GET_ACTIVE_ITEM",b)===null),D=(...b)=>new Promise((R,M)=>{const N=[],H={};if(qi(b[0]))N.push.apply(N,b[0]),Object.assign(H,b[1]||{});else{const B=b[b.length-1];typeof B=="object"&&!(B instanceof Blob)&&Object.assign(H,b.pop()),N.push(...b)}s.dispatch("ADD_ITEMS",{items:N,index:H.index,interactionMethod:ge.API,success:R,failure:M})}),x=()=>s.query("GET_ACTIVE_ITEMS"),P=b=>new Promise((R,M)=>{s.dispatch("REQUEST_ITEM_PROCESSING",{query:b,success:N=>{R(N)},failure:N=>{M(N)}})}),L=(...b)=>{const R=Array.isArray(b[0])?b[0]:b,M=R.length?R:x();return Promise.all(M.map(v))},V=(...b)=>{const R=Array.isArray(b[0])?b[0]:b;if(!R.length){const M=x().filter(N=>!(N.status===F.IDLE&&N.origin===Z.LOCAL)&&N.status!==F.PROCESSING&&N.status!==F.PROCESSING_COMPLETE&&N.status!==F.PROCESSING_REVERT_ERROR);return Promise.all(M.map(P))}return Promise.all(R.map(P))},A=(...b)=>{const R=Array.isArray(b[0])?b[0]:b;let M;typeof R[R.length-1]=="object"?M=R.pop():Array.isArray(b[0])&&(M=b[1]);const N=x();return R.length?R.map(B=>Ue(B)?N[B]?N[B].id:null:B).filter(B=>B).map(B=>w(B,M)):Promise.all(N.map(B=>w(B,M)))},U={...Xi(),...u,...ld(s,i),setOptions:_,addFile:O,addFiles:D,getFile:T,processFile:P,prepareFile:v,removeFile:w,moveFile:(b,R)=>s.dispatch("MOVE_ITEM",{query:b,index:R}),getFiles:x,processFiles:V,removeFiles:A,prepareFiles:L,sort:b=>s.dispatch("SORT",{compare:b}),browse:()=>{var b=h.element.querySelector("input[type=file]");b&&b.click()},destroy:()=>{U.fire("destroy",h.element),s.dispatch("ABORT_ALL"),h._destroy(),window.removeEventListener("resize",d),document.removeEventListener("visibilitychange",n),s.dispatch("DID_DESTROY")},insertBefore:b=>Ln(h.element,b),insertAfter:b=>Mn(h.element,b),appendTo:b=>b.appendChild(h.element),replaceElement:b=>{Ln(h.element,b),b.parentNode.removeChild(b),e=b},restoreElement:()=>{e&&(Mn(e,h.element),h.element.parentNode.removeChild(h.element),e=null)},isAttachedTo:b=>h.element===b||e===b,element:{get:()=>h.element},status:{get:()=>s.query("GET_STATUS")}};return s.dispatch("DID_INIT"),Me(U)},qo=(t={})=>{const e={};return $(Mi(),(s,n)=>{e[s]=n[0]}),rp({...e,...t})},op=t=>t.charAt(0).toLowerCase()+t.slice(1),ap=t=>$o(t.replace(/^data-/,"")),Wo=(t,e)=>{$(e,(i,s)=>{$(t,(n,r)=>{const o=new RegExp(i);if(!o.test(n)||(delete t[n],s===!1))return;if(te(s)){t[s]=r;return}const l=s.group;K(s)&&!t[l]&&(t[l]={}),t[l][op(n.replace(o,""))]=r}),s.mapping&&Wo(t[s.group],s.mapping)})},lp=(t,e={})=>{const i=[];$(t.attributes,n=>{i.push(t.attributes[n])});const s=i.filter(n=>n.name).reduce((n,r)=>{const o=j(t,r.name);return n[ap(r.name)]=o===r.name?!0:o,n},{});return Wo(s,e),s},cp=(t,e={})=>{const i={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Ze("SET_ATTRIBUTE_TO_OPTION_MAP",i);const s={...e},n=lp(t.nodeName==="FIELDSET"?t.querySelector("input[type=file]"):t,i);Object.keys(n).forEach(o=>{K(n[o])?(K(s[o])||(s[o]={}),Object.assign(s[o],n[o])):s[o]=n[o]}),s.files=(e.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map(o=>({source:o.value,options:{type:o.dataset.type}})));const r=qo(s);return t.files&&Array.from(t.files).forEach(o=>{r.addFile(o)}),r.replaceElement(t),r},dp=(...t)=>Tc(t[0])?cp(...t):qo(...t),hp=["fire","_read","_write"],dr=t=>{const e={};return po(t,e,hp),e},up=(t,e)=>t.replace(/(?:{([a-zA-Z]+)})/g,(i,s)=>e[s]),pp=t=>{const e=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),i=URL.createObjectURL(e),s=new Worker(i);return{transfer:(n,r)=>{},post:(n,r,o)=>{const a=ks();s.onmessage=l=>{l.data.id===a&&r(l.data.message)},s.postMessage({id:a,message:n},o)},terminate:()=>{s.terminate(),URL.revokeObjectURL(i)}}},fp=t=>new Promise((e,i)=>{const s=new Image;s.onload=()=>{e(s)},s.onerror=n=>{i(n)},s.src=t}),Yo=(t,e)=>{const i=t.slice(0,t.size,t.type);return i.lastModifiedDate=t.lastModifiedDate,i.name=e,i},gp=t=>Yo(t,t.name),hr=[],mp=t=>{if(hr.includes(t))return;hr.push(t);const e=t({addFilter:gd,utils:{Type:S,forin:$,isString:te,isFile:We,toNaturalFileSize:Ro,replaceInString:up,getExtensionFromFilename:Zi,getFilenameWithoutExtension:So,guesstimateMimeType:Bo,getFileFromBlob:ot,getFilenameFromURL:ti,createRoute:ie,createWorker:pp,createView:X,createItemAPI:ne,loadImage:fp,copyFile:gp,renameFile:Yo,createBlob:Io,applyFilterChain:_e,text:W,getNumericAspectRatioFromString:mo},views:{fileActionButton:bo}});md(e.options)},Ep=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",_p=()=>"Promise"in window,yp=()=>"slice"in Blob.prototype,Ip=()=>"URL"in window&&"createObjectURL"in window.URL,Tp=()=>"visibilityState"in document,vp=()=>"performance"in window,Sp=()=>"supports"in(window.CSS||{}),wp=()=>/MSIE|Trident/.test(window.navigator.userAgent),As=(()=>{const t=oo()&&!Ep()&&Tp()&&_p()&&yp()&&Ip()&&vp()&&(Sp()||wp());return()=>t})(),Ce={apps:[]},bp="filepond",je=()=>{};let Xo={},Zo={},jo={},Ds={},bi=je,Ri=je,Cs=je,Ps=je,Fi=je,Ls=je,Bi=je;if(As()){Yc(()=>{Ce.apps.forEach(i=>i._read())},i=>{Ce.apps.forEach(s=>s._write(i))});const t=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:As,create:bi,destroy:Ri,parse:Cs,find:Ps,registerPlugin:Fi,setOptions:Bi}})),document.removeEventListener("DOMContentLoaded",t)};document.readyState!=="loading"?setTimeout(()=>t(),0):document.addEventListener("DOMContentLoaded",t);const e=()=>$(Mi(),(i,s)=>{Ds[i]=s[1]});Xo={...Eo},jo={...Z},Zo={...F},Ds={},e(),bi=(...i)=>{const s=dp(...i);return s.on("destroy",Ri),Ce.apps.push(s),dr(s)},Ri=i=>{const s=Ce.apps.findIndex(n=>n.isAttachedTo(i));return s>=0?(Ce.apps.splice(s,1)[0].restoreElement(),!0):!1},Cs=i=>Array.from(i.querySelectorAll(`.${bp}`)).filter(r=>!Ce.apps.find(o=>o.isAttachedTo(r))).map(r=>bi(r)),Ps=i=>{const s=Ce.apps.find(n=>n.isAttachedTo(i));return s?dr(s):null},Fi=(...i)=>{i.forEach(mp),e()},Ls=()=>{const i={};return $(Mi(),(s,n)=>{i[s]=n[0]}),i},Bi=i=>(K(i)&&(Ce.apps.forEach(s=>{s.setOptions(i)}),Ed(i)),Ls())}const Rp=Object.freeze(Object.defineProperty({__proto__:null,get FileOrigin(){return jo},get FileStatus(){return Zo},get OptionTypes(){return Ds},get Status(){return Xo},get create(){return bi},get destroy(){return Ri},get find(){return Ps},get getOptions(){return Ls},get parse(){return Cs},get registerPlugin(){return Fi},get setOptions(){return Bi},supported:As},Symbol.toStringTag,{value:"Module"}));/*!
 * FilePondPluginImagePreview 4.6.12
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Op=t=>/^image/.test(t.type),ur=(t,e)=>Kt(t.x*e,t.y*e),pr=(t,e)=>Kt(t.x+e.x,t.y+e.y),Ap=t=>{const e=Math.sqrt(t.x*t.x+t.y*t.y);return e===0?{x:0,y:0}:Kt(t.x/e,t.y/e)},pi=(t,e,i)=>{const s=Math.cos(e),n=Math.sin(e),r=Kt(t.x-i.x,t.y-i.y);return Kt(i.x+s*r.x-n*r.y,i.y+n*r.x+s*r.y)},Kt=(t=0,e=0)=>({x:t,y:e}),re=(t,e,i=1,s)=>{if(typeof t=="string")return parseFloat(t)*i;if(typeof t=="number")return t*(s?e[s]:Math.min(e.width,e.height))},Dp=(t,e,i)=>{const s=t.borderStyle||t.lineStyle||"solid",n=t.backgroundColor||t.fontColor||"transparent",r=t.borderColor||t.lineColor||"transparent",o=re(t.borderWidth||t.lineWidth,e,i),a=t.lineCap||"round",l=t.lineJoin||"round",c=typeof s=="string"?"":s.map(h=>re(h,e,i)).join(","),d=t.opacity||1;return{"stroke-linecap":a,"stroke-linejoin":l,"stroke-width":o||0,"stroke-dasharray":c,stroke:r,fill:n,opacity:d}},ue=t=>t!=null,Cp=(t,e,i=1)=>{let s=re(t.x,e,i,"width")||re(t.left,e,i,"width"),n=re(t.y,e,i,"height")||re(t.top,e,i,"height"),r=re(t.width,e,i,"width"),o=re(t.height,e,i,"height"),a=re(t.right,e,i,"width"),l=re(t.bottom,e,i,"height");return ue(n)||(ue(o)&&ue(l)?n=e.height-o-l:n=l),ue(s)||(ue(r)&&ue(a)?s=e.width-r-a:s=a),ue(r)||(ue(s)&&ue(a)?r=e.width-s-a:r=0),ue(o)||(ue(n)&&ue(l)?o=e.height-n-l:o=0),{x:s||0,y:n||0,width:r||0,height:o||0}},Pp=t=>t.map((e,i)=>`${i===0?"M":"L"} ${e.x} ${e.y}`).join(" "),be=(t,e)=>Object.keys(e).forEach(i=>t.setAttribute(i,e[i])),Lp="http://www.w3.org/2000/svg",nt=(t,e)=>{const i=document.createElementNS(Lp,t);return e&&be(i,e),i},Mp=t=>be(t,{...t.rect,...t.styles}),xp=t=>{const e=t.rect.x+t.rect.width*.5,i=t.rect.y+t.rect.height*.5,s=t.rect.width*.5,n=t.rect.height*.5;return be(t,{cx:e,cy:i,rx:s,ry:n,...t.styles})},Np={contain:"xMidYMid meet",cover:"xMidYMid slice"},Fp=(t,e)=>{be(t,{...t.rect,...t.styles,preserveAspectRatio:Np[e.fit]||"none"})},Bp={left:"start",center:"middle",right:"end"},Gp=(t,e,i,s)=>{const n=re(e.fontSize,i,s),r=e.fontFamily||"sans-serif",o=e.fontWeight||"normal",a=Bp[e.textAlign]||"start";be(t,{...t.rect,...t.styles,"stroke-width":0,"font-weight":o,"font-size":n,"font-family":r,"text-anchor":a}),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},Up=(t,e,i,s)=>{be(t,{...t.rect,...t.styles,fill:"none"});const n=t.childNodes[0],r=t.childNodes[1],o=t.childNodes[2],a=t.rect,l={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(be(n,{x1:a.x,y1:a.y,x2:l.x,y2:l.y}),!e.lineDecoration)return;r.style.display="none",o.style.display="none";const c=Ap({x:l.x-a.x,y:l.y-a.y}),d=re(.05,i,s);if(e.lineDecoration.indexOf("arrow-begin")!==-1){const h=ur(c,d),p=pr(a,h),g=pi(a,2,p),u=pi(a,-2,p);be(r,{style:"display:block;",d:`M${g.x},${g.y} L${a.x},${a.y} L${u.x},${u.y}`})}if(e.lineDecoration.indexOf("arrow-end")!==-1){const h=ur(c,-d),p=pr(l,h),g=pi(l,2,p),u=pi(l,-2,p);be(o,{style:"display:block;",d:`M${g.x},${g.y} L${l.x},${l.y} L${u.x},${u.y}`})}},zp=(t,e,i,s)=>{be(t,{...t.styles,fill:"none",d:Pp(e.points.map(n=>({x:re(n.x,i,s,"width"),y:re(n.y,i,s,"height")})))})},fi=t=>e=>nt(t,{id:e.id}),Vp=t=>{const e=nt("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=()=>{e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},Hp=t=>{const e=nt("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),i=nt("line");e.appendChild(i);const s=nt("path");e.appendChild(s);const n=nt("path");return e.appendChild(n),e},$p={image:Vp,rect:fi("rect"),ellipse:fi("ellipse"),text:fi("text"),path:fi("path"),line:Hp},kp={rect:Mp,ellipse:xp,image:Fp,text:Gp,path:zp,line:Up},qp=(t,e)=>$p[t](e),Wp=(t,e,i,s,n)=>{e!=="path"&&(t.rect=Cp(i,s,n)),t.styles=Dp(i,s,n),kp[e](t,i,s,n)},Yp=["x","y","left","top","right","bottom","width","height"],Xp=t=>typeof t=="string"&&/%/.test(t)?parseFloat(t)/100:t,Zp=t=>{const[e,i]=t,s=i.points?{}:Yp.reduce((n,r)=>(n[r]=Xp(i[r]),n),{});return[e,{zIndex:0,...i,...s}]},jp=(t,e)=>t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0,Kp=t=>t.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:e,props:i})=>{if(!i.dirty)return;const{crop:s,resize:n,markup:r}=i,o=i.width,a=i.height;let l=s.width,c=s.height;if(n){const{size:g}=n;let u=g&&g.width,m=g&&g.height;const E=n.mode,y=n.upscale;u&&!m&&(m=u),m&&!u&&(u=m);const f=l<u&&c<m;if(!f||f&&y){let _=u/l,T=m/c;if(E==="force")l=u,c=m;else{let v;E==="cover"?v=Math.max(_,T):E==="contain"&&(v=Math.min(_,T)),l=l*v,c=c*v}}}const d={width:o,height:a};e.element.setAttribute("width",d.width),e.element.setAttribute("height",d.height);const h=Math.min(o/l,a/c);e.element.innerHTML="";const p=e.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");r.filter(p).map(Zp).sort(jp).forEach(g=>{const[u,m]=g,E=qp(u,m);Wp(E,u,m,d,h),e.element.appendChild(E)})}}),Xt=(t,e)=>({x:t,y:e}),Qp=(t,e)=>t.x*e.x+t.y*e.y,fr=(t,e)=>Xt(t.x-e.x,t.y-e.y),Jp=(t,e)=>Qp(fr(t,e),fr(t,e)),gr=(t,e)=>Math.sqrt(Jp(t,e)),mr=(t,e)=>{const i=t,s=1.5707963267948966,n=e,r=1.5707963267948966-e,o=Math.sin(s),a=Math.sin(n),l=Math.sin(r),c=Math.cos(r),d=i/o,h=d*a,p=d*l;return Xt(c*h,c*p)},ef=(t,e)=>{const i=t.width,s=t.height,n=mr(i,e),r=mr(s,e),o=Xt(t.x+Math.abs(n.x),t.y-Math.abs(n.y)),a=Xt(t.x+t.width+Math.abs(r.y),t.y+Math.abs(r.x)),l=Xt(t.x-Math.abs(r.y),t.y+t.height-Math.abs(r.x));return{width:gr(o,a),height:gr(o,l)}},tf=(t,e,i=1)=>{const s=t.height/t.width;let n=1,r=e,o=1,a=s;a>r&&(a=r,o=a/s);const l=Math.max(n/o,r/a),c=t.width/(i*l*o),d=c*e;return{width:c,height:d}},Ko=(t,e,i,s)=>{const n=s.x>.5?1-s.x:s.x,r=s.y>.5?1-s.y:s.y,o=n*2*t.width,a=r*2*t.height,l=ef(e,i);return Math.max(l.width/o,l.height/a)},Qo=(t,e)=>{let i=t.width,s=i*e;s>t.height&&(s=t.height,i=s/e);const n=(t.width-i)*.5,r=(t.height-s)*.5;return{x:n,y:r,width:i,height:s}},sf=(t,e={})=>{let{zoom:i,rotation:s,center:n,aspectRatio:r}=e;r||(r=t.height/t.width);const o=tf(t,r,i),a={width:o.width,height:o.height},l=typeof e.scaleToFit>"u"||e.scaleToFit,c=Ko(t,Qo(a,r),s,l?n:{x:.5,y:.5}),d=i*c;return{widthFloat:o.width/d,heightFloat:o.height/d,width:Math.round(o.width/d),height:Math.round(o.height/d)}},we={type:"spring",stiffness:.5,damping:.45,mass:10},nf=t=>t.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:e,props:i})=>{e.appendChild(i.image)}}),rf=t=>t.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:we,originY:we,scaleX:we,scaleY:we,translateX:we,translateY:we,rotateZ:we}},create:({root:e,props:i})=>{i.width=i.image.width,i.height=i.image.height,e.ref.bitmap=e.appendChildView(e.createChildView(nf(t),{image:i.image}))},write:({root:e,props:i})=>{const{flip:s}=i.crop,{bitmap:n}=e.ref;n.scaleX=s.horizontal?-1:1,n.scaleY=s.vertical?-1:1}}),of=t=>t.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:e,props:i}){i.background&&(e.element.style.backgroundColor=i.background)},create:({root:e,props:i})=>{e.ref.image=e.appendChildView(e.createChildView(rf(t),Object.assign({},i))),e.ref.createMarkup=()=>{e.ref.markup||(e.ref.markup=e.appendChildView(e.createChildView(Kp(t),Object.assign({},i))))},e.ref.destroyMarkup=()=>{e.ref.markup&&(e.removeChildView(e.ref.markup),e.ref.markup=null)};const s=e.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");s!==null&&(s==="grid"?e.element.dataset.transparencyIndicator=s:e.element.dataset.transparencyIndicator="color")},write:({root:e,props:i,shouldOptimize:s})=>{const{crop:n,markup:r,resize:o,dirty:a,width:l,height:c}=i;e.ref.image.crop=n;const d={width:l,height:c,center:{x:l*.5,y:c*.5}},h={width:e.ref.image.width,height:e.ref.image.height},p={x:n.center.x*h.width,y:n.center.y*h.height},g={x:d.center.x-h.width*n.center.x,y:d.center.y-h.height*n.center.y},u=Math.PI*2+n.rotation%(Math.PI*2),m=n.aspectRatio||h.height/h.width,E=typeof n.scaleToFit>"u"||n.scaleToFit,y=Ko(h,Qo(d,m),u,E?n.center:{x:.5,y:.5}),f=n.zoom*y;r&&r.length?(e.ref.createMarkup(),e.ref.markup.width=l,e.ref.markup.height=c,e.ref.markup.resize=o,e.ref.markup.dirty=a,e.ref.markup.markup=r,e.ref.markup.crop=sf(h,n)):e.ref.markup&&e.ref.destroyMarkup();const _=e.ref.image;if(s){_.originX=null,_.originY=null,_.translateX=null,_.translateY=null,_.rotateZ=null,_.scaleX=null,_.scaleY=null;return}_.originX=p.x,_.originY=p.y,_.translateX=g.x,_.translateY=g.y,_.rotateZ=u,_.scaleX=f,_.scaleY=f}}),af=t=>t.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:we,scaleY:we,translateY:we,opacity:{type:"tween",duration:400}}},create:({root:e,props:i})=>{e.ref.clip=e.appendChildView(e.createChildView(of(t),{id:i.id,image:i.image,crop:i.crop,markup:i.markup,resize:i.resize,dirty:i.dirty,background:i.background}))},write:({root:e,props:i,shouldOptimize:s})=>{const{clip:n}=e.ref,{image:r,crop:o,markup:a,resize:l,dirty:c}=i;if(n.crop=o,n.markup=a,n.resize=l,n.dirty=c,n.opacity=s?0:1,s||e.rect.element.hidden)return;const d=r.height/r.width;let h=o.aspectRatio||d;const p=e.rect.inner.width,g=e.rect.inner.height;let u=e.query("GET_IMAGE_PREVIEW_HEIGHT");const m=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),E=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),y=e.query("GET_PANEL_ASPECT_RATIO"),f=e.query("GET_ALLOW_MULTIPLE");y&&!f&&(u=p*y,h=y);let _=u!==null?u:Math.max(m,Math.min(p*h,E)),T=_/h;T>p&&(T=p,_=T*h),_>g&&(_=g,T=g/h),n.width=T,n.height=_}});let lf=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,Er=0;const cf=t=>t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:e,props:i})=>{let s=lf;if(document.querySelector("base")){const n=new URL(window.location.href.replace(window.location.hash,"")).href;s=s.replace(/url\(\#/g,"url("+n+"#")}Er++,e.element.classList.add(`filepond--image-preview-overlay-${i.status}`),e.element.innerHTML=s.replace(/__UID__/g,Er)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),df=function(){self.onmessage=t=>{createImageBitmap(t.data.message.file).then(e=>{self.postMessage({id:t.data.id,message:e},[e])})}},hf=function(){self.onmessage=t=>{const e=t.data.message.imageData,i=t.data.message.colorMatrix,s=e.data,n=s.length,r=i[0],o=i[1],a=i[2],l=i[3],c=i[4],d=i[5],h=i[6],p=i[7],g=i[8],u=i[9],m=i[10],E=i[11],y=i[12],f=i[13],_=i[14],T=i[15],v=i[16],O=i[17],C=i[18],w=i[19];let D=0,x=0,P=0,L=0,V=0;for(;D<n;D+=4)x=s[D]/255,P=s[D+1]/255,L=s[D+2]/255,V=s[D+3]/255,s[D]=Math.max(0,Math.min((x*r+P*o+L*a+V*l+c)*255,255)),s[D+1]=Math.max(0,Math.min((x*d+P*h+L*p+V*g+u)*255,255)),s[D+2]=Math.max(0,Math.min((x*m+P*E+L*y+V*f+_)*255,255)),s[D+3]=Math.max(0,Math.min((x*T+P*v+L*O+V*C+w)*255,255));self.postMessage({id:t.data.id,message:e},[e.data.buffer])}},uf=(t,e)=>{let i=new Image;i.onload=()=>{const s=i.naturalWidth,n=i.naturalHeight;i=null,e(s,n)},i.src=t},pf={1:()=>[1,0,0,1,0,0],2:t=>[-1,0,0,1,t,0],3:(t,e)=>[-1,0,0,-1,t,e],4:(t,e)=>[1,0,0,-1,0,e],5:()=>[0,1,1,0,0,0],6:(t,e)=>[0,1,-1,0,e,0],7:(t,e)=>[0,-1,-1,0,e,t],8:t=>[0,-1,1,0,0,t]},ff=(t,e,i,s)=>{s!==-1&&t.transform.apply(t,pf[s](e,i))},gf=(t,e,i,s)=>{e=Math.round(e),i=Math.round(i);const n=document.createElement("canvas");n.width=e,n.height=i;const r=n.getContext("2d");return s>=5&&s<=8&&([e,i]=[i,e]),ff(r,e,i,s),r.drawImage(t,0,0,e,i),n},Jo=t=>/^image/.test(t.type)&&!/svg/.test(t.type),mf=10,Ef=10,_f=t=>{const e=Math.min(mf/t.width,Ef/t.height),i=document.createElement("canvas"),s=i.getContext("2d"),n=i.width=Math.ceil(t.width*e),r=i.height=Math.ceil(t.height*e);s.drawImage(t,0,0,n,r);let o=null;try{o=s.getImageData(0,0,n,r).data}catch{return null}const a=o.length;let l=0,c=0,d=0,h=0;for(;h<a;h+=4)l+=o[h]*o[h],c+=o[h+1]*o[h+1],d+=o[h+2]*o[h+2];return l=ds(l,a),c=ds(c,a),d=ds(d,a),{r:l,g:c,b:d}},ds=(t,e)=>Math.floor(Math.sqrt(t/(e/4))),yf=(t,e)=>(e=e||document.createElement("canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e),If=t=>{let e;try{e=new ImageData(t.width,t.height)}catch{e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(new Uint8ClampedArray(t.data)),e},Tf=t=>new Promise((e,i)=>{const s=new Image;s.crossOrigin="Anonymous",s.onload=()=>{e(s)},s.onerror=n=>{i(n)},s.src=t}),vf=t=>{const e=cf(t),i=af(t),{createWorker:s}=t.utils,n=(f,_,T)=>new Promise(v=>{f.ref.imageData||(f.ref.imageData=T.getContext("2d").getImageData(0,0,T.width,T.height));const O=If(f.ref.imageData);if(!_||_.length!==20)return T.getContext("2d").putImageData(O,0,0),v();const C=s(hf);C.post({imageData:O,colorMatrix:_},w=>{T.getContext("2d").putImageData(w,0,0),C.terminate(),v()},[O.data.buffer])}),r=(f,_)=>{f.removeChildView(_),_.image.width=1,_.image.height=1,_._destroy()},o=({root:f})=>{const _=f.ref.images.shift();return _.opacity=0,_.translateY=-15,f.ref.imageViewBin.push(_),_},a=({root:f,props:_,image:T})=>{const v=_.id,O=f.query("GET_ITEM",{id:v});if(!O)return;const C=O.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},w=f.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let D,x,P=!1;f.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(D=O.getMetadata("markup")||[],x=O.getMetadata("resize"),P=!0);const L=f.appendChildView(f.createChildView(i,{id:v,image:T,crop:C,resize:x,markup:D,dirty:P,background:w,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),f.childViews.length);f.ref.images.push(L),L.opacity=1,L.scaleX=1,L.scaleY=1,L.translateY=0,setTimeout(()=>{f.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:v})},250)},l=({root:f,props:_})=>{const T=f.query("GET_ITEM",{id:_.id});if(!T)return;const v=f.ref.images[f.ref.images.length-1];v.crop=T.getMetadata("crop"),v.background=f.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),f.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(v.dirty=!0,v.resize=T.getMetadata("resize"),v.markup=T.getMetadata("markup"))},c=({root:f,props:_,action:T})=>{if(!/crop|filter|markup|resize/.test(T.change.key)||!f.ref.images.length)return;const v=f.query("GET_ITEM",{id:_.id});if(v){if(/filter/.test(T.change.key)){const O=f.ref.images[f.ref.images.length-1];n(f,T.change.value,O.image);return}if(/crop|markup|resize/.test(T.change.key)){const O=v.getMetadata("crop"),C=f.ref.images[f.ref.images.length-1];if(O&&O.aspectRatio&&C.crop&&C.crop.aspectRatio&&Math.abs(O.aspectRatio-C.crop.aspectRatio)>1e-5){const w=o({root:f});a({root:f,props:_,image:yf(w.image)})}else l({root:f,props:_})}}},d=f=>{const T=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./),v=T?parseInt(T[1]):null;return v!==null&&v<=58?!1:"createImageBitmap"in window&&Jo(f)},h=({root:f,props:_})=>{const{id:T}=_,v=f.query("GET_ITEM",T);if(!v)return;const O=URL.createObjectURL(v.file);uf(O,(C,w)=>{f.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:T,width:C,height:w})})},p=({root:f,props:_})=>{const{id:T}=_,v=f.query("GET_ITEM",T);if(!v)return;const O=URL.createObjectURL(v.file),C=()=>{Tf(O).then(w)},w=D=>{URL.revokeObjectURL(O);const P=(v.getMetadata("exif")||{}).orientation||-1;let{width:L,height:V}=D;if(!L||!V)return;P>=5&&P<=8&&([L,V]=[V,L]);const A=Math.max(1,window.devicePixelRatio*.75),b=f.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*A,R=V/L,M=f.rect.element.width,N=f.rect.element.height;let H=M,B=H*R;R>1?(H=Math.min(L,M*b),B=H*R):(B=Math.min(V,N*b),H=B/R);const Ne=gf(D,H,B,P),pt=()=>{const es=f.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?_f(data):null;v.setMetadata("color",es,!0),"close"in D&&D.close(),f.ref.overlayShadow.opacity=1,a({root:f,props:_,image:Ne})},Ee=v.getMetadata("filter");Ee?n(f,Ee,Ne).then(pt):pt()};if(d(v.file)){const D=s(df);D.post({file:v.file},x=>{if(D.terminate(),!x){C();return}w(x)})}else C()},g=({root:f})=>{const _=f.ref.images[f.ref.images.length-1];_.translateY=0,_.scaleX=1,_.scaleY=1,_.opacity=1},u=({root:f})=>{f.ref.overlayShadow.opacity=1,f.ref.overlayError.opacity=0,f.ref.overlaySuccess.opacity=0},m=({root:f})=>{f.ref.overlayShadow.opacity=.25,f.ref.overlayError.opacity=1},E=({root:f})=>{f.ref.overlayShadow.opacity=.25,f.ref.overlaySuccess.opacity=1},y=({root:f})=>{f.ref.images=[],f.ref.imageData=null,f.ref.imageViewBin=[],f.ref.overlayShadow=f.appendChildView(f.createChildView(e,{opacity:0,status:"idle"})),f.ref.overlaySuccess=f.appendChildView(f.createChildView(e,{opacity:0,status:"success"})),f.ref.overlayError=f.appendChildView(f.createChildView(e,{opacity:0,status:"failure"}))};return t.utils.createView({name:"image-preview-wrapper",create:y,styles:["height"],apis:["height"],destroy:({root:f})=>{f.ref.images.forEach(_=>{_.image.width=1,_.image.height=1})},didWriteView:({root:f})=>{f.ref.images.forEach(_=>{_.dirty=!1})},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:g,DID_IMAGE_PREVIEW_CONTAINER_CREATE:h,DID_FINISH_CALCULATE_PREVIEWSIZE:p,DID_UPDATE_ITEM_METADATA:c,DID_THROW_ITEM_LOAD_ERROR:m,DID_THROW_ITEM_PROCESSING_ERROR:m,DID_THROW_ITEM_INVALID:m,DID_COMPLETE_ITEM_PROCESSING:E,DID_START_ITEM_PROCESSING:u,DID_REVERT_ITEM_PROCESSING:u},({root:f})=>{const _=f.ref.imageViewBin.filter(T=>T.opacity===0);f.ref.imageViewBin=f.ref.imageViewBin.filter(T=>T.opacity>0),_.forEach(T=>r(f,T)),_.length=0})})},ea=t=>{const{addFilter:e,utils:i}=t,{Type:s,createRoute:n,isFile:r}=i,o=vf(t);return e("CREATE_VIEW",a=>{const{is:l,view:c,query:d}=a;if(!l("file")||!d("GET_ALLOW_IMAGE_PREVIEW"))return;const h=({root:E,props:y})=>{const{id:f}=y,_=d("GET_ITEM",f);if(!_||!r(_.file)||_.archived)return;const T=_.file;if(!Op(T)||!d("GET_IMAGE_PREVIEW_FILTER_ITEM")(_))return;const v="createImageBitmap"in(window||{}),O=d("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!v&&O&&T.size>O)return;E.ref.imagePreview=c.appendChildView(c.createChildView(o,{id:f}));const C=E.query("GET_IMAGE_PREVIEW_HEIGHT");C&&E.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:_.id,height:C});const w=!v&&T.size>d("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");E.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:f},w)},p=(E,y)=>{if(!E.ref.imagePreview)return;let{id:f}=y;const _=E.query("GET_ITEM",{id:f});if(!_)return;const T=E.query("GET_PANEL_ASPECT_RATIO"),v=E.query("GET_ITEM_PANEL_ASPECT_RATIO"),O=E.query("GET_IMAGE_PREVIEW_HEIGHT");if(T||v||O)return;let{imageWidth:C,imageHeight:w}=E.ref;if(!C||!w)return;const D=E.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),x=E.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),L=(_.getMetadata("exif")||{}).orientation||-1;if(L>=5&&L<=8&&([C,w]=[w,C]),!Jo(_.file)||E.query("GET_IMAGE_PREVIEW_UPSCALE")){const M=2048/C;C*=M,w*=M}const V=w/C,A=(_.getMetadata("crop")||{}).aspectRatio||V;let U=Math.max(D,Math.min(w,x));const b=E.rect.element.width,R=Math.min(b*A,U);E.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:_.id,height:R})},g=({root:E})=>{E.ref.shouldRescale=!0},u=({root:E,action:y})=>{y.change.key==="crop"&&(E.ref.shouldRescale=!0)},m=({root:E,action:y})=>{E.ref.imageWidth=y.width,E.ref.imageHeight=y.height,E.ref.shouldRescale=!0,E.ref.shouldDrawPreview=!0,E.dispatch("KICK")};c.registerWriter(n({DID_RESIZE_ROOT:g,DID_STOP_RESIZE:g,DID_LOAD_ITEM:h,DID_IMAGE_PREVIEW_CALCULATE_SIZE:m,DID_UPDATE_ITEM_METADATA:u},({root:E,props:y})=>{E.ref.imagePreview&&(E.rect.element.hidden||(E.ref.shouldRescale&&(p(E,y),E.ref.shouldRescale=!1),E.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{E.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:y.id})})}),E.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,s.BOOLEAN],imagePreviewFilterItem:[()=>!0,s.FUNCTION],imagePreviewHeight:[null,s.INT],imagePreviewMinHeight:[44,s.INT],imagePreviewMaxHeight:[256,s.INT],imagePreviewMaxFileSize:[null,s.INT],imagePreviewZoomFactor:[2,s.INT],imagePreviewUpscale:[!1,s.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,s.INT],imagePreviewTransparencyIndicator:[null,s.STRING],imagePreviewCalculateAverageImageColor:[!1,s.BOOLEAN],imagePreviewMarkupShow:[!0,s.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,s.FUNCTION]}}},Sf=typeof window<"u"&&typeof window.document<"u";Sf&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:ea}));/*!
  * PhotoSwipe Lightbox 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */function kt(t,e,i){const s=document.createElement(e);return t&&(s.className=t),i&&i.appendChild(s),s}function wf(t,e,i){let s=`translate3d(${t}px,0px,0)`;return i!==void 0&&(s+=` scale3d(${i},${i},1)`),s}function Ms(t,e,i){t.style.width=typeof e=="number"?`${e}px`:e,t.style.height=typeof i=="number"?`${i}px`:i}const pe={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function bf(t){return"button"in t&&t.button===1||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey}function qt(t,e,i=document){let s=[];if(t instanceof Element)s=[t];else if(t instanceof NodeList||Array.isArray(t))s=Array.from(t);else{const n=typeof t=="string"?t:e;n&&(s=Array.from(i.querySelectorAll(n)))}return s}function Rf(t){return typeof t=="function"&&t.prototype&&t.prototype.goTo}function _r(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}let Of=class{constructor(e,i){this.type=e,this.defaultPrevented=!1,i&&Object.assign(this,i)}preventDefault(){this.defaultPrevented=!0}},Af=class{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,i,s=100){var n,r,o;this._filters[e]||(this._filters[e]=[]),(n=this._filters[e])===null||n===void 0||n.push({fn:i,priority:s}),(r=this._filters[e])===null||r===void 0||r.sort((a,l)=>a.priority-l.priority),(o=this.pswp)===null||o===void 0||o.addFilter(e,i,s)}removeFilter(e,i){this._filters[e]&&(this._filters[e]=this._filters[e].filter(s=>s.fn!==i)),this.pswp&&this.pswp.removeFilter(e,i)}applyFilters(e,...i){var s;return(s=this._filters[e])===null||s===void 0||s.forEach(n=>{i[0]=n.fn.apply(this,i)}),i[0]}on(e,i){var s,n;this._listeners[e]||(this._listeners[e]=[]),(s=this._listeners[e])===null||s===void 0||s.push(i),(n=this.pswp)===null||n===void 0||n.on(e,i)}off(e,i){var s;this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(n=>i!==n)),(s=this.pswp)===null||s===void 0||s.off(e,i)}dispatch(e,i){var s;if(this.pswp)return this.pswp.dispatch(e,i);const n=new Of(e,i);return(s=this._listeners[e])===null||s===void 0||s.forEach(r=>{r.call(this,n)}),n}},Df=class{constructor(e,i){if(this.element=kt("pswp__img pswp__img--placeholder",e?"img":"div",i),e){const s=this.element;s.decoding="async",s.alt="",s.src=e,s.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,i){this.element&&(this.element.tagName==="IMG"?(Ms(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=wf(0,0,e/250)):Ms(this.element,e,i))}destroy(){var e;(e=this.element)!==null&&e!==void 0&&e.parentNode&&this.element.remove(),this.element=null}},Cf=class{constructor(e,i,s){this.instance=i,this.data=e,this.index=s,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=pe.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,i){if(this.slide&&this.usePlaceholder())if(this.placeholder){const s=this.placeholder.element;s&&!s.parentElement&&this.slide.container.prepend(s)}else{const s=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new Df(s,this.slide.container)}this.element&&!i||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=kt("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=kt("pswp__content","div"),this.element.innerHTML=this.data.html||""),i&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){var i,s;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented)return;const n=this.element;this.updateSrcsetSizes(),this.data.srcset&&(n.srcset=this.data.srcset),n.src=(i=this.data.src)!==null&&i!==void 0?i:"",n.alt=(s=this.data.alt)!==null&&s!==void 0?s:"",this.state=pe.LOADING,n.complete?this.onLoaded():(n.onload=()=>{this.onLoaded()},n.onerror=()=>{this.onError()})}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=pe.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===pe.LOADED||this.state===pe.ERROR)&&this.removePlaceholder())}onError(){this.state=pe.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===pe.LOADING,this)}isError(){return this.state===pe.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(e,i){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,i),!this.instance.dispatch("contentResize",{content:this,width:e,height:i}).defaultPrevented&&(Ms(this.element,e,i),this.isImageContent()&&!this.isError()))){const s=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=i,s?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:i,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==pe.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const e=this.element,i=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||i>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=i+"px",e.dataset.largestUsedSize=String(i))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,i;let s=kt("pswp__error-msg","div");s.innerText=(e=(i=this.instance.options)===null||i===void 0?void 0:i.errorMsg)!==null&&e!==void 0?e:"",s=this.instance.applyFilters("contentErrorElement",s,this),this.element=kt("pswp__content pswp__error-msg-container","div"),this.element.appendChild(s),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===pe.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||_r())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide||(this.isImageContent()&&this.isDecoding&&!_r()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===pe.LOADED||this.state===pe.ERROR)&&this.removePlaceholder()))}};function Pf(t,e){if(t.getViewportSizeFn){const i=t.getViewportSizeFn(t,e);if(i)return i}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function gi(t,e,i,s,n){let r=0;if(e.paddingFn)r=e.paddingFn(i,s,n)[t];else if(e.padding)r=e.padding[t];else{const o="padding"+t[0].toUpperCase()+t.slice(1);e[o]&&(r=e[o])}return Number(r)||0}function Lf(t,e,i,s){return{x:e.x-gi("left",t,e,i,s)-gi("right",t,e,i,s),y:e.y-gi("top",t,e,i,s)-gi("bottom",t,e,i,s)}}const yr=4e3;let Mf=class{constructor(e,i,s,n){this.pswp=n,this.options=e,this.itemData=i,this.index=s,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(e,i,s){const n={x:e,y:i};this.elementSize=n,this.panAreaSize=s;const r=s.x/n.x,o=s.y/n.y;this.fit=Math.min(1,r<o?r:o),this.fill=Math.min(1,r>o?r:o),this.vFill=Math.min(1,o),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const i=e+"ZoomLevel",s=this.options[i];if(s)return typeof s=="function"?s(this):s==="fill"?this.fill:s==="fit"?this.fit:Number(s)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,this.fit*3),this.elementSize&&e*this.elementSize.x>yr&&(e=yr/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}};function ta(t,e,i){const s=e.createContentFromData(t,i);let n;const{options:r}=e;if(r){n=new Mf(r,t,-1);let o;e.pswp?o=e.pswp.viewportSize:o=Pf(r,e);const a=Lf(r,o,t,i);n.update(s.width,s.height,a)}return s.lazyLoad(),n&&s.setDisplayedSize(Math.ceil(s.width*n.initial),Math.ceil(s.height*n.initial)),s}function xf(t,e){const i=e.getItemData(t);if(!e.dispatch("lazyLoadSlide",{index:t,itemData:i}).defaultPrevented)return ta(i,e,t)}let Nf=class extends Af{getNumItems(){var e;let i=0;const s=(e=this.options)===null||e===void 0?void 0:e.dataSource;s&&"length"in s?i=s.length:s&&"gallery"in s&&(s.items||(s.items=this._getGalleryDOMElements(s.gallery)),s.items&&(i=s.items.length));const n=this.dispatch("numItems",{dataSource:s,numItems:i});return this.applyFilters("numItems",n.numItems,s)}createContentFromData(e,i){return new Cf(e,this,i)}getItemData(e){var i;const s=(i=this.options)===null||i===void 0?void 0:i.dataSource;let n={};Array.isArray(s)?n=s[e]:s&&"gallery"in s&&(s.items||(s.items=this._getGalleryDOMElements(s.gallery)),n=s.items[e]);let r=n;r instanceof Element&&(r=this._domElementToItemData(r));const o=this.dispatch("itemData",{itemData:r||{},index:e});return this.applyFilters("itemData",o.itemData,e)}_getGalleryDOMElements(e){var i,s;return(i=this.options)!==null&&i!==void 0&&i.children||(s=this.options)!==null&&s!==void 0&&s.childSelector?qt(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const i={element:e},s=e.tagName==="A"?e:e.querySelector("a");if(s){i.src=s.dataset.pswpSrc||s.href,s.dataset.pswpSrcset&&(i.srcset=s.dataset.pswpSrcset),i.width=s.dataset.pswpWidth?parseInt(s.dataset.pswpWidth,10):0,i.height=s.dataset.pswpHeight?parseInt(s.dataset.pswpHeight,10):0,i.w=i.width,i.h=i.height,s.dataset.pswpType&&(i.type=s.dataset.pswpType);const r=e.querySelector("img");if(r){var n;i.msrc=r.currentSrc||r.src,i.alt=(n=r.getAttribute("alt"))!==null&&n!==void 0?n:""}(s.dataset.pswpCropped||s.dataset.cropped)&&(i.thumbCropped=!0)}return this.applyFilters("domItemData",i,e,s)}lazyLoadData(e,i){return ta(e,this,i)}};class Ff extends Nf{constructor(e){super(),this.options=e||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){qt(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(e){if(bf(e)||window.pswp)return;let i={x:e.clientX,y:e.clientY};!i.x&&!i.y&&(i=null);let s=this.getClickedIndex(e);s=this.applyFilters("clickedIndex",s,e,this);const n={gallery:e.currentTarget};s>=0&&(e.preventDefault(),this.loadAndOpen(s,n,i))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const i=e.target,n=qt(this.options.children,this.options.childSelector,e.currentTarget).findIndex(r=>r===i||r.contains(i));return n!==-1?n:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,i,s){if(window.pswp||!this.options)return!1;if(!i&&this.options.gallery&&this.options.children){const n=qt(this.options.gallery);n[0]&&(i={gallery:n[0]})}return this.options.index=e,this.options.initialPointerPos=s,this.shouldOpen=!0,this.preload(e,i),!0}preload(e,i){const{options:s}=this;i&&(s.dataSource=i);const n=[],r=typeof s.pswpModule;if(Rf(s.pswpModule))n.push(Promise.resolve(s.pswpModule));else{if(r==="string")throw new Error("pswpModule as string is no longer supported");if(r==="function")n.push(s.pswpModule());else throw new Error("pswpModule is not valid")}typeof s.openPromise=="function"&&n.push(s.openPromise()),s.preloadFirstSlide!==!1&&e>=0&&(this._preloadedContent=xf(e,this));const o=++this._uid;Promise.all(n).then(a=>{if(this.shouldOpen){const l=a[0];this._openPhotoswipe(l,o)}})}_openPhotoswipe(e,i){if(i!==this._uid&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))return;const s=typeof e=="object"?new e.default(this.options):new e(this.options);this.pswp=s,window.pswp=s,Object.keys(this._listeners).forEach(n=>{var r;(r=this._listeners[n])===null||r===void 0||r.forEach(o=>{s.on(n,o)})}),Object.keys(this._filters).forEach(n=>{var r;(r=this._filters[n])===null||r===void 0||r.forEach(o=>{s.addFilter(n,o.fn,o.priority)})}),this._preloadedContent&&(s.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),s.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),s.init()}destroy(){var e;(e=this.pswp)===null||e===void 0||e.destroy(),this.shouldOpen=!1,this._listeners={},qt(this.options.gallery,this.options.gallerySelector).forEach(i=>{i.removeEventListener("click",this.onThumbnailsClick,!1)})}}/*!
  * PhotoSwipe 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */function le(t,e,i){const s=document.createElement(e);return t&&(s.className=t),i&&i.appendChild(s),s}function Y(t,e){return t.x=e.x,t.y=e.y,e.id!==void 0&&(t.id=e.id),t}function ia(t){t.x=Math.round(t.x),t.y=Math.round(t.y)}function xs(t,e){const i=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);return Math.sqrt(i*i+s*s)}function Zt(t,e){return t.x===e.x&&t.y===e.y}function ii(t,e,i){return Math.min(Math.max(t,e),i)}function Qt(t,e,i){let s=`translate3d(${t}px,${e||0}px,0)`;return i!==void 0&&(s+=` scale3d(${i},${i},1)`),s}function He(t,e,i,s){t.style.transform=Qt(e,i,s)}const Bf="cubic-bezier(.4,0,.22,1)";function sa(t,e,i,s){t.style.transition=e?`${e} ${i}ms ${s||Bf}`:"none"}function Ns(t,e,i){t.style.width=typeof e=="number"?`${e}px`:e,t.style.height=typeof i=="number"?`${i}px`:i}function Gf(t){sa(t)}function Uf(t){return"decode"in t?t.decode().catch(()=>{}):t.complete?Promise.resolve(t):new Promise((e,i)=>{t.onload=()=>e(t),t.onerror=i})}const fe={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function zf(t){return"button"in t&&t.button===1||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey}function Vf(t,e,i=document){let s=[];if(t instanceof Element)s=[t];else if(t instanceof NodeList||Array.isArray(t))s=Array.from(t);else{const n=typeof t=="string"?t:e;n&&(s=Array.from(i.querySelectorAll(n)))}return s}function Ir(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}let na=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>{na=!0}}))}catch{}class Hf{constructor(){this._pool=[]}add(e,i,s,n){this._toggleListener(e,i,s,n)}remove(e,i,s,n){this._toggleListener(e,i,s,n,!0)}removeAll(){this._pool.forEach(e=>{this._toggleListener(e.target,e.type,e.listener,e.passive,!0,!0)}),this._pool=[]}_toggleListener(e,i,s,n,r,o){if(!e)return;const a=r?"removeEventListener":"addEventListener";i.split(" ").forEach(c=>{if(c){o||(r?this._pool=this._pool.filter(h=>h.type!==c||h.listener!==s||h.target!==e):this._pool.push({target:e,type:c,listener:s,passive:n}));const d=na?{passive:n||!1}:!1;e[a](c,s,d)}})}}function ra(t,e){if(t.getViewportSizeFn){const i=t.getViewportSizeFn(t,e);if(i)return i}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function Wt(t,e,i,s,n){let r=0;if(e.paddingFn)r=e.paddingFn(i,s,n)[t];else if(e.padding)r=e.padding[t];else{const o="padding"+t[0].toUpperCase()+t.slice(1);e[o]&&(r=e[o])}return Number(r)||0}function oa(t,e,i,s){return{x:e.x-Wt("left",t,e,i,s)-Wt("right",t,e,i,s),y:e.y-Wt("top",t,e,i,s)-Wt("bottom",t,e,i,s)}}class $f{constructor(e){this.slide=e,this.currZoomLevel=1,this.center={x:0,y:0},this.max={x:0,y:0},this.min={x:0,y:0}}update(e){this.currZoomLevel=e,this.slide.width?(this._updateAxis("x"),this._updateAxis("y"),this.slide.pswp.dispatch("calcBounds",{slide:this.slide})):this.reset()}_updateAxis(e){const{pswp:i}=this.slide,s=this.slide[e==="x"?"width":"height"]*this.currZoomLevel,r=Wt(e==="x"?"left":"top",i.options,i.viewportSize,this.slide.data,this.slide.index),o=this.slide.panAreaSize[e];this.center[e]=Math.round((o-s)/2)+r,this.max[e]=s>o?Math.round(o-s)+r:this.center[e],this.min[e]=s>o?r:this.center[e]}reset(){this.center.x=0,this.center.y=0,this.max.x=0,this.max.y=0,this.min.x=0,this.min.y=0}correctPan(e,i){return ii(i,this.max[e],this.min[e])}}const Tr=4e3;class aa{constructor(e,i,s,n){this.pswp=n,this.options=e,this.itemData=i,this.index=s,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(e,i,s){const n={x:e,y:i};this.elementSize=n,this.panAreaSize=s;const r=s.x/n.x,o=s.y/n.y;this.fit=Math.min(1,r<o?r:o),this.fill=Math.min(1,r>o?r:o),this.vFill=Math.min(1,o),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const i=e+"ZoomLevel",s=this.options[i];if(s)return typeof s=="function"?s(this):s==="fill"?this.fill:s==="fit"?this.fit:Number(s)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,this.fit*3),this.elementSize&&e*this.elementSize.x>Tr&&(e=Tr/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}class kf{constructor(e,i,s){this.data=e,this.index=i,this.pswp=s,this.isActive=i===s.currIndex,this.currentResolution=0,this.panAreaSize={x:0,y:0},this.pan={x:0,y:0},this.isFirstSlide=this.isActive&&!s.opener.isOpen,this.zoomLevels=new aa(s.options,e,i,s),this.pswp.dispatch("gettingData",{slide:this,data:this.data,index:i}),this.content=this.pswp.contentLoader.getContentBySlide(this),this.container=le("pswp__zoom-wrap","div"),this.holderElement=null,this.currZoomLevel=1,this.width=this.content.width,this.height=this.content.height,this.heavyAppended=!1,this.bounds=new $f(this),this.prevDisplayedWidth=-1,this.prevDisplayedHeight=-1,this.pswp.dispatch("slideInit",{slide:this})}setIsActive(e){e&&!this.isActive?this.activate():!e&&this.isActive&&this.deactivate()}append(e){this.holderElement=e,this.container.style.transformOrigin="0 0",this.data&&(this.calculateSize(),this.load(),this.updateContentSize(),this.appendHeavy(),this.holderElement.appendChild(this.container),this.zoomAndPanToInitial(),this.pswp.dispatch("firstZoomPan",{slide:this}),this.applyCurrentZoomPan(),this.pswp.dispatch("afterSetContent",{slide:this}),this.isActive&&this.activate())}load(){this.content.load(!1),this.pswp.dispatch("slideLoad",{slide:this})}appendHeavy(){const{pswp:e}=this;this.heavyAppended||!e.opener.isOpen||e.mainScroll.isShifted()||!this.isActive&&!1||this.pswp.dispatch("appendHeavy",{slide:this}).defaultPrevented||(this.heavyAppended=!0,this.content.append(),this.pswp.dispatch("appendHeavyContent",{slide:this}))}activate(){this.isActive=!0,this.appendHeavy(),this.content.activate(),this.pswp.dispatch("slideActivate",{slide:this})}deactivate(){this.isActive=!1,this.content.deactivate(),this.currZoomLevel!==this.zoomLevels.initial&&this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize(),this.pswp.dispatch("slideDeactivate",{slide:this})}destroy(){this.content.hasSlide=!1,this.content.remove(),this.container.remove(),this.pswp.dispatch("slideDestroy",{slide:this})}resize(){this.currZoomLevel===this.zoomLevels.initial||!this.isActive?(this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize()):(this.calculateSize(),this.bounds.update(this.currZoomLevel),this.panTo(this.pan.x,this.pan.y))}updateContentSize(e){const i=this.currentResolution||this.zoomLevels.initial;if(!i)return;const s=Math.round(this.width*i)||this.pswp.viewportSize.x,n=Math.round(this.height*i)||this.pswp.viewportSize.y;!this.sizeChanged(s,n)&&!e||this.content.setDisplayedSize(s,n)}sizeChanged(e,i){return e!==this.prevDisplayedWidth||i!==this.prevDisplayedHeight?(this.prevDisplayedWidth=e,this.prevDisplayedHeight=i,!0):!1}getPlaceholderElement(){var e;return(e=this.content.placeholder)===null||e===void 0?void 0:e.element}zoomTo(e,i,s,n){const{pswp:r}=this;if(!this.isZoomable()||r.mainScroll.isShifted())return;r.dispatch("beforeZoomTo",{destZoomLevel:e,centerPoint:i,transitionDuration:s}),r.animations.stopAllPan();const o=this.currZoomLevel;n||(e=ii(e,this.zoomLevels.min,this.zoomLevels.max)),this.setZoomLevel(e),this.pan.x=this.calculateZoomToPanOffset("x",i,o),this.pan.y=this.calculateZoomToPanOffset("y",i,o),ia(this.pan);const a=()=>{this._setResolution(e),this.applyCurrentZoomPan()};s?r.animations.startTransition({isPan:!0,name:"zoomTo",target:this.container,transform:this.getCurrentTransform(),onComplete:a,duration:s,easing:r.options.easing}):a()}toggleZoom(e){this.zoomTo(this.currZoomLevel===this.zoomLevels.initial?this.zoomLevels.secondary:this.zoomLevels.initial,e,this.pswp.options.zoomAnimationDuration)}setZoomLevel(e){this.currZoomLevel=e,this.bounds.update(this.currZoomLevel)}calculateZoomToPanOffset(e,i,s){if(this.bounds.max[e]-this.bounds.min[e]===0)return this.bounds.center[e];i||(i=this.pswp.getViewportCenterPoint()),s||(s=this.zoomLevels.initial);const r=this.currZoomLevel/s;return this.bounds.correctPan(e,(this.pan[e]-i[e])*r+i[e])}panTo(e,i){this.pan.x=this.bounds.correctPan("x",e),this.pan.y=this.bounds.correctPan("y",i),this.applyCurrentZoomPan()}isPannable(){return!!this.width&&this.currZoomLevel>this.zoomLevels.fit}isZoomable(){return!!this.width&&this.content.isZoomable()}applyCurrentZoomPan(){this._applyZoomTransform(this.pan.x,this.pan.y,this.currZoomLevel),this===this.pswp.currSlide&&this.pswp.dispatch("zoomPanUpdate",{slide:this})}zoomAndPanToInitial(){this.currZoomLevel=this.zoomLevels.initial,this.bounds.update(this.currZoomLevel),Y(this.pan,this.bounds.center),this.pswp.dispatch("initialZoomPan",{slide:this})}_applyZoomTransform(e,i,s){s/=this.currentResolution||this.zoomLevels.initial,He(this.container,e,i,s)}calculateSize(){const{pswp:e}=this;Y(this.panAreaSize,oa(e.options,e.viewportSize,this.data,this.index)),this.zoomLevels.update(this.width,this.height,this.panAreaSize),e.dispatch("calcSlideSize",{slide:this})}getCurrentTransform(){const e=this.currZoomLevel/(this.currentResolution||this.zoomLevels.initial);return Qt(this.pan.x,this.pan.y,e)}_setResolution(e){e!==this.currentResolution&&(this.currentResolution=e,this.updateContentSize(),this.pswp.dispatch("resolutionChanged"))}}const qf=.35,Wf=.6,Yf=.4,Xf=.5;function Zf(t,e){return t*e/(1-e)}class jf{constructor(e){this.gestures=e,this.pswp=e.pswp,this.startPan={x:0,y:0}}start(){this.pswp.currSlide&&Y(this.startPan,this.pswp.currSlide.pan),this.pswp.animations.stopAll()}change(){const{p1:e,prevP1:i,dragAxis:s}=this.gestures,{currSlide:n}=this.pswp;if(s==="y"&&this.pswp.options.closeOnVerticalDrag&&n&&n.currZoomLevel<=n.zoomLevels.fit&&!this.gestures.isMultitouch){const r=n.pan.y+(e.y-i.y);if(!this.pswp.dispatch("verticalDrag",{panY:r}).defaultPrevented){this._setPanWithFriction("y",r,Wf);const o=1-Math.abs(this._getVerticalDragRatio(n.pan.y));this.pswp.applyBgOpacity(o),n.applyCurrentZoomPan()}}else this._panOrMoveMainScroll("x")||(this._panOrMoveMainScroll("y"),n&&(ia(n.pan),n.applyCurrentZoomPan()))}end(){const{velocity:e}=this.gestures,{mainScroll:i,currSlide:s}=this.pswp;let n=0;if(this.pswp.animations.stopAll(),i.isShifted()){const o=(i.x-i.getCurrSlideX())/this.pswp.viewportSize.x;e.x<-.5&&o<0||e.x<.1&&o<-.5?(n=1,e.x=Math.min(e.x,0)):(e.x>Xf&&o>0||e.x>-.1&&o>.5)&&(n=-1,e.x=Math.max(e.x,0)),i.moveIndexBy(n,!0,e.x)}s&&s.currZoomLevel>s.zoomLevels.max||this.gestures.isMultitouch?this.gestures.zoomLevels.correctZoomPan(!0):(this._finishPanGestureForAxis("x"),this._finishPanGestureForAxis("y"))}_finishPanGestureForAxis(e){const{velocity:i}=this.gestures,{currSlide:s}=this.pswp;if(!s)return;const{pan:n,bounds:r}=s,o=n[e],a=this.pswp.bgOpacity<1&&e==="y",c=o+Zf(i[e],.995);if(a){const u=this._getVerticalDragRatio(o),m=this._getVerticalDragRatio(c);if(u<0&&m<-.4||u>0&&m>Yf){this.pswp.close();return}}const d=r.correctPan(e,c);if(o===d)return;const h=d===c?1:.82,p=this.pswp.bgOpacity,g=d-o;this.pswp.animations.startSpring({name:"panGesture"+e,isPan:!0,start:o,end:d,velocity:i[e],dampingRatio:h,onUpdate:u=>{if(a&&this.pswp.bgOpacity<1){const m=1-(d-u)/g;this.pswp.applyBgOpacity(ii(p+(1-p)*m,0,1))}n[e]=Math.floor(u),s.applyCurrentZoomPan()}})}_panOrMoveMainScroll(e){const{p1:i,dragAxis:s,prevP1:n,isMultitouch:r}=this.gestures,{currSlide:o,mainScroll:a}=this.pswp,l=i[e]-n[e],c=a.x+l;if(!l||!o)return!1;if(e==="x"&&!o.isPannable()&&!r)return a.moveTo(c,!0),!0;const{bounds:d}=o,h=o.pan[e]+l;if(this.pswp.options.allowPanToNext&&s==="x"&&e==="x"&&!r){const p=a.getCurrSlideX(),g=a.x-p,u=l>0,m=!u;if(h>d.min[e]&&u){if(d.min[e]<=this.startPan[e])return a.moveTo(c,!0),!0;this._setPanWithFriction(e,h)}else if(h<d.max[e]&&m){if(this.startPan[e]<=d.max[e])return a.moveTo(c,!0),!0;this._setPanWithFriction(e,h)}else if(g!==0){if(g>0)return a.moveTo(Math.max(c,p),!0),!0;if(g<0)return a.moveTo(Math.min(c,p),!0),!0}else this._setPanWithFriction(e,h)}else e==="y"?!a.isShifted()&&d.min.y!==d.max.y&&this._setPanWithFriction(e,h):this._setPanWithFriction(e,h);return!1}_getVerticalDragRatio(e){var i,s;return(e-((i=(s=this.pswp.currSlide)===null||s===void 0?void 0:s.bounds.center.y)!==null&&i!==void 0?i:0))/(this.pswp.viewportSize.y/3)}_setPanWithFriction(e,i,s){const{currSlide:n}=this.pswp;if(!n)return;const{pan:r,bounds:o}=n;if(o.correctPan(e,i)!==i||s){const l=Math.round(i-r[e]);r[e]+=l*(s||qf)}else r[e]=i}}const Kf=.05,Qf=.15;function vr(t,e,i){return t.x=(e.x+i.x)/2,t.y=(e.y+i.y)/2,t}class Jf{constructor(e){this.gestures=e,this._startPan={x:0,y:0},this._startZoomPoint={x:0,y:0},this._zoomPoint={x:0,y:0},this._wasOverFitZoomLevel=!1,this._startZoomLevel=1}start(){const{currSlide:e}=this.gestures.pswp;e&&(this._startZoomLevel=e.currZoomLevel,Y(this._startPan,e.pan)),this.gestures.pswp.animations.stopAllPan(),this._wasOverFitZoomLevel=!1}change(){const{p1:e,startP1:i,p2:s,startP2:n,pswp:r}=this.gestures,{currSlide:o}=r;if(!o)return;const a=o.zoomLevels.min,l=o.zoomLevels.max;if(!o.isZoomable()||r.mainScroll.isShifted())return;vr(this._startZoomPoint,i,n),vr(this._zoomPoint,e,s);let c=1/xs(i,n)*xs(e,s)*this._startZoomLevel;if(c>o.zoomLevels.initial+o.zoomLevels.initial/15&&(this._wasOverFitZoomLevel=!0),c<a)if(r.options.pinchToClose&&!this._wasOverFitZoomLevel&&this._startZoomLevel<=o.zoomLevels.initial){const d=1-(a-c)/(a/1.2);r.dispatch("pinchClose",{bgOpacity:d}).defaultPrevented||r.applyBgOpacity(d)}else c=a-(a-c)*Qf;else c>l&&(c=l+(c-l)*Kf);o.pan.x=this._calculatePanForZoomLevel("x",c),o.pan.y=this._calculatePanForZoomLevel("y",c),o.setZoomLevel(c),o.applyCurrentZoomPan()}end(){const{pswp:e}=this.gestures,{currSlide:i}=e;(!i||i.currZoomLevel<i.zoomLevels.initial)&&!this._wasOverFitZoomLevel&&e.options.pinchToClose?e.close():this.correctZoomPan()}_calculatePanForZoomLevel(e,i){const s=i/this._startZoomLevel;return this._zoomPoint[e]-(this._startZoomPoint[e]-this._startPan[e])*s}correctZoomPan(e){const{pswp:i}=this.gestures,{currSlide:s}=i;if(!(s!=null&&s.isZoomable()))return;this._zoomPoint.x===0&&(e=!0);const n=s.currZoomLevel;let r,o=!0;n<s.zoomLevels.initial?r=s.zoomLevels.initial:n>s.zoomLevels.max?r=s.zoomLevels.max:(o=!1,r=n);const a=i.bgOpacity,l=i.bgOpacity<1,c=Y({x:0,y:0},s.pan);let d=Y({x:0,y:0},c);e&&(this._zoomPoint.x=0,this._zoomPoint.y=0,this._startZoomPoint.x=0,this._startZoomPoint.y=0,this._startZoomLevel=n,Y(this._startPan,c)),o&&(d={x:this._calculatePanForZoomLevel("x",r),y:this._calculatePanForZoomLevel("y",r)}),s.setZoomLevel(r),d={x:s.bounds.correctPan("x",d.x),y:s.bounds.correctPan("y",d.y)},s.setZoomLevel(n);const h=!Zt(d,c);if(!h&&!o&&!l){s._setResolution(r),s.applyCurrentZoomPan();return}i.animations.stopAllPan(),i.animations.startSpring({isPan:!0,start:0,end:1e3,velocity:0,dampingRatio:1,naturalFrequency:40,onUpdate:p=>{if(p/=1e3,h||o){if(h&&(s.pan.x=c.x+(d.x-c.x)*p,s.pan.y=c.y+(d.y-c.y)*p),o){const g=n+(r-n)*p;s.setZoomLevel(g)}s.applyCurrentZoomPan()}l&&i.bgOpacity<1&&i.applyBgOpacity(ii(a+(1-a)*p,0,1))},onComplete:()=>{s._setResolution(r),s.applyCurrentZoomPan()}})}}function Sr(t){return!!t.target.closest(".pswp__container")}class eg{constructor(e){this.gestures=e}click(e,i){const s=i.target.classList,n=s.contains("pswp__img"),r=s.contains("pswp__item")||s.contains("pswp__zoom-wrap");n?this._doClickOrTapAction("imageClick",e,i):r&&this._doClickOrTapAction("bgClick",e,i)}tap(e,i){Sr(i)&&this._doClickOrTapAction("tap",e,i)}doubleTap(e,i){Sr(i)&&this._doClickOrTapAction("doubleTap",e,i)}_doClickOrTapAction(e,i,s){var n;const{pswp:r}=this.gestures,{currSlide:o}=r,a=e+"Action",l=r.options[a];if(!r.dispatch(a,{point:i,originalEvent:s}).defaultPrevented){if(typeof l=="function"){l.call(r,i,s);return}switch(l){case"close":case"next":r[l]();break;case"zoom":o==null||o.toggleZoom(i);break;case"zoom-or-close":o!=null&&o.isZoomable()&&o.zoomLevels.secondary!==o.zoomLevels.initial?o.toggleZoom(i):r.options.clickToCloseNonZoomable&&r.close();break;case"toggle-controls":(n=this.gestures.pswp.element)===null||n===void 0||n.classList.toggle("pswp--ui-visible");break}}}}const tg=10,ig=300,sg=25;class ng{constructor(e){this.pswp=e,this.dragAxis=null,this.p1={x:0,y:0},this.p2={x:0,y:0},this.prevP1={x:0,y:0},this.prevP2={x:0,y:0},this.startP1={x:0,y:0},this.startP2={x:0,y:0},this.velocity={x:0,y:0},this._lastStartP1={x:0,y:0},this._intervalP1={x:0,y:0},this._numActivePoints=0,this._ongoingPointers=[],this._touchEventEnabled="ontouchstart"in window,this._pointerEventEnabled=!!window.PointerEvent,this.supportsTouch=this._touchEventEnabled||this._pointerEventEnabled&&navigator.maxTouchPoints>1,this._numActivePoints=0,this._intervalTime=0,this._velocityCalculated=!1,this.isMultitouch=!1,this.isDragging=!1,this.isZooming=!1,this.raf=null,this._tapTimer=null,this.supportsTouch||(e.options.allowPanToNext=!1),this.drag=new jf(this),this.zoomLevels=new Jf(this),this.tapHandler=new eg(this),e.on("bindEvents",()=>{e.events.add(e.scrollWrap,"click",this._onClick.bind(this)),this._pointerEventEnabled?this._bindEvents("pointer","down","up","cancel"):this._touchEventEnabled?(this._bindEvents("touch","start","end","cancel"),e.scrollWrap&&(e.scrollWrap.ontouchmove=()=>{},e.scrollWrap.ontouchend=()=>{})):this._bindEvents("mouse","down","up")})}_bindEvents(e,i,s,n){const{pswp:r}=this,{events:o}=r,a=n?e+n:"";o.add(r.scrollWrap,e+i,this.onPointerDown.bind(this)),o.add(window,e+"move",this.onPointerMove.bind(this)),o.add(window,e+s,this.onPointerUp.bind(this)),a&&o.add(r.scrollWrap,a,this.onPointerUp.bind(this))}onPointerDown(e){const i=e.type==="mousedown"||e.pointerType==="mouse";if(i&&e.button>0)return;const{pswp:s}=this;if(!s.opener.isOpen){e.preventDefault();return}s.dispatch("pointerDown",{originalEvent:e}).defaultPrevented||(i&&(s.mouseDetected(),this._preventPointerEventBehaviour(e,"down")),s.animations.stopAll(),this._updatePoints(e,"down"),this._numActivePoints===1&&(this.dragAxis=null,Y(this.startP1,this.p1)),this._numActivePoints>1?(this._clearTapTimer(),this.isMultitouch=!0):this.isMultitouch=!1)}onPointerMove(e){this._preventPointerEventBehaviour(e,"move"),this._numActivePoints&&(this._updatePoints(e,"move"),!this.pswp.dispatch("pointerMove",{originalEvent:e}).defaultPrevented&&(this._numActivePoints===1&&!this.isDragging?(this.dragAxis||this._calculateDragDirection(),this.dragAxis&&!this.isDragging&&(this.isZooming&&(this.isZooming=!1,this.zoomLevels.end()),this.isDragging=!0,this._clearTapTimer(),this._updateStartPoints(),this._intervalTime=Date.now(),this._velocityCalculated=!1,Y(this._intervalP1,this.p1),this.velocity.x=0,this.velocity.y=0,this.drag.start(),this._rafStopLoop(),this._rafRenderLoop())):this._numActivePoints>1&&!this.isZooming&&(this._finishDrag(),this.isZooming=!0,this._updateStartPoints(),this.zoomLevels.start(),this._rafStopLoop(),this._rafRenderLoop())))}_finishDrag(){this.isDragging&&(this.isDragging=!1,this._velocityCalculated||this._updateVelocity(!0),this.drag.end(),this.dragAxis=null)}onPointerUp(e){this._numActivePoints&&(this._updatePoints(e,"up"),!this.pswp.dispatch("pointerUp",{originalEvent:e}).defaultPrevented&&(this._numActivePoints===0&&(this._rafStopLoop(),this.isDragging?this._finishDrag():!this.isZooming&&!this.isMultitouch&&this._finishTap(e)),this._numActivePoints<2&&this.isZooming&&(this.isZooming=!1,this.zoomLevels.end(),this._numActivePoints===1&&(this.dragAxis=null,this._updateStartPoints()))))}_rafRenderLoop(){(this.isDragging||this.isZooming)&&(this._updateVelocity(),this.isDragging?Zt(this.p1,this.prevP1)||this.drag.change():(!Zt(this.p1,this.prevP1)||!Zt(this.p2,this.prevP2))&&this.zoomLevels.change(),this._updatePrevPoints(),this.raf=requestAnimationFrame(this._rafRenderLoop.bind(this)))}_updateVelocity(e){const i=Date.now(),s=i-this._intervalTime;s<50&&!e||(this.velocity.x=this._getVelocity("x",s),this.velocity.y=this._getVelocity("y",s),this._intervalTime=i,Y(this._intervalP1,this.p1),this._velocityCalculated=!0)}_finishTap(e){const{mainScroll:i}=this.pswp;if(i.isShifted()){i.moveIndexBy(0,!0);return}if(e.type.indexOf("cancel")>0)return;if(e.type==="mouseup"||e.pointerType==="mouse"){this.tapHandler.click(this.startP1,e);return}const s=this.pswp.options.doubleTapAction?ig:0;this._tapTimer?(this._clearTapTimer(),xs(this._lastStartP1,this.startP1)<sg&&this.tapHandler.doubleTap(this.startP1,e)):(Y(this._lastStartP1,this.startP1),this._tapTimer=setTimeout(()=>{this.tapHandler.tap(this.startP1,e),this._clearTapTimer()},s))}_clearTapTimer(){this._tapTimer&&(clearTimeout(this._tapTimer),this._tapTimer=null)}_getVelocity(e,i){const s=this.p1[e]-this._intervalP1[e];return Math.abs(s)>1&&i>5?s/i:0}_rafStopLoop(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null)}_preventPointerEventBehaviour(e,i){this.pswp.applyFilters("preventPointerEvent",!0,e,i)&&e.preventDefault()}_updatePoints(e,i){if(this._pointerEventEnabled){const s=e,n=this._ongoingPointers.findIndex(r=>r.id===s.pointerId);i==="up"&&n>-1?this._ongoingPointers.splice(n,1):i==="down"&&n===-1?this._ongoingPointers.push(this._convertEventPosToPoint(s,{x:0,y:0})):n>-1&&this._convertEventPosToPoint(s,this._ongoingPointers[n]),this._numActivePoints=this._ongoingPointers.length,this._numActivePoints>0&&Y(this.p1,this._ongoingPointers[0]),this._numActivePoints>1&&Y(this.p2,this._ongoingPointers[1])}else{const s=e;this._numActivePoints=0,s.type.indexOf("touch")>-1?s.touches&&s.touches.length>0&&(this._convertEventPosToPoint(s.touches[0],this.p1),this._numActivePoints++,s.touches.length>1&&(this._convertEventPosToPoint(s.touches[1],this.p2),this._numActivePoints++)):(this._convertEventPosToPoint(e,this.p1),i==="up"?this._numActivePoints=0:this._numActivePoints++)}}_updatePrevPoints(){Y(this.prevP1,this.p1),Y(this.prevP2,this.p2)}_updateStartPoints(){Y(this.startP1,this.p1),Y(this.startP2,this.p2),this._updatePrevPoints()}_calculateDragDirection(){if(this.pswp.mainScroll.isShifted())this.dragAxis="x";else{const e=Math.abs(this.p1.x-this.startP1.x)-Math.abs(this.p1.y-this.startP1.y);if(e!==0){const i=e>0?"x":"y";Math.abs(this.p1[i]-this.startP1[i])>=tg&&(this.dragAxis=i)}}}_convertEventPosToPoint(e,i){return i.x=e.pageX-this.pswp.offset.x,i.y=e.pageY-this.pswp.offset.y,"pointerId"in e?i.id=e.pointerId:e.identifier!==void 0&&(i.id=e.identifier),i}_onClick(e){this.pswp.mainScroll.isShifted()&&(e.preventDefault(),e.stopPropagation())}}const rg=.35;class og{constructor(e){this.pswp=e,this.x=0,this.slideWidth=0,this._currPositionIndex=0,this._prevPositionIndex=0,this._containerShiftIndex=-1,this.itemHolders=[]}resize(e){const{pswp:i}=this,s=Math.round(i.viewportSize.x+i.viewportSize.x*i.options.spacing),n=s!==this.slideWidth;n&&(this.slideWidth=s,this.moveTo(this.getCurrSlideX())),this.itemHolders.forEach((r,o)=>{n&&He(r.el,(o+this._containerShiftIndex)*this.slideWidth),e&&r.slide&&r.slide.resize()})}resetPosition(){this._currPositionIndex=0,this._prevPositionIndex=0,this.slideWidth=0,this._containerShiftIndex=-1}appendHolders(){this.itemHolders=[];for(let e=0;e<3;e++){const i=le("pswp__item","div",this.pswp.container);i.setAttribute("role","group"),i.setAttribute("aria-roledescription","slide"),i.setAttribute("aria-hidden","true"),i.style.display=e===1?"block":"none",this.itemHolders.push({el:i})}}canBeSwiped(){return this.pswp.getNumItems()>1}moveIndexBy(e,i,s){const{pswp:n}=this;let r=n.potentialIndex+e;const o=n.getNumItems();if(n.canLoop()){r=n.getLoopedIndex(r);const l=(e+o)%o;l<=o/2?e=l:e=l-o}else r<0?r=0:r>=o&&(r=o-1),e=r-n.potentialIndex;n.potentialIndex=r,this._currPositionIndex-=e,n.animations.stopMainScroll();const a=this.getCurrSlideX();if(!i)this.moveTo(a),this.updateCurrItem();else{n.animations.startSpring({isMainScroll:!0,start:this.x,end:a,velocity:s||0,naturalFrequency:30,dampingRatio:1,onUpdate:c=>{this.moveTo(c)},onComplete:()=>{this.updateCurrItem(),n.appendHeavy()}});let l=n.potentialIndex-n.currIndex;if(n.canLoop()){const c=(l+o)%o;c<=o/2?l=c:l=c-o}Math.abs(l)>1&&this.updateCurrItem()}return!!e}getCurrSlideX(){return this.slideWidth*this._currPositionIndex}isShifted(){return this.x!==this.getCurrSlideX()}updateCurrItem(){var e;const{pswp:i}=this,s=this._prevPositionIndex-this._currPositionIndex;if(!s)return;this._prevPositionIndex=this._currPositionIndex,i.currIndex=i.potentialIndex;let n=Math.abs(s),r;n>=3&&(this._containerShiftIndex+=s+(s>0?-3:3),n=3,this.itemHolders.forEach(o=>{var a;(a=o.slide)===null||a===void 0||a.destroy(),o.slide=void 0}));for(let o=0;o<n;o++)s>0?(r=this.itemHolders.shift(),r&&(this.itemHolders[2]=r,this._containerShiftIndex++,He(r.el,(this._containerShiftIndex+2)*this.slideWidth),i.setContent(r,i.currIndex-n+o+2))):(r=this.itemHolders.pop(),r&&(this.itemHolders.unshift(r),this._containerShiftIndex--,He(r.el,this._containerShiftIndex*this.slideWidth),i.setContent(r,i.currIndex+n-o-2)));Math.abs(this._containerShiftIndex)>50&&!this.isShifted()&&(this.resetPosition(),this.resize()),i.animations.stopAllPan(),this.itemHolders.forEach((o,a)=>{o.slide&&o.slide.setIsActive(a===1)}),i.currSlide=(e=this.itemHolders[1])===null||e===void 0?void 0:e.slide,i.contentLoader.updateLazy(s),i.currSlide&&i.currSlide.applyCurrentZoomPan(),i.dispatch("change")}moveTo(e,i){if(!this.pswp.canLoop()&&i){let s=(this.slideWidth*this._currPositionIndex-e)/this.slideWidth;s+=this.pswp.currIndex;const n=Math.round(e-this.x);(s<0&&n>0||s>=this.pswp.getNumItems()-1&&n<0)&&(e=this.x+n*rg)}this.x=e,this.pswp.container&&He(this.pswp.container,e),this.pswp.dispatch("moveMainScroll",{x:e,dragging:i??!1})}}const ag={Escape:27,z:90,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Tab:9},Fe=(t,e)=>e?t:ag[t];class lg{constructor(e){this.pswp=e,this._wasFocused=!1,e.on("bindEvents",()=>{e.options.trapFocus&&(e.options.initialPointerPos||this._focusRoot(),e.events.add(document,"focusin",this._onFocusIn.bind(this))),e.events.add(document,"keydown",this._onKeyDown.bind(this))});const i=document.activeElement;e.on("destroy",()=>{e.options.returnFocus&&i&&this._wasFocused&&i.focus()})}_focusRoot(){!this._wasFocused&&this.pswp.element&&(this.pswp.element.focus(),this._wasFocused=!0)}_onKeyDown(e){const{pswp:i}=this;if(i.dispatch("keydown",{originalEvent:e}).defaultPrevented||zf(e))return;let s,n,r=!1;const o="key"in e;switch(o?e.key:e.keyCode){case Fe("Escape",o):i.options.escKey&&(s="close");break;case Fe("z",o):s="toggleZoom";break;case Fe("ArrowLeft",o):n="x";break;case Fe("ArrowUp",o):n="y";break;case Fe("ArrowRight",o):n="x",r=!0;break;case Fe("ArrowDown",o):r=!0,n="y";break;case Fe("Tab",o):this._focusRoot();break}if(n){e.preventDefault();const{currSlide:a}=i;i.options.arrowKeys&&n==="x"&&i.getNumItems()>1?s=r?"next":"prev":a&&a.currZoomLevel>a.zoomLevels.fit&&(a.pan[n]+=r?-80:80,a.panTo(a.pan.x,a.pan.y))}s&&(e.preventDefault(),i[s]())}_onFocusIn(e){const{template:i}=this.pswp;i&&document!==e.target&&i!==e.target&&!i.contains(e.target)&&i.focus()}}const cg="cubic-bezier(.4,0,.22,1)";class dg{constructor(e){var i;this.props=e;const{target:s,onComplete:n,transform:r,onFinish:o=()=>{},duration:a=333,easing:l=cg}=e;this.onFinish=o;const c=r?"transform":"opacity",d=(i=e[c])!==null&&i!==void 0?i:"";this._target=s,this._onComplete=n,this._finished=!1,this._onTransitionEnd=this._onTransitionEnd.bind(this),this._helperTimeout=setTimeout(()=>{sa(s,c,a,l),this._helperTimeout=setTimeout(()=>{s.addEventListener("transitionend",this._onTransitionEnd,!1),s.addEventListener("transitioncancel",this._onTransitionEnd,!1),this._helperTimeout=setTimeout(()=>{this._finalizeAnimation()},a+500),s.style[c]=d},30)},0)}_onTransitionEnd(e){e.target===this._target&&this._finalizeAnimation()}_finalizeAnimation(){this._finished||(this._finished=!0,this.onFinish(),this._onComplete&&this._onComplete())}destroy(){this._helperTimeout&&clearTimeout(this._helperTimeout),Gf(this._target),this._target.removeEventListener("transitionend",this._onTransitionEnd,!1),this._target.removeEventListener("transitioncancel",this._onTransitionEnd,!1),this._finished||this._finalizeAnimation()}}const hg=12,ug=.75;class pg{constructor(e,i,s){this.velocity=e*1e3,this._dampingRatio=i||ug,this._naturalFrequency=s||hg,this._dampedFrequency=this._naturalFrequency,this._dampingRatio<1&&(this._dampedFrequency*=Math.sqrt(1-this._dampingRatio*this._dampingRatio))}easeFrame(e,i){let s=0,n;i/=1e3;const r=Math.E**(-this._dampingRatio*this._naturalFrequency*i);if(this._dampingRatio===1)n=this.velocity+this._naturalFrequency*e,s=(e+n*i)*r,this.velocity=s*-this._naturalFrequency+n*r;else if(this._dampingRatio<1){n=1/this._dampedFrequency*(this._dampingRatio*this._naturalFrequency*e+this.velocity);const o=Math.cos(this._dampedFrequency*i),a=Math.sin(this._dampedFrequency*i);s=r*(e*o+n*a),this.velocity=s*-this._naturalFrequency*this._dampingRatio+r*(-this._dampedFrequency*e*a+this._dampedFrequency*n*o)}return s}}class fg{constructor(e){this.props=e,this._raf=0;const{start:i,end:s,velocity:n,onUpdate:r,onComplete:o,onFinish:a=()=>{},dampingRatio:l,naturalFrequency:c}=e;this.onFinish=a;const d=new pg(n,l,c);let h=Date.now(),p=i-s;const g=()=>{this._raf&&(p=d.easeFrame(p,Date.now()-h),Math.abs(p)<1&&Math.abs(d.velocity)<50?(r(s),o&&o(),this.onFinish()):(h=Date.now(),r(p+s),this._raf=requestAnimationFrame(g)))};this._raf=requestAnimationFrame(g)}destroy(){this._raf>=0&&cancelAnimationFrame(this._raf),this._raf=0}}class gg{constructor(){this.activeAnimations=[]}startSpring(e){this._start(e,!0)}startTransition(e){this._start(e)}_start(e,i){const s=i?new fg(e):new dg(e);return this.activeAnimations.push(s),s.onFinish=()=>this.stop(s),s}stop(e){e.destroy();const i=this.activeAnimations.indexOf(e);i>-1&&this.activeAnimations.splice(i,1)}stopAll(){this.activeAnimations.forEach(e=>{e.destroy()}),this.activeAnimations=[]}stopAllPan(){this.activeAnimations=this.activeAnimations.filter(e=>e.props.isPan?(e.destroy(),!1):!0)}stopMainScroll(){this.activeAnimations=this.activeAnimations.filter(e=>e.props.isMainScroll?(e.destroy(),!1):!0)}isPanRunning(){return this.activeAnimations.some(e=>e.props.isPan)}}class mg{constructor(e){this.pswp=e,e.events.add(e.element,"wheel",this._onWheel.bind(this))}_onWheel(e){e.preventDefault();const{currSlide:i}=this.pswp;let{deltaX:s,deltaY:n}=e;if(i&&!this.pswp.dispatch("wheel",{originalEvent:e}).defaultPrevented)if(e.ctrlKey||this.pswp.options.wheelToZoom){if(i.isZoomable()){let r=-n;e.deltaMode===1?r*=.05:r*=e.deltaMode?1:.002,r=2**r;const o=i.currZoomLevel*r;i.zoomTo(o,{x:e.clientX,y:e.clientY})}}else i.isPannable()&&(e.deltaMode===1&&(s*=18,n*=18),i.panTo(i.pan.x-s,i.pan.y-n))}}function Eg(t){if(typeof t=="string")return t;if(!t||!t.isCustomSVG)return"";const e=t;let i='<svg aria-hidden="true" class="pswp__icn" viewBox="0 0 %d %d" width="%d" height="%d">';return i=i.split("%d").join(e.size||32),e.outlineID&&(i+='<use class="pswp__icn-shadow" xlink:href="#'+e.outlineID+'"/>'),i+=e.inner,i+="</svg>",i}class _g{constructor(e,i){var s;const n=i.name||i.className;let r=i.html;if(e.options[n]===!1)return;typeof e.options[n+"SVG"]=="string"&&(r=e.options[n+"SVG"]),e.dispatch("uiElementCreate",{data:i});let o="";i.isButton?(o+="pswp__button ",o+=i.className||`pswp__button--${i.name}`):o+=i.className||`pswp__${i.name}`;let a=i.isButton?i.tagName||"button":i.tagName||"div";a=a.toLowerCase();const l=le(o,a);if(i.isButton){a==="button"&&(l.type="button");let{title:h}=i;const{ariaLabel:p}=i;typeof e.options[n+"Title"]=="string"&&(h=e.options[n+"Title"]),h&&(l.title=h);const g=p||h;g&&l.setAttribute("aria-label",g)}l.innerHTML=Eg(r),i.onInit&&i.onInit(l,e),i.onClick&&(l.onclick=h=>{typeof i.onClick=="string"?e[i.onClick]():typeof i.onClick=="function"&&i.onClick(h,l,e)});const c=i.appendTo||"bar";let d=e.element;c==="bar"?(e.topBar||(e.topBar=le("pswp__top-bar pswp__hide-on-close","div",e.scrollWrap)),d=e.topBar):(l.classList.add("pswp__hide-on-close"),c==="wrapper"&&(d=e.scrollWrap)),(s=d)===null||s===void 0||s.appendChild(e.applyFilters("uiElement",l,i))}}function la(t,e,i){t.classList.add("pswp__button--arrow"),t.setAttribute("aria-controls","pswp__items"),e.on("change",()=>{e.options.loop||(i?t.disabled=!(e.currIndex<e.getNumItems()-1):t.disabled=!(e.currIndex>0))})}const yg={name:"arrowPrev",className:"pswp__button--arrow--prev",title:"Previous",order:10,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<path d="M29 43l-3 3-16-16 16-16 3 3-13 13 13 13z" id="pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"prev",onInit:la},Ig={name:"arrowNext",className:"pswp__button--arrow--next",title:"Next",order:11,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<use xlink:href="#pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"next",onInit:(t,e)=>{la(t,e,!0)}},Tg={name:"close",title:"Close",order:20,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M24 10l-2-2-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6z" id="pswp__icn-close"/>',outlineID:"pswp__icn-close"},onClick:"close"},vg={name:"zoom",title:"Zoom",order:10,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M17.426 19.926a6 6 0 1 1 1.5-1.5L23 22.5 21.5 24l-4.074-4.074z" id="pswp__icn-zoom"/><path fill="currentColor" class="pswp__zoom-icn-bar-h" d="M11 16v-2h6v2z"/><path fill="currentColor" class="pswp__zoom-icn-bar-v" d="M13 12h2v6h-2z"/>',outlineID:"pswp__icn-zoom"},onClick:"toggleZoom"},Sg={name:"preloader",appendTo:"bar",order:7,html:{isCustomSVG:!0,inner:'<path fill-rule="evenodd" clip-rule="evenodd" d="M21.2 16a5.2 5.2 0 1 1-5.2-5.2V8a8 8 0 1 0 8 8h-2.8Z" id="pswp__icn-loading"/>',outlineID:"pswp__icn-loading"},onInit:(t,e)=>{let i,s=null;const n=(a,l)=>{t.classList.toggle("pswp__preloader--"+a,l)},r=a=>{i!==a&&(i=a,n("active",a))},o=()=>{var a;if(!((a=e.currSlide)!==null&&a!==void 0&&a.content.isLoading())){r(!1),s&&(clearTimeout(s),s=null);return}s||(s=setTimeout(()=>{var l;r(!!(!((l=e.currSlide)===null||l===void 0)&&l.content.isLoading())),s=null},e.options.preloaderDelay))};e.on("change",o),e.on("loadComplete",a=>{e.currSlide===a.slide&&o()}),e.ui&&(e.ui.updatePreloaderVisibility=o)}},wg={name:"counter",order:5,onInit:(t,e)=>{e.on("change",()=>{t.innerText=e.currIndex+1+e.options.indexIndicatorSep+e.getNumItems()})}};function wr(t,e){t.classList.toggle("pswp--zoomed-in",e)}class bg{constructor(e){this.pswp=e,this.isRegistered=!1,this.uiElementsData=[],this.items=[],this.updatePreloaderVisibility=()=>{},this._lastUpdatedZoomLevel=void 0}init(){const{pswp:e}=this;this.isRegistered=!1,this.uiElementsData=[Tg,yg,Ig,vg,Sg,wg],e.dispatch("uiRegister"),this.uiElementsData.sort((i,s)=>(i.order||0)-(s.order||0)),this.items=[],this.isRegistered=!0,this.uiElementsData.forEach(i=>{this.registerElement(i)}),e.on("change",()=>{var i;(i=e.element)===null||i===void 0||i.classList.toggle("pswp--one-slide",e.getNumItems()===1)}),e.on("zoomPanUpdate",()=>this._onZoomPanUpdate())}registerElement(e){this.isRegistered?this.items.push(new _g(this.pswp,e)):this.uiElementsData.push(e)}_onZoomPanUpdate(){const{template:e,currSlide:i,options:s}=this.pswp;if(this.pswp.opener.isClosing||!e||!i)return;let{currZoomLevel:n}=i;if(this.pswp.opener.isOpen||(n=i.zoomLevels.initial),n===this._lastUpdatedZoomLevel)return;this._lastUpdatedZoomLevel=n;const r=i.zoomLevels.initial-i.zoomLevels.secondary;if(Math.abs(r)<.01||!i.isZoomable()){wr(e,!1),e.classList.remove("pswp--zoom-allowed");return}e.classList.add("pswp--zoom-allowed");const o=n===i.zoomLevels.initial?i.zoomLevels.secondary:i.zoomLevels.initial;wr(e,o<=n),(s.imageClickAction==="zoom"||s.imageClickAction==="zoom-or-close")&&e.classList.add("pswp--click-to-zoom")}}function Rg(t){const e=t.getBoundingClientRect();return{x:e.left,y:e.top,w:e.width}}function Og(t,e,i){const s=t.getBoundingClientRect(),n=s.width/e,r=s.height/i,o=n>r?n:r,a=(s.width-e*o)/2,l=(s.height-i*o)/2,c={x:s.left+a,y:s.top+l,w:e*o};return c.innerRect={w:s.width,h:s.height,x:a,y:l},c}function Ag(t,e,i){const s=i.dispatch("thumbBounds",{index:t,itemData:e,instance:i});if(s.thumbBounds)return s.thumbBounds;const{element:n}=e;let r,o;if(n&&i.options.thumbSelector!==!1){const a=i.options.thumbSelector||"img";o=n.matches(a)?n:n.querySelector(a)}return o=i.applyFilters("thumbEl",o,e,t),o&&(e.thumbCropped?r=Og(o,e.width||e.w||0,e.height||e.h||0):r=Rg(o)),i.applyFilters("thumbBounds",r,e,t)}class Dg{constructor(e,i){this.type=e,this.defaultPrevented=!1,i&&Object.assign(this,i)}preventDefault(){this.defaultPrevented=!0}}class Cg{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,i,s=100){var n,r,o;this._filters[e]||(this._filters[e]=[]),(n=this._filters[e])===null||n===void 0||n.push({fn:i,priority:s}),(r=this._filters[e])===null||r===void 0||r.sort((a,l)=>a.priority-l.priority),(o=this.pswp)===null||o===void 0||o.addFilter(e,i,s)}removeFilter(e,i){this._filters[e]&&(this._filters[e]=this._filters[e].filter(s=>s.fn!==i)),this.pswp&&this.pswp.removeFilter(e,i)}applyFilters(e,...i){var s;return(s=this._filters[e])===null||s===void 0||s.forEach(n=>{i[0]=n.fn.apply(this,i)}),i[0]}on(e,i){var s,n;this._listeners[e]||(this._listeners[e]=[]),(s=this._listeners[e])===null||s===void 0||s.push(i),(n=this.pswp)===null||n===void 0||n.on(e,i)}off(e,i){var s;this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(n=>i!==n)),(s=this.pswp)===null||s===void 0||s.off(e,i)}dispatch(e,i){var s;if(this.pswp)return this.pswp.dispatch(e,i);const n=new Dg(e,i);return(s=this._listeners[e])===null||s===void 0||s.forEach(r=>{r.call(this,n)}),n}}class Pg{constructor(e,i){if(this.element=le("pswp__img pswp__img--placeholder",e?"img":"div",i),e){const s=this.element;s.decoding="async",s.alt="",s.src=e,s.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,i){this.element&&(this.element.tagName==="IMG"?(Ns(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=Qt(0,0,e/250)):Ns(this.element,e,i))}destroy(){var e;(e=this.element)!==null&&e!==void 0&&e.parentNode&&this.element.remove(),this.element=null}}class Lg{constructor(e,i,s){this.instance=i,this.data=e,this.index=s,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=fe.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,i){if(this.slide&&this.usePlaceholder())if(this.placeholder){const s=this.placeholder.element;s&&!s.parentElement&&this.slide.container.prepend(s)}else{const s=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new Pg(s,this.slide.container)}this.element&&!i||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=le("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=le("pswp__content","div"),this.element.innerHTML=this.data.html||""),i&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){var i,s;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented)return;const n=this.element;this.updateSrcsetSizes(),this.data.srcset&&(n.srcset=this.data.srcset),n.src=(i=this.data.src)!==null&&i!==void 0?i:"",n.alt=(s=this.data.alt)!==null&&s!==void 0?s:"",this.state=fe.LOADING,n.complete?this.onLoaded():(n.onload=()=>{this.onLoaded()},n.onerror=()=>{this.onError()})}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=fe.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===fe.LOADED||this.state===fe.ERROR)&&this.removePlaceholder())}onError(){this.state=fe.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===fe.LOADING,this)}isError(){return this.state===fe.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(e,i){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,i),!this.instance.dispatch("contentResize",{content:this,width:e,height:i}).defaultPrevented&&(Ns(this.element,e,i),this.isImageContent()&&!this.isError()))){const s=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=i,s?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:i,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==fe.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const e=this.element,i=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||i>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=i+"px",e.dataset.largestUsedSize=String(i))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,i;let s=le("pswp__error-msg","div");s.innerText=(e=(i=this.instance.options)===null||i===void 0?void 0:i.errorMsg)!==null&&e!==void 0?e:"",s=this.instance.applyFilters("contentErrorElement",s,this),this.element=le("pswp__content pswp__error-msg-container","div"),this.element.appendChild(s),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===fe.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||Ir())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide||(this.isImageContent()&&this.isDecoding&&!Ir()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===fe.LOADED||this.state===fe.ERROR)&&this.removePlaceholder()))}}const Mg=5;function ca(t,e,i){const s=e.createContentFromData(t,i);let n;const{options:r}=e;if(r){n=new aa(r,t,-1);let o;e.pswp?o=e.pswp.viewportSize:o=ra(r,e);const a=oa(r,o,t,i);n.update(s.width,s.height,a)}return s.lazyLoad(),n&&s.setDisplayedSize(Math.ceil(s.width*n.initial),Math.ceil(s.height*n.initial)),s}function xg(t,e){const i=e.getItemData(t);if(!e.dispatch("lazyLoadSlide",{index:t,itemData:i}).defaultPrevented)return ca(i,e,t)}class Ng{constructor(e){this.pswp=e,this.limit=Math.max(e.options.preload[0]+e.options.preload[1]+1,Mg),this._cachedItems=[]}updateLazy(e){const{pswp:i}=this;if(i.dispatch("lazyLoad").defaultPrevented)return;const{preload:s}=i.options,n=e===void 0?!0:e>=0;let r;for(r=0;r<=s[1];r++)this.loadSlideByIndex(i.currIndex+(n?r:-r));for(r=1;r<=s[0];r++)this.loadSlideByIndex(i.currIndex+(n?-r:r))}loadSlideByIndex(e){const i=this.pswp.getLoopedIndex(e);let s=this.getContentByIndex(i);s||(s=xg(i,this.pswp),s&&this.addToCache(s))}getContentBySlide(e){let i=this.getContentByIndex(e.index);return i||(i=this.pswp.createContentFromData(e.data,e.index),this.addToCache(i)),i.setSlide(e),i}addToCache(e){if(this.removeByIndex(e.index),this._cachedItems.push(e),this._cachedItems.length>this.limit){const i=this._cachedItems.findIndex(s=>!s.isAttached&&!s.hasSlide);i!==-1&&this._cachedItems.splice(i,1)[0].destroy()}}removeByIndex(e){const i=this._cachedItems.findIndex(s=>s.index===e);i!==-1&&this._cachedItems.splice(i,1)}getContentByIndex(e){return this._cachedItems.find(i=>i.index===e)}destroy(){this._cachedItems.forEach(e=>e.destroy()),this._cachedItems=[]}}class Fg extends Cg{getNumItems(){var e;let i=0;const s=(e=this.options)===null||e===void 0?void 0:e.dataSource;s&&"length"in s?i=s.length:s&&"gallery"in s&&(s.items||(s.items=this._getGalleryDOMElements(s.gallery)),s.items&&(i=s.items.length));const n=this.dispatch("numItems",{dataSource:s,numItems:i});return this.applyFilters("numItems",n.numItems,s)}createContentFromData(e,i){return new Lg(e,this,i)}getItemData(e){var i;const s=(i=this.options)===null||i===void 0?void 0:i.dataSource;let n={};Array.isArray(s)?n=s[e]:s&&"gallery"in s&&(s.items||(s.items=this._getGalleryDOMElements(s.gallery)),n=s.items[e]);let r=n;r instanceof Element&&(r=this._domElementToItemData(r));const o=this.dispatch("itemData",{itemData:r||{},index:e});return this.applyFilters("itemData",o.itemData,e)}_getGalleryDOMElements(e){var i,s;return(i=this.options)!==null&&i!==void 0&&i.children||(s=this.options)!==null&&s!==void 0&&s.childSelector?Vf(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const i={element:e},s=e.tagName==="A"?e:e.querySelector("a");if(s){i.src=s.dataset.pswpSrc||s.href,s.dataset.pswpSrcset&&(i.srcset=s.dataset.pswpSrcset),i.width=s.dataset.pswpWidth?parseInt(s.dataset.pswpWidth,10):0,i.height=s.dataset.pswpHeight?parseInt(s.dataset.pswpHeight,10):0,i.w=i.width,i.h=i.height,s.dataset.pswpType&&(i.type=s.dataset.pswpType);const r=e.querySelector("img");if(r){var n;i.msrc=r.currentSrc||r.src,i.alt=(n=r.getAttribute("alt"))!==null&&n!==void 0?n:""}(s.dataset.pswpCropped||s.dataset.cropped)&&(i.thumbCropped=!0)}return this.applyFilters("domItemData",i,e,s)}lazyLoadData(e,i){return ca(e,this,i)}}const _t=.003;class Bg{constructor(e){this.pswp=e,this.isClosed=!0,this.isOpen=!1,this.isClosing=!1,this.isOpening=!1,this._duration=void 0,this._useAnimation=!1,this._croppedZoom=!1,this._animateRootOpacity=!1,this._animateBgOpacity=!1,this._placeholder=void 0,this._opacityElement=void 0,this._cropContainer1=void 0,this._cropContainer2=void 0,this._thumbBounds=void 0,this._prepareOpen=this._prepareOpen.bind(this),e.on("firstZoomPan",this._prepareOpen)}open(){this._prepareOpen(),this._start()}close(){if(this.isClosed||this.isClosing||this.isOpening)return;const e=this.pswp.currSlide;this.isOpen=!1,this.isOpening=!1,this.isClosing=!0,this._duration=this.pswp.options.hideAnimationDuration,e&&e.currZoomLevel*e.width>=this.pswp.options.maxWidthToAnimate&&(this._duration=0),this._applyStartProps(),setTimeout(()=>{this._start()},this._croppedZoom?30:0)}_prepareOpen(){if(this.pswp.off("firstZoomPan",this._prepareOpen),!this.isOpening){const e=this.pswp.currSlide;this.isOpening=!0,this.isClosing=!1,this._duration=this.pswp.options.showAnimationDuration,e&&e.zoomLevels.initial*e.width>=this.pswp.options.maxWidthToAnimate&&(this._duration=0),this._applyStartProps()}}_applyStartProps(){const{pswp:e}=this,i=this.pswp.currSlide,{options:s}=e;if(s.showHideAnimationType==="fade"?(s.showHideOpacity=!0,this._thumbBounds=void 0):s.showHideAnimationType==="none"?(s.showHideOpacity=!1,this._duration=0,this._thumbBounds=void 0):this.isOpening&&e._initialThumbBounds?this._thumbBounds=e._initialThumbBounds:this._thumbBounds=this.pswp.getThumbBounds(),this._placeholder=i==null?void 0:i.getPlaceholderElement(),e.animations.stopAll(),this._useAnimation=!!(this._duration&&this._duration>50),this._animateZoom=!!this._thumbBounds&&(i==null?void 0:i.content.usePlaceholder())&&(!this.isClosing||!e.mainScroll.isShifted()),!this._animateZoom)this._animateRootOpacity=!0,this.isOpening&&i&&(i.zoomAndPanToInitial(),i.applyCurrentZoomPan());else{var n;this._animateRootOpacity=(n=s.showHideOpacity)!==null&&n!==void 0?n:!1}if(this._animateBgOpacity=!this._animateRootOpacity&&this.pswp.options.bgOpacity>_t,this._opacityElement=this._animateRootOpacity?e.element:e.bg,!this._useAnimation){this._duration=0,this._animateZoom=!1,this._animateBgOpacity=!1,this._animateRootOpacity=!0,this.isOpening&&(e.element&&(e.element.style.opacity=String(_t)),e.applyBgOpacity(1));return}if(this._animateZoom&&this._thumbBounds&&this._thumbBounds.innerRect){var r;this._croppedZoom=!0,this._cropContainer1=this.pswp.container,this._cropContainer2=(r=this.pswp.currSlide)===null||r===void 0?void 0:r.holderElement,e.container&&(e.container.style.overflow="hidden",e.container.style.width=e.viewportSize.x+"px")}else this._croppedZoom=!1;this.isOpening?(this._animateRootOpacity?(e.element&&(e.element.style.opacity=String(_t)),e.applyBgOpacity(1)):(this._animateBgOpacity&&e.bg&&(e.bg.style.opacity=String(_t)),e.element&&(e.element.style.opacity="1")),this._animateZoom&&(this._setClosedStateZoomPan(),this._placeholder&&(this._placeholder.style.willChange="transform",this._placeholder.style.opacity=String(_t)))):this.isClosing&&(e.mainScroll.itemHolders[0]&&(e.mainScroll.itemHolders[0].el.style.display="none"),e.mainScroll.itemHolders[2]&&(e.mainScroll.itemHolders[2].el.style.display="none"),this._croppedZoom&&e.mainScroll.x!==0&&(e.mainScroll.resetPosition(),e.mainScroll.resize()))}_start(){this.isOpening&&this._useAnimation&&this._placeholder&&this._placeholder.tagName==="IMG"?new Promise(e=>{let i=!1,s=!0;Uf(this._placeholder).finally(()=>{i=!0,s||e(!0)}),setTimeout(()=>{s=!1,i&&e(!0)},50),setTimeout(e,250)}).finally(()=>this._initiate()):this._initiate()}_initiate(){var e,i;(e=this.pswp.element)===null||e===void 0||e.style.setProperty("--pswp-transition-duration",this._duration+"ms"),this.pswp.dispatch(this.isOpening?"openingAnimationStart":"closingAnimationStart"),this.pswp.dispatch("initialZoom"+(this.isOpening?"In":"Out")),(i=this.pswp.element)===null||i===void 0||i.classList.toggle("pswp--ui-visible",this.isOpening),this.isOpening?(this._placeholder&&(this._placeholder.style.opacity="1"),this._animateToOpenState()):this.isClosing&&this._animateToClosedState(),this._useAnimation||this._onAnimationComplete()}_onAnimationComplete(){const{pswp:e}=this;if(this.isOpen=this.isOpening,this.isClosed=this.isClosing,this.isOpening=!1,this.isClosing=!1,e.dispatch(this.isOpen?"openingAnimationEnd":"closingAnimationEnd"),e.dispatch("initialZoom"+(this.isOpen?"InEnd":"OutEnd")),this.isClosed)e.destroy();else if(this.isOpen){var i;this._animateZoom&&e.container&&(e.container.style.overflow="visible",e.container.style.width="100%"),(i=e.currSlide)===null||i===void 0||i.applyCurrentZoomPan()}}_animateToOpenState(){const{pswp:e}=this;this._animateZoom&&(this._croppedZoom&&this._cropContainer1&&this._cropContainer2&&(this._animateTo(this._cropContainer1,"transform","translate3d(0,0,0)"),this._animateTo(this._cropContainer2,"transform","none")),e.currSlide&&(e.currSlide.zoomAndPanToInitial(),this._animateTo(e.currSlide.container,"transform",e.currSlide.getCurrentTransform()))),this._animateBgOpacity&&e.bg&&this._animateTo(e.bg,"opacity",String(e.options.bgOpacity)),this._animateRootOpacity&&e.element&&this._animateTo(e.element,"opacity","1")}_animateToClosedState(){const{pswp:e}=this;this._animateZoom&&this._setClosedStateZoomPan(!0),this._animateBgOpacity&&e.bgOpacity>.01&&e.bg&&this._animateTo(e.bg,"opacity","0"),this._animateRootOpacity&&e.element&&this._animateTo(e.element,"opacity","0")}_setClosedStateZoomPan(e){if(!this._thumbBounds)return;const{pswp:i}=this,{innerRect:s}=this._thumbBounds,{currSlide:n,viewportSize:r}=i;if(this._croppedZoom&&s&&this._cropContainer1&&this._cropContainer2){const o=-r.x+(this._thumbBounds.x-s.x)+s.w,a=-r.y+(this._thumbBounds.y-s.y)+s.h,l=r.x-s.w,c=r.y-s.h;e?(this._animateTo(this._cropContainer1,"transform",Qt(o,a)),this._animateTo(this._cropContainer2,"transform",Qt(l,c))):(He(this._cropContainer1,o,a),He(this._cropContainer2,l,c))}n&&(Y(n.pan,s||this._thumbBounds),n.currZoomLevel=this._thumbBounds.w/n.width,e?this._animateTo(n.container,"transform",n.getCurrentTransform()):n.applyCurrentZoomPan())}_animateTo(e,i,s){if(!this._duration){e.style[i]=s;return}const{animations:n}=this.pswp,r={duration:this._duration,easing:this.pswp.options.easing,onComplete:()=>{n.activeAnimations.length||this._onAnimationComplete()},target:e};r[i]=s,n.startTransition(r)}}const Gg={allowPanToNext:!0,spacing:.1,loop:!0,pinchToClose:!0,closeOnVerticalDrag:!0,hideAnimationDuration:333,showAnimationDuration:333,zoomAnimationDuration:333,escKey:!0,arrowKeys:!0,trapFocus:!0,returnFocus:!0,maxWidthToAnimate:4e3,clickToCloseNonZoomable:!0,imageClickAction:"zoom-or-close",bgClickAction:"close",tapAction:"toggle-controls",doubleTapAction:"zoom",indexIndicatorSep:" / ",preloaderDelay:2e3,bgOpacity:.8,index:0,errorMsg:"The image cannot be loaded",preload:[1,2],easing:"cubic-bezier(.4,0,.22,1)"};class Ug extends Fg{constructor(e){super(),this.options=this._prepareOptions(e||{}),this.offset={x:0,y:0},this._prevViewportSize={x:0,y:0},this.viewportSize={x:0,y:0},this.bgOpacity=1,this.currIndex=0,this.potentialIndex=0,this.isOpen=!1,this.isDestroying=!1,this.hasMouse=!1,this._initialItemData={},this._initialThumbBounds=void 0,this.topBar=void 0,this.element=void 0,this.template=void 0,this.container=void 0,this.scrollWrap=void 0,this.currSlide=void 0,this.events=new Hf,this.animations=new gg,this.mainScroll=new og(this),this.gestures=new ng(this),this.opener=new Bg(this),this.keyboard=new lg(this),this.contentLoader=new Ng(this)}init(){if(this.isOpen||this.isDestroying)return!1;this.isOpen=!0,this.dispatch("init"),this.dispatch("beforeOpen"),this._createMainStructure();let e="pswp--open";return this.gestures.supportsTouch&&(e+=" pswp--touch"),this.options.mainClass&&(e+=" "+this.options.mainClass),this.element&&(this.element.className+=" "+e),this.currIndex=this.options.index||0,this.potentialIndex=this.currIndex,this.dispatch("firstUpdate"),this.scrollWheel=new mg(this),(Number.isNaN(this.currIndex)||this.currIndex<0||this.currIndex>=this.getNumItems())&&(this.currIndex=0),this.gestures.supportsTouch||this.mouseDetected(),this.updateSize(),this.offset.y=window.pageYOffset,this._initialItemData=this.getItemData(this.currIndex),this.dispatch("gettingData",{index:this.currIndex,data:this._initialItemData,slide:void 0}),this._initialThumbBounds=this.getThumbBounds(),this.dispatch("initialLayout"),this.on("openingAnimationEnd",()=>{const{itemHolders:i}=this.mainScroll;i[0]&&(i[0].el.style.display="block",this.setContent(i[0],this.currIndex-1)),i[2]&&(i[2].el.style.display="block",this.setContent(i[2],this.currIndex+1)),this.appendHeavy(),this.contentLoader.updateLazy(),this.events.add(window,"resize",this._handlePageResize.bind(this)),this.events.add(window,"scroll",this._updatePageScrollOffset.bind(this)),this.dispatch("bindEvents")}),this.mainScroll.itemHolders[1]&&this.setContent(this.mainScroll.itemHolders[1],this.currIndex),this.dispatch("change"),this.opener.open(),this.dispatch("afterInit"),!0}getLoopedIndex(e){const i=this.getNumItems();return this.options.loop&&(e>i-1&&(e-=i),e<0&&(e+=i)),ii(e,0,i-1)}appendHeavy(){this.mainScroll.itemHolders.forEach(e=>{var i;(i=e.slide)===null||i===void 0||i.appendHeavy()})}goTo(e){this.mainScroll.moveIndexBy(this.getLoopedIndex(e)-this.potentialIndex)}next(){this.goTo(this.potentialIndex+1)}prev(){this.goTo(this.potentialIndex-1)}zoomTo(...e){var i;(i=this.currSlide)===null||i===void 0||i.zoomTo(...e)}toggleZoom(){var e;(e=this.currSlide)===null||e===void 0||e.toggleZoom()}close(){!this.opener.isOpen||this.isDestroying||(this.isDestroying=!0,this.dispatch("close"),this.events.removeAll(),this.opener.close())}destroy(){var e;if(!this.isDestroying){this.options.showHideAnimationType="none",this.close();return}this.dispatch("destroy"),this._listeners={},this.scrollWrap&&(this.scrollWrap.ontouchmove=null,this.scrollWrap.ontouchend=null),(e=this.element)===null||e===void 0||e.remove(),this.mainScroll.itemHolders.forEach(i=>{var s;(s=i.slide)===null||s===void 0||s.destroy()}),this.contentLoader.destroy(),this.events.removeAll()}refreshSlideContent(e){this.contentLoader.removeByIndex(e),this.mainScroll.itemHolders.forEach((i,s)=>{var n,r;let o=((n=(r=this.currSlide)===null||r===void 0?void 0:r.index)!==null&&n!==void 0?n:0)-1+s;if(this.canLoop()&&(o=this.getLoopedIndex(o)),o===e&&(this.setContent(i,e,!0),s===1)){var a;this.currSlide=i.slide,(a=i.slide)===null||a===void 0||a.setIsActive(!0)}}),this.dispatch("change")}setContent(e,i,s){if(this.canLoop()&&(i=this.getLoopedIndex(i)),e.slide){if(e.slide.index===i&&!s)return;e.slide.destroy(),e.slide=void 0}if(!this.canLoop()&&(i<0||i>=this.getNumItems()))return;const n=this.getItemData(i);e.slide=new kf(n,i,this),i===this.currIndex&&(this.currSlide=e.slide),e.slide.append(e.el)}getViewportCenterPoint(){return{x:this.viewportSize.x/2,y:this.viewportSize.y/2}}updateSize(e){if(this.isDestroying)return;const i=ra(this.options,this);!e&&Zt(i,this._prevViewportSize)||(Y(this._prevViewportSize,i),this.dispatch("beforeResize"),Y(this.viewportSize,this._prevViewportSize),this._updatePageScrollOffset(),this.dispatch("viewportSize"),this.mainScroll.resize(this.opener.isOpen),!this.hasMouse&&window.matchMedia("(any-hover: hover)").matches&&this.mouseDetected(),this.dispatch("resize"))}applyBgOpacity(e){this.bgOpacity=Math.max(e,0),this.bg&&(this.bg.style.opacity=String(this.bgOpacity*this.options.bgOpacity))}mouseDetected(){if(!this.hasMouse){var e;this.hasMouse=!0,(e=this.element)===null||e===void 0||e.classList.add("pswp--has_mouse")}}_handlePageResize(){this.updateSize(),/iPhone|iPad|iPod/i.test(window.navigator.userAgent)&&setTimeout(()=>{this.updateSize()},500)}_updatePageScrollOffset(){this.setScrollOffset(0,window.pageYOffset)}setScrollOffset(e,i){this.offset.x=e,this.offset.y=i,this.dispatch("updateScrollOffset")}_createMainStructure(){this.element=le("pswp","div"),this.element.setAttribute("tabindex","-1"),this.element.setAttribute("role","dialog"),this.template=this.element,this.bg=le("pswp__bg","div",this.element),this.scrollWrap=le("pswp__scroll-wrap","section",this.element),this.container=le("pswp__container","div",this.scrollWrap),this.scrollWrap.setAttribute("aria-roledescription","carousel"),this.container.setAttribute("aria-live","off"),this.container.setAttribute("id","pswp__items"),this.mainScroll.appendHolders(),this.ui=new bg(this),this.ui.init(),(this.options.appendToEl||document.body).appendChild(this.element)}getThumbBounds(){return Ag(this.currIndex,this.currSlide?this.currSlide.data:this._initialItemData,this)}canLoop(){return this.options.loop&&this.getNumItems()>2}_prepareOptions(e){return window.matchMedia("(prefers-reduced-motion), (update: slow)").matches&&(e.showHideAnimationType="none",e.zoomAnimationDuration=0),{...Gg,...e}}}class ve{constructor(e){this._canceled=!1,this.data=e}get type(){return this.constructor.type}get cancelable(){return this.constructor.cancelable}cancel(){this._canceled=!0}canceled(){return this._canceled}clone(e){return new this.constructor({...this.data,...e})}}ve.type="event";ve.cancelable=!1;class xe{constructor(e){this.draggable=e}attach(){throw new Error("Not Implemented")}detach(){throw new Error("Not Implemented")}}const Qe={mouse:0,drag:0,touch:100};class da{constructor(e=[],i={}){this.containers=[...e],this.options={...i},this.dragging=!1,this.currentContainer=null,this.originalSource=null,this.startEvent=null,this.delay=zg(i.delay)}attach(){return this}detach(){return this}addContainer(...e){this.containers=[...this.containers,...e]}removeContainer(...e){this.containers=this.containers.filter(i=>!e.includes(i))}trigger(e,i){const s=document.createEvent("Event");return s.detail=i,s.initEvent(i.type,!0,!0),e.dispatchEvent(s),this.lastEvent=i,i}}function zg(t){const e={};if(t===void 0)return{...Qe};if(typeof t=="number"){for(const i in Qe)Object.prototype.hasOwnProperty.call(Qe,i)&&(e[i]=t);return e}for(const i in Qe)Object.prototype.hasOwnProperty.call(Qe,i)&&(t[i]===void 0?e[i]=Qe[i]:e[i]=t[i]);return e}function me(t,e){if(t==null)return null;function i(n){return n==null||e==null?!1:Vg(e)?Element.prototype.matches.call(n,e):Hg(e)?[...e].includes(n):$g(e)?e===n:kg(e)?e(n):!1}let s=t;do{if(s=s.correspondingUseElement||s.correspondingElement||s,i(s))return s;s=(s==null?void 0:s.parentNode)||null}while(s!=null&&s!==document.body&&s!==document);return null}function Vg(t){return typeof t=="string"}function Hg(t){return t instanceof NodeList||t instanceof Array}function $g(t){return t instanceof Node}function kg(t){return typeof t=="function"}function ha(t,e,i,s){return Math.sqrt((i-t)**2+(s-e)**2)}class Qi extends ve{get originalEvent(){return this.data.originalEvent}get clientX(){return this.data.clientX}get clientY(){return this.data.clientY}get target(){return this.data.target}get container(){return this.data.container}get originalSource(){return this.data.originalSource}get pressure(){return this.data.pressure}}class sn extends Qi{}sn.type="drag:start";class nn extends Qi{}nn.type="drag:move";class rn extends Qi{}rn.type="drag:stop";class qg extends Qi{}qg.type="drag:pressure";const yt=Symbol("onContextMenuWhileDragging"),It=Symbol("onMouseDown"),Tt=Symbol("onMouseMove"),vt=Symbol("onMouseUp"),mi=Symbol("startDrag"),Pe=Symbol("onDistanceChange");class Wg extends da{constructor(e=[],i={}){super(e,i),this.mouseDownTimeout=null,this.pageX=null,this.pageY=null,this[yt]=this[yt].bind(this),this[It]=this[It].bind(this),this[Tt]=this[Tt].bind(this),this[vt]=this[vt].bind(this),this[mi]=this[mi].bind(this),this[Pe]=this[Pe].bind(this)}attach(){document.addEventListener("mousedown",this[It],!0)}detach(){document.removeEventListener("mousedown",this[It],!0)}[It](e){if(e.button!==0||e.ctrlKey||e.metaKey)return;const i=me(e.target,this.containers);if(!i||this.options.handle&&e.target&&!me(e.target,this.options.handle))return;const s=me(e.target,this.options.draggable);if(!s)return;const{delay:n}=this,{pageX:r,pageY:o}=e;Object.assign(this,{pageX:r,pageY:o}),this.onMouseDownAt=Date.now(),this.startEvent=e,this.currentContainer=i,this.originalSource=s,document.addEventListener("mouseup",this[vt]),document.addEventListener("dragstart",br),document.addEventListener("mousemove",this[Pe]),this.mouseDownTimeout=window.setTimeout(()=>{this[Pe]({pageX:this.pageX,pageY:this.pageY})},n.mouse)}[mi](){const e=this.startEvent,i=this.currentContainer,s=this.originalSource,n=new sn({clientX:e.clientX,clientY:e.clientY,target:e.target,container:i,originalSource:s,originalEvent:e});this.trigger(this.currentContainer,n),this.dragging=!n.canceled(),this.dragging&&(document.addEventListener("contextmenu",this[yt],!0),document.addEventListener("mousemove",this[Tt]))}[Pe](e){const{pageX:i,pageY:s}=e,{distance:n}=this.options,{startEvent:r,delay:o}=this;if(Object.assign(this,{pageX:i,pageY:s}),!this.currentContainer)return;const a=Date.now()-this.onMouseDownAt,l=ha(r.pageX,r.pageY,i,s)||0;clearTimeout(this.mouseDownTimeout),a<o.mouse?document.removeEventListener("mousemove",this[Pe]):l>=n&&(document.removeEventListener("mousemove",this[Pe]),this[mi]())}[Tt](e){if(!this.dragging)return;const i=document.elementFromPoint(e.clientX,e.clientY),s=new nn({clientX:e.clientX,clientY:e.clientY,target:i,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,s)}[vt](e){if(clearTimeout(this.mouseDownTimeout),e.button!==0||(document.removeEventListener("mouseup",this[vt]),document.removeEventListener("dragstart",br),document.removeEventListener("mousemove",this[Pe]),!this.dragging))return;const i=document.elementFromPoint(e.clientX,e.clientY),s=new rn({clientX:e.clientX,clientY:e.clientY,target:i,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,s),document.removeEventListener("contextmenu",this[yt],!0),document.removeEventListener("mousemove",this[Tt]),this.currentContainer=null,this.dragging=!1,this.startEvent=null}[yt](e){e.preventDefault()}}function br(t){t.preventDefault()}function Je(t){const{touches:e,changedTouches:i}=t;return e&&e[0]||i&&i[0]}const St=Symbol("onTouchStart"),Be=Symbol("onTouchEnd"),wt=Symbol("onTouchMove"),Ei=Symbol("startDrag"),Le=Symbol("onDistanceChange");let Oi=!1;window.addEventListener("touchmove",t=>{Oi&&t.preventDefault()},{passive:!1});class Yg extends da{constructor(e=[],i={}){super(e,i),this.currentScrollableParent=null,this.tapTimeout=null,this.touchMoved=!1,this.pageX=null,this.pageY=null,this[St]=this[St].bind(this),this[Be]=this[Be].bind(this),this[wt]=this[wt].bind(this),this[Ei]=this[Ei].bind(this),this[Le]=this[Le].bind(this)}attach(){document.addEventListener("touchstart",this[St])}detach(){document.removeEventListener("touchstart",this[St])}[St](e){const i=me(e.target,this.containers);if(!i||this.options.handle&&e.target&&!me(e.target,this.options.handle))return;const s=me(e.target,this.options.draggable);if(!s)return;const{distance:n=0}=this.options,{delay:r}=this,{pageX:o,pageY:a}=Je(e);Object.assign(this,{pageX:o,pageY:a}),this.onTouchStartAt=Date.now(),this.startEvent=e,this.currentContainer=i,this.originalSource=s,document.addEventListener("touchend",this[Be]),document.addEventListener("touchcancel",this[Be]),document.addEventListener("touchmove",this[Le]),i.addEventListener("contextmenu",Rr),n&&(Oi=!0),this.tapTimeout=window.setTimeout(()=>{this[Le]({touches:[{pageX:this.pageX,pageY:this.pageY}]})},r.touch)}[Ei](){const e=this.startEvent,i=this.currentContainer,s=Je(e),n=this.originalSource,r=new sn({clientX:s.pageX,clientY:s.pageY,target:e.target,container:i,originalSource:n,originalEvent:e});this.trigger(this.currentContainer,r),this.dragging=!r.canceled(),this.dragging&&document.addEventListener("touchmove",this[wt]),Oi=this.dragging}[Le](e){const{distance:i}=this.options,{startEvent:s,delay:n}=this,r=Je(s),o=Je(e),a=Date.now()-this.onTouchStartAt,l=ha(r.pageX,r.pageY,o.pageX,o.pageY);Object.assign(this,o),clearTimeout(this.tapTimeout),a<n.touch?document.removeEventListener("touchmove",this[Le]):l>=i&&(document.removeEventListener("touchmove",this[Le]),this[Ei]())}[wt](e){if(!this.dragging)return;const{pageX:i,pageY:s}=Je(e),n=document.elementFromPoint(i-window.scrollX,s-window.scrollY),r=new nn({clientX:i,clientY:s,target:n,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,r)}[Be](e){if(clearTimeout(this.tapTimeout),Oi=!1,document.removeEventListener("touchend",this[Be]),document.removeEventListener("touchcancel",this[Be]),document.removeEventListener("touchmove",this[Le]),this.currentContainer&&this.currentContainer.removeEventListener("contextmenu",Rr),!this.dragging)return;document.removeEventListener("touchmove",this[wt]);const{pageX:i,pageY:s}=Je(e),n=document.elementFromPoint(i-window.scrollX,s-window.scrollY);e.preventDefault();const r=new rn({clientX:i,clientY:s,target:n,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,r),this.currentContainer=null,this.dragging=!1,this.startEvent=null}}function Rr(t){t.preventDefault(),t.stopPropagation()}class on extends ve{constructor(e){super(e),this.data=e}get dragEvent(){return this.data.dragEvent}}on.type="collidable";class Xg extends on{get collidingElement(){return this.data.collidingElement}}Xg.type="collidable:in";class Zg extends on{get collidingElement(){return this.data.collidingElement}}Zg.type="collidable:out";function ua(t,e){return function(i){Kg(e,"addInitializer"),Ai(i,"An initializer"),t.push(i)}}function hs(t,e){if(!t(e))throw new TypeError("Attempted to access private element on non-instance")}function jg(t,e,i,s,n,r,o,a,l,c,d){var h;switch(r){case 1:h="accessor";break;case 2:h="method";break;case 3:h="getter";break;case 4:h="setter";break;default:h="field"}var p,g,u={kind:h,name:a?"#"+i:i,static:o,private:a,metadata:d},m={v:!1};if(r!==0&&(u.addInitializer=ua(n,m)),a||r!==0&&r!==2)if(r===2)p=function(f){return hs(c,f),s.value};else{var E=r===0||r===1;(E||r===3)&&(p=a?function(f){return hs(c,f),s.get.call(f)}:function(f){return s.get.call(f)}),(E||r===4)&&(g=a?function(f,_){hs(c,f),s.set.call(f,_)}:function(f,_){s.set.call(f,_)})}else p=function(f){return f[i]},r===0&&(g=function(f,_){f[i]=_});var y=a?c.bind():function(f){return i in f};u.access=p&&g?{get:p,set:g,has:y}:p?{get:p,has:y}:{set:g,has:y};try{return t.call(e,l,u)}finally{m.v=!0}}function Kg(t,e){if(t.v)throw new Error("attempted to call "+e+" after decoration was finished")}function Ai(t,e){if(typeof t!="function")throw new TypeError(e+" must be a function")}function pa(t,e){var i=typeof e;if(t===1){if(i!=="object"||e===null)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0");e.get!==void 0&&Ai(e.get,"accessor.get"),e.set!==void 0&&Ai(e.set,"accessor.set"),e.init!==void 0&&Ai(e.init,"accessor.init")}else if(i!=="function"){var s;throw s=t===0?"field":t===5?"class":"method",new TypeError(s+" decorators must return a function or void 0")}}function Qg(t){return function(){return t(this)}}function Jg(t){return function(e){t(this,e)}}function em(t,e,i,s,n,r,o,a,l,c,d){var h,p,g,u,m,E,y=i[0];s||Array.isArray(y)||(y=[y]),a?h=r===0||r===1?{get:Qg(i[3]),set:Jg(i[4])}:r===3?{get:i[3]}:r===4?{set:i[3]}:{value:i[3]}:r!==0&&(h=Object.getOwnPropertyDescriptor(e,n)),r===1?g={get:h.get,set:h.set}:r===2?g=h.value:r===3?g=h.get:r===4&&(g=h.set);for(var f=s?2:1,_=y.length-1;_>=0;_-=f){var T;(u=jg(y[_],s?y[_-1]:void 0,n,h,l,r,o,a,g,c,d))!==void 0&&(pa(r,u),r===0?T=u:r===1?(T=u.init,m=u.get||g.get,E=u.set||g.set,g={get:m,set:E}):g=u,T!==void 0&&(p===void 0?p=T:typeof p=="function"?p=[p,T]:p.push(T)))}if(r===0||r===1){if(p===void 0)p=function(C,w){return w};else if(typeof p!="function"){var v=p;p=function(C,w){for(var D=w,x=v.length-1;x>=0;x--)D=v[x].call(C,D);return D}}else{var O=p;p=function(C,w){return O.call(C,w)}}t.push(p)}r!==0&&(r===1?(h.get=g.get,h.set=g.set):r===2?h.value=g:r===3?h.get=g:r===4&&(h.set=g),a?r===1?(t.push(function(C,w){return g.get.call(C,w)}),t.push(function(C,w){return g.set.call(C,w)})):r===2?t.push(g):t.push(function(C,w){return g.call(C,w)}):Object.defineProperty(e,n,h))}function tm(t,e,i,s){for(var n,r,o,a=[],l=new Map,c=new Map,d=0;d<e.length;d++){var h=e[d];if(Array.isArray(h)){var p,g,u=h[1],m=h[2],E=h.length>3,y=16&u,f=!!(8&u),_=i;if(u&=7,f?(p=t,u!==0&&(g=r=r||[]),E&&!o&&(o=function(O){return sm(O)===t}),_=o):(p=t.prototype,u!==0&&(g=n=n||[])),u!==0&&!E){var T=f?c:l,v=T.get(m)||0;if(v===!0||v===3&&u!==4||v===4&&u!==3)throw new Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+m);T.set(m,!(!v&&u>2)||u)}em(a,p,h,y,m,u,f,E,g,_,s)}}return Or(a,n),Or(a,r),a}function Or(t,e){e&&t.push(function(i){for(var s=0;s<e.length;s++)e[s].call(i);return i})}function im(t,e,i,s){if(e.length){for(var n=[],r=t,o=t.name,a=1,l=e.length-1;l>=0;l-=a){var c={v:!1};try{var d=e[l].call(i?e[l-1]:void 0,r,{kind:"class",name:o,addInitializer:ua(n,c),metadata:s})}finally{c.v=!0}d!==void 0&&(pa(5,d),r=d)}return[fa(r,s),function(){for(var h=0;h<n.length;h++)n[h].call(r)}]}}function fa(t,e){return Object.defineProperty(t,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:e})}function ga(t,e,i,s,n,r){if(arguments.length>=6)var o=r[Symbol.metadata||Symbol.for("Symbol.metadata")];var a=Object.create(o===void 0?null:o),l=tm(t,e,n,a);return i.length||fa(t,a),{e:l,get c(){return im(t,i,s,a)}}}function sm(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(t!==null?typeof t:"null"));return t}function Di(t,{name:e,addInitializer:i}){i(function(){this[e]=t.bind(this)})}function nm(t){return requestAnimationFrame(()=>{requestAnimationFrame(t)})}class Re extends ve{constructor(e){super(e),this.data=e}get source(){return this.data.source}get originalSource(){return this.data.originalSource}get mirror(){return this.data.mirror}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}Re.type="drag";class an extends Re{}an.type="drag:start";an.cancelable=!0;class ma extends Re{}ma.type="drag:move";class Ji extends Re{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}Ji.type="drag:over";Ji.cancelable=!0;function rm(t){return t.type===Ji.type}class Ea extends Re{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}Ea.type="drag:out";class _a extends Re{get overContainer(){return this.data.overContainer}}_a.type="drag:over:container";class ya extends Re{get overContainer(){return this.data.overContainer}}ya.type="drag:out:container";class Ia extends Re{get pressure(){return this.data.pressure}}Ia.type="drag:pressure";class ln extends Re{}ln.type="drag:stop";ln.cancelable=!0;class Ta extends Re{}Ta.type="drag:stopped";var va,Sa;class om extends xe{constructor(e){va(super(e)),this.lastWidth=0,this.lastHeight=0,this.mirror=null}attach(){this.draggable.on("mirror:created",this.onMirrorCreated).on("drag:over",this.onDragOver).on("drag:over:container",this.onDragOver)}detach(){this.draggable.off("mirror:created",this.onMirrorCreated).off("mirror:destroy",this.onMirrorDestroy).off("drag:over",this.onDragOver).off("drag:over:container",this.onDragOver)}getOptions(){return this.draggable.options.resizeMirror||{}}onMirrorCreated({mirror:e}){this.mirror=e}onMirrorDestroy(){this.mirror=null}onDragOver(e){this.resize(e)}resize(e){requestAnimationFrame(()=>{let i=null;const{overContainer:s}=e;if(this.mirror==null||this.mirror.parentNode==null)return;this.mirror.parentNode!==s&&s.appendChild(this.mirror),rm(e)&&(i=e.over);const n=i||this.draggable.getDraggableElementsForContainer(s)[0];n&&nm(()=>{const r=n.getBoundingClientRect();this.mirror==null||this.lastHeight===r.height&&this.lastWidth===r.width||(this.mirror.style.width=`${r.width}px`,this.mirror.style.height=`${r.height}px`,this.lastWidth=r.width,this.lastHeight=r.height)})})}}Sa=om;[va]=ga(Sa,[[Di,2,"onMirrorCreated"],[Di,2,"onMirrorDestroy"],[Di,2,"onDragOver"]],[],0,void 0,xe).e;class cn extends ve{get dragEvent(){return this.data.dragEvent}get snappable(){return this.data.snappable}}cn.type="snap";class wa extends cn{}wa.type="snap:in";wa.cancelable=!0;class ba extends cn{}ba.type="snap:out";ba.cancelable=!0;var Ra,Oa;const am={duration:150,easingFunction:"ease-in-out",horizontal:!1};class lm extends xe{constructor(e){Ra(super(e)),this.options={...am,...this.getOptions()},this.lastAnimationFrame=null}attach(){this.draggable.on("sortable:sorted",this.onSortableSorted)}detach(){this.draggable.off("sortable:sorted",this.onSortableSorted)}getOptions(){return this.draggable.options.swapAnimation||{}}onSortableSorted({oldIndex:e,newIndex:i,dragEvent:s}){const{source:n,over:r}=s;this.lastAnimationFrame&&cancelAnimationFrame(this.lastAnimationFrame),this.lastAnimationFrame=requestAnimationFrame(()=>{e>=i?Ar(n,r,this.options):Ar(r,n,this.options)})}}Oa=lm;[Ra]=ga(Oa,[[Di,2,"onSortableSorted"]],[],0,void 0,xe).e;function Ar(t,e,{duration:i,easingFunction:s,horizontal:n}){for(const r of[t,e])r.style.pointerEvents="none";if(n){const r=t.offsetWidth;t.style.transform=`translate3d(${r}px, 0, 0)`,e.style.transform=`translate3d(-${r}px, 0, 0)`}else{const r=t.offsetHeight;t.style.transform=`translate3d(0, ${r}px, 0)`,e.style.transform=`translate3d(0, -${r}px, 0)`}requestAnimationFrame(()=>{for(const r of[t,e])r.addEventListener("transitionend",Aa),r.style.transition=`transform ${i}ms ${s}`,r.style.transform=""})}function Aa(t){t.target==null||!cm(t.target)||(t.target.style.transition="",t.target.style.pointerEvents="",t.target.removeEventListener("transitionend",Aa))}function cm(t){return"style"in t}const _i=Symbol("onInitialize"),yi=Symbol("onDestroy"),Dr=Symbol("announceEvent"),us=Symbol("announceMessage"),dm="aria-relevant",hm="aria-atomic",um="aria-live",pm="role",fm={expire:7e3};class gm extends xe{constructor(e){super(e),this.options={...fm,...this.getOptions()},this.originalTriggerMethod=this.draggable.trigger,this[_i]=this[_i].bind(this),this[yi]=this[yi].bind(this)}attach(){this.draggable.on("draggable:initialize",this[_i])}detach(){this.draggable.off("draggable:destroy",this[yi])}getOptions(){return this.draggable.options.announcements||{}}[Dr](e){const i=this.options[e.type];i&&typeof i=="string"&&this[us](i),i&&typeof i=="function"&&this[us](i(e))}[us](e){mm(e,{expire:this.options.expire})}[_i](){this.draggable.trigger=e=>{try{this[Dr](e)}finally{this.originalTriggerMethod.call(this.draggable,e)}}}[yi](){this.draggable.trigger=this.originalTriggerMethod}}const Fs=Em();function mm(t,{expire:e}){const i=document.createElement("div");return i.textContent=t,Fs.appendChild(i),setTimeout(()=>{Fs.removeChild(i)},e)}function Em(){const t=document.createElement("div");return t.setAttribute("id","draggable-live-region"),t.setAttribute(dm,"additions"),t.setAttribute(hm,"true"),t.setAttribute(um,"assertive"),t.setAttribute(pm,"log"),t.style.position="fixed",t.style.width="1px",t.style.height="1px",t.style.top="-1px",t.style.overflow="hidden",t}document.addEventListener("DOMContentLoaded",()=>{document.body.appendChild(Fs)});const bt=Symbol("onInitialize"),et=Symbol("onDestroy"),_m={};class ym extends xe{constructor(e){super(e),this.options={..._m,...this.getOptions()},this[bt]=this[bt].bind(this),this[et]=this[et].bind(this)}attach(){this.draggable.on("draggable:initialize",this[bt]).on("draggable:destroy",this[et])}detach(){this.draggable.off("draggable:initialize",this[bt]).off("draggable:destroy",this[et]),this[et]()}getOptions(){return this.draggable.options.focusable||{}}getElements(){return[...this.draggable.containers,...this.draggable.getDraggableElements()]}[bt](){requestAnimationFrame(()=>{this.getElements().forEach(e=>Im(e))})}[et](){requestAnimationFrame(()=>{this.getElements().forEach(e=>Tm(e))})}}const Bs=[];function Im(t){!t.getAttribute("tabindex")&&t.tabIndex===-1&&(Bs.push(t),t.tabIndex=0)}function Tm(t){const e=Bs.indexOf(t);e!==-1&&(t.tabIndex=-1,Bs.splice(e,1))}class ht extends ve{constructor(e){super(e),this.data=e}get source(){return this.data.source}get originalSource(){return this.data.originalSource}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get dragEvent(){return this.data.dragEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}class Da extends ht{}Da.type="mirror:create";class Ca extends ht{get mirror(){return this.data.mirror}}Ca.type="mirror:created";class Pa extends ht{get mirror(){return this.data.mirror}}Pa.type="mirror:attached";class dn extends ht{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}dn.type="mirror:move";dn.cancelable=!0;class La extends ht{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}La.type="mirror:moved";class hn extends ht{get mirror(){return this.data.mirror}}hn.type="mirror:destroy";hn.cancelable=!0;const Rt=Symbol("onDragStart"),Ot=Symbol("onDragMove"),At=Symbol("onDragStop"),Dt=Symbol("onMirrorCreated"),Ct=Symbol("onMirrorMove"),Pt=Symbol("onScroll"),Cr=Symbol("getAppendableContainer"),vm={constrainDimensions:!1,xAxis:!0,yAxis:!0,cursorOffsetX:null,cursorOffsetY:null,thresholdX:null,thresholdY:null};class Sm extends xe{constructor(e){super(e),this.options={...vm,...this.getOptions()},this.scrollOffset={x:0,y:0},this.initialScrollOffset={x:window.scrollX,y:window.scrollY},this[Rt]=this[Rt].bind(this),this[Ot]=this[Ot].bind(this),this[At]=this[At].bind(this),this[Dt]=this[Dt].bind(this),this[Ct]=this[Ct].bind(this),this[Pt]=this[Pt].bind(this)}attach(){this.draggable.on("drag:start",this[Rt]).on("drag:move",this[Ot]).on("drag:stop",this[At]).on("mirror:created",this[Dt]).on("mirror:move",this[Ct])}detach(){this.draggable.off("drag:start",this[Rt]).off("drag:move",this[Ot]).off("drag:stop",this[At]).off("mirror:created",this[Dt]).off("mirror:move",this[Ct])}getOptions(){return this.draggable.options.mirror||{}}[Rt](e){if(e.canceled())return;"ontouchstart"in window&&document.addEventListener("scroll",this[Pt],!0),this.initialScrollOffset={x:window.scrollX,y:window.scrollY};const{source:i,originalSource:s,sourceContainer:n,sensorEvent:r}=e;this.lastMirrorMovedClient={x:r.clientX,y:r.clientY};const o=new Da({source:i,originalSource:s,sourceContainer:n,sensorEvent:r,dragEvent:e});if(this.draggable.trigger(o),Dm(r)||o.canceled())return;const a=this[Cr](i)||n;this.mirror=i.cloneNode(!0);const l=new Ca({source:i,originalSource:s,sourceContainer:n,sensorEvent:r,dragEvent:e,mirror:this.mirror}),c=new Pa({source:i,originalSource:s,sourceContainer:n,sensorEvent:r,dragEvent:e,mirror:this.mirror});this.draggable.trigger(l),a.appendChild(this.mirror),this.draggable.trigger(c)}[Ot](e){if(!this.mirror||e.canceled())return;const{source:i,originalSource:s,sourceContainer:n,sensorEvent:r}=e;let o=!0,a=!0;if(this.options.thresholdX||this.options.thresholdY){const{x:c,y:d}=this.lastMirrorMovedClient;if(Math.abs(c-r.clientX)<this.options.thresholdX?o=!1:this.lastMirrorMovedClient.x=r.clientX,Math.abs(d-r.clientY)<this.options.thresholdY?a=!1:this.lastMirrorMovedClient.y=r.clientY,!o&&!a)return}const l=new dn({source:i,originalSource:s,sourceContainer:n,sensorEvent:r,dragEvent:e,mirror:this.mirror,passedThreshX:o,passedThreshY:a});this.draggable.trigger(l)}[At](e){if("ontouchstart"in window&&document.removeEventListener("scroll",this[Pt],!0),this.initialScrollOffset={x:0,y:0},this.scrollOffset={x:0,y:0},!this.mirror)return;const{source:i,sourceContainer:s,sensorEvent:n}=e,r=new hn({source:i,mirror:this.mirror,sourceContainer:s,sensorEvent:n,dragEvent:e});this.draggable.trigger(r),r.canceled()||this.mirror.remove()}[Pt](){this.scrollOffset={x:window.scrollX-this.initialScrollOffset.x,y:window.scrollY-this.initialScrollOffset.y}}[Dt]({mirror:e,source:i,sensorEvent:s}){const n=this.draggable.getClassNamesFor("mirror"),r=({mirrorOffset:a,initialX:l,initialY:c,...d})=>(this.mirrorOffset=a,this.initialX=l,this.initialY=c,this.lastMovedX=l,this.lastMovedY=c,{mirrorOffset:a,initialX:l,initialY:c,...d});e.style.display="none";const o={mirror:e,source:i,sensorEvent:s,mirrorClasses:n,scrollOffset:this.scrollOffset,options:this.options,passedThreshX:!0,passedThreshY:!0};return Promise.resolve(o).then(wm).then(bm).then(Rm).then(Om).then(Pr({initial:!0})).then(Am).then(r)}[Ct](e){if(e.canceled())return null;const i=({lastMovedX:r,lastMovedY:o,...a})=>(this.lastMovedX=r,this.lastMovedY=o,{lastMovedX:r,lastMovedY:o,...a}),s=r=>{const o=new La({source:e.source,originalSource:e.originalSource,sourceContainer:e.sourceContainer,sensorEvent:e.sensorEvent,dragEvent:e.dragEvent,mirror:this.mirror,passedThreshX:e.passedThreshX,passedThreshY:e.passedThreshY});return this.draggable.trigger(o),r},n={mirror:e.mirror,sensorEvent:e.sensorEvent,mirrorOffset:this.mirrorOffset,options:this.options,initialX:this.initialX,initialY:this.initialY,scrollOffset:this.scrollOffset,passedThreshX:e.passedThreshX,passedThreshY:e.passedThreshY,lastMovedX:this.lastMovedX,lastMovedY:this.lastMovedY};return Promise.resolve(n).then(Pr({})).then(i).then(s)}[Cr](e){const i=this.options.appendTo;return typeof i=="string"?document.querySelector(i):i instanceof HTMLElement?i:typeof i=="function"?i(e):e.parentNode}}function wm({source:t,...e}){return ut(i=>{const s=t.getBoundingClientRect();i({source:t,sourceRect:s,...e})})}function bm({sensorEvent:t,sourceRect:e,options:i,...s}){return ut(n=>{const r=i.cursorOffsetY===null?t.clientY-e.top:i.cursorOffsetY,o=i.cursorOffsetX===null?t.clientX-e.left:i.cursorOffsetX;n({sensorEvent:t,sourceRect:e,mirrorOffset:{top:r,left:o},options:i,...s})})}function Rm({mirror:t,source:e,options:i,...s}){return ut(n=>{let r,o;if(i.constrainDimensions){const a=getComputedStyle(e);r=a.getPropertyValue("height"),o=a.getPropertyValue("width")}t.style.display=null,t.style.position="fixed",t.style.pointerEvents="none",t.style.top=0,t.style.left=0,t.style.margin=0,i.constrainDimensions&&(t.style.height=r,t.style.width=o),n({mirror:t,source:e,options:i,...s})})}function Om({mirror:t,mirrorClasses:e,...i}){return ut(s=>{t.classList.add(...e),s({mirror:t,mirrorClasses:e,...i})})}function Am({mirror:t,...e}){return ut(i=>{t.removeAttribute("id"),delete t.id,i({mirror:t,...e})})}function Pr({withFrame:t=!1,initial:e=!1}={}){return({mirror:i,sensorEvent:s,mirrorOffset:n,initialY:r,initialX:o,scrollOffset:a,options:l,passedThreshX:c,passedThreshY:d,lastMovedX:h,lastMovedY:p,...g})=>ut(u=>{const m={mirror:i,sensorEvent:s,mirrorOffset:n,options:l,...g};if(n){const E=c?Math.round((s.clientX-n.left-a.x)/(l.thresholdX||1))*(l.thresholdX||1):Math.round(h),y=d?Math.round((s.clientY-n.top-a.y)/(l.thresholdY||1))*(l.thresholdY||1):Math.round(p);l.xAxis&&l.yAxis||e?i.style.transform=`translate3d(${E}px, ${y}px, 0)`:l.xAxis&&!l.yAxis?i.style.transform=`translate3d(${E}px, ${r}px, 0)`:l.yAxis&&!l.xAxis&&(i.style.transform=`translate3d(${o}px, ${y}px, 0)`),e&&(m.initialX=E,m.initialY=y),m.lastMovedX=E,m.lastMovedY=y}u(m)},{})}function ut(t,{raf:e=!1}={}){return new Promise((i,s)=>{e?requestAnimationFrame(()=>{t(i,s)}):t(i,s)})}function Dm(t){return/^drag/.test(t.originalEvent.type)}const Lt=Symbol("onDragStart"),Mt=Symbol("onDragMove"),xt=Symbol("onDragStop"),Nt=Symbol("scroll"),Cm={speed:6,sensitivity:50,scrollableElements:[]};class Pm extends xe{constructor(e){super(e),this.options={...Cm,...this.getOptions()},this.currentMousePosition=null,this.scrollAnimationFrame=null,this.scrollableElement=null,this.findScrollableElementFrame=null,this[Lt]=this[Lt].bind(this),this[Mt]=this[Mt].bind(this),this[xt]=this[xt].bind(this),this[Nt]=this[Nt].bind(this)}attach(){this.draggable.on("drag:start",this[Lt]).on("drag:move",this[Mt]).on("drag:stop",this[xt])}detach(){this.draggable.off("drag:start",this[Lt]).off("drag:move",this[Mt]).off("drag:stop",this[xt])}getOptions(){return this.draggable.options.scrollable||{}}getScrollableElement(e){return this.hasDefinedScrollableElements()?me(e,this.options.scrollableElements)||document.documentElement:xm(e)}hasDefinedScrollableElements(){return this.options.scrollableElements.length!==0}[Lt](e){this.findScrollableElementFrame=requestAnimationFrame(()=>{this.scrollableElement=this.getScrollableElement(e.source)})}[Mt](e){if(this.findScrollableElementFrame=requestAnimationFrame(()=>{this.scrollableElement=this.getScrollableElement(e.sensorEvent.target)}),!this.scrollableElement)return;const i=e.sensorEvent,s={x:0,y:0};"ontouchstart"in window&&(s.y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,s.x=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),this.currentMousePosition={clientX:i.clientX-s.x,clientY:i.clientY-s.y},this.scrollAnimationFrame=requestAnimationFrame(this[Nt])}[xt](){cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.findScrollableElementFrame),this.scrollableElement=null,this.scrollAnimationFrame=null,this.findScrollableElementFrame=null,this.currentMousePosition=null}[Nt](){if(!this.scrollableElement||!this.currentMousePosition)return;cancelAnimationFrame(this.scrollAnimationFrame);const{speed:e,sensitivity:i}=this.options,s=this.scrollableElement.getBoundingClientRect(),n=s.bottom>window.innerHeight,o=s.top<0||n,a=Gs(),l=this.scrollableElement,c=this.currentMousePosition.clientX,d=this.currentMousePosition.clientY;if(l!==document.body&&l!==document.documentElement&&!o){const{offsetHeight:h,offsetWidth:p}=l;s.top+h-d<i?l.scrollTop+=e:d-s.top<i&&(l.scrollTop-=e),s.left+p-c<i?l.scrollLeft+=e:c-s.left<i&&(l.scrollLeft-=e)}else{const{innerHeight:h,innerWidth:p}=window;d<i?a.scrollTop-=e:h-d<i&&(a.scrollTop+=e),c<i?a.scrollLeft-=e:p-c<i&&(a.scrollLeft+=e)}this.scrollAnimationFrame=requestAnimationFrame(this[Nt])}}function Lm(t){const e=/(auto|scroll)/,i=getComputedStyle(t,null),s=i.getPropertyValue("overflow")+i.getPropertyValue("overflow-y")+i.getPropertyValue("overflow-x");return e.test(s)}function Mm(t){return getComputedStyle(t).getPropertyValue("position")==="static"}function xm(t){if(!t)return Gs();const e=getComputedStyle(t).getPropertyValue("position"),i=e==="absolute",s=me(t,n=>i&&Mm(n)?!1:Lm(n));return e==="fixed"||!s?Gs():s}function Gs(){return document.scrollingElement||document.documentElement}class Nm{constructor(){this.callbacks={}}on(e,...i){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(...i),this}off(e,i){if(!this.callbacks[e])return null;const s=this.callbacks[e].slice(0);for(let n=0;n<s.length;n++)i===s[n]&&this.callbacks[e].splice(n,1);return this}trigger(e){if(!this.callbacks[e.type])return null;const i=[...this.callbacks[e.type]],s=[];for(let n=i.length-1;n>=0;n--){const r=i[n];try{r(e)}catch(o){s.push(o)}}return s.length&&console.error(`Draggable caught errors while triggering '${e.type}'`,s),this}}class un extends ve{get draggable(){return this.data.draggable}}un.type="draggable";class Ma extends un{}Ma.type="draggable:initialize";class xa extends un{}xa.type="draggable:destroy";const Ft=Symbol("onDragStart"),tt=Symbol("onDragMove"),Bt=Symbol("onDragStop"),Gt=Symbol("onDragPressure"),Ut=Symbol("dragStop"),Fm={"drag:start":t=>`Picked up ${t.source.textContent.trim()||t.source.id||"draggable element"}`,"drag:stop":t=>`Released ${t.source.textContent.trim()||t.source.id||"draggable element"}`},Bm={"container:dragging":"draggable-container--is-dragging","source:dragging":"draggable-source--is-dragging","source:placed":"draggable-source--placed","container:placed":"draggable-container--placed","body:dragging":"draggable--is-dragging","draggable:over":"draggable--over","container:over":"draggable-container--over","source:original":"draggable--original",mirror:"draggable-mirror"},Gm={draggable:".draggable-source",handle:null,delay:{},distance:0,placedTimeout:800,plugins:[],sensors:[],exclude:{plugins:[],sensors:[]}};class at{constructor(e=[document.body],i={}){if(e instanceof NodeList||e instanceof Array)this.containers=[...e];else if(e instanceof HTMLElement)this.containers=[e];else throw new Error("Draggable containers are expected to be of type `NodeList`, `HTMLElement[]` or `HTMLElement`");this.options={...Gm,...i,classes:{...Bm,...i.classes||{}},announcements:{...Fm,...i.announcements||{}},exclude:{plugins:i.exclude&&i.exclude.plugins||[],sensors:i.exclude&&i.exclude.sensors||[]}},this.emitter=new Nm,this.dragging=!1,this.plugins=[],this.sensors=[],this[Ft]=this[Ft].bind(this),this[tt]=this[tt].bind(this),this[Bt]=this[Bt].bind(this),this[Gt]=this[Gt].bind(this),this[Ut]=this[Ut].bind(this),document.addEventListener("drag:start",this[Ft],!0),document.addEventListener("drag:move",this[tt],!0),document.addEventListener("drag:stop",this[Bt],!0),document.addEventListener("drag:pressure",this[Gt],!0);const s=Object.values(at.Plugins).filter(o=>!this.options.exclude.plugins.includes(o)),n=Object.values(at.Sensors).filter(o=>!this.options.exclude.sensors.includes(o));this.addPlugin(...s,...this.options.plugins),this.addSensor(...n,...this.options.sensors);const r=new Ma({draggable:this});this.on("mirror:created",({mirror:o})=>this.mirror=o),this.on("mirror:destroy",()=>this.mirror=null),this.trigger(r)}destroy(){document.removeEventListener("drag:start",this[Ft],!0),document.removeEventListener("drag:move",this[tt],!0),document.removeEventListener("drag:stop",this[Bt],!0),document.removeEventListener("drag:pressure",this[Gt],!0);const e=new xa({draggable:this});this.trigger(e),this.removePlugin(...this.plugins.map(i=>i.constructor)),this.removeSensor(...this.sensors.map(i=>i.constructor))}addPlugin(...e){const i=e.map(s=>new s(this));return i.forEach(s=>s.attach()),this.plugins=[...this.plugins,...i],this}removePlugin(...e){return this.plugins.filter(s=>e.includes(s.constructor)).forEach(s=>s.detach()),this.plugins=this.plugins.filter(s=>!e.includes(s.constructor)),this}addSensor(...e){const i=e.map(s=>new s(this.containers,this.options));return i.forEach(s=>s.attach()),this.sensors=[...this.sensors,...i],this}removeSensor(...e){return this.sensors.filter(s=>e.includes(s.constructor)).forEach(s=>s.detach()),this.sensors=this.sensors.filter(s=>!e.includes(s.constructor)),this}addContainer(...e){return this.containers=[...this.containers,...e],this.sensors.forEach(i=>i.addContainer(...e)),this}removeContainer(...e){return this.containers=this.containers.filter(i=>!e.includes(i)),this.sensors.forEach(i=>i.removeContainer(...e)),this}on(e,...i){return this.emitter.on(e,...i),this}off(e,i){return this.emitter.off(e,i),this}trigger(e){return this.emitter.trigger(e),this}getClassNameFor(e){return this.getClassNamesFor(e)[0]}getClassNamesFor(e){const i=this.options.classes[e];return i instanceof Array?i:typeof i=="string"||i instanceof String?[i]:[]}isDragging(){return!!this.dragging}getDraggableElements(){return this.containers.reduce((e,i)=>[...e,...this.getDraggableElementsForContainer(i)],[])}getDraggableElementsForContainer(e){return[...e.querySelectorAll(this.options.draggable)].filter(s=>s!==this.originalSource&&s!==this.mirror)}cancel(){this[Ut]()}[Ft](e){const i=Ii(e),{target:s,container:n,originalSource:r}=i;if(!this.containers.includes(n))return;if(this.options.handle&&s&&!me(s,this.options.handle)){i.cancel();return}this.originalSource=r,this.sourceContainer=n,this.lastPlacedSource&&this.lastPlacedContainer&&(clearTimeout(this.placedTimeoutID),this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed")),this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed"))),this.source=this.originalSource.cloneNode(!0),this.originalSource.parentNode.insertBefore(this.source,this.originalSource),this.originalSource.style.display="none";const o=new an({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:i});if(this.trigger(o),this.dragging=!o.canceled(),o.canceled()){this.source.remove(),this.originalSource.style.display=null;return}this.originalSource.classList.add(...this.getClassNamesFor("source:original")),this.source.classList.add(...this.getClassNamesFor("source:dragging")),this.sourceContainer.classList.add(...this.getClassNamesFor("container:dragging")),document.body.classList.add(...this.getClassNamesFor("body:dragging")),Lr(document.body,"none"),requestAnimationFrame(()=>{const l=Ii(e).clone({target:this.source});this[tt]({...e,detail:l})})}[tt](e){if(!this.dragging)return;const i=Ii(e),{container:s}=i;let n=i.target;const r=new ma({source:this.source,originalSource:this.originalSource,sourceContainer:s,sensorEvent:i});this.trigger(r),r.canceled()&&i.cancel(),n=me(n,this.options.draggable);const o=me(i.target,this.containers),a=i.overContainer||o,l=this.currentOverContainer&&a!==this.currentOverContainer,c=this.currentOver&&n!==this.currentOver,d=a&&this.currentOverContainer!==a,h=o&&n&&this.currentOver!==n;if(c){const p=new Ea({source:this.source,originalSource:this.originalSource,sourceContainer:s,sensorEvent:i,over:this.currentOver,overContainer:this.currentOverContainer});this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over")),this.currentOver=null,this.trigger(p)}if(l){const p=new ya({source:this.source,originalSource:this.originalSource,sourceContainer:s,sensorEvent:i,overContainer:this.currentOverContainer});this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over")),this.currentOverContainer=null,this.trigger(p)}if(d){a.classList.add(...this.getClassNamesFor("container:over"));const p=new _a({source:this.source,originalSource:this.originalSource,sourceContainer:s,sensorEvent:i,overContainer:a});this.currentOverContainer=a,this.trigger(p)}if(h){n.classList.add(...this.getClassNamesFor("draggable:over"));const p=new Ji({source:this.source,originalSource:this.originalSource,sourceContainer:s,sensorEvent:i,overContainer:a,over:n});this.currentOver=n,this.trigger(p)}}[Ut](e){if(!this.dragging)return;this.dragging=!1;const i=new ln({source:this.source,originalSource:this.originalSource,sensorEvent:e?e.sensorEvent:null,sourceContainer:this.sourceContainer});this.trigger(i),i.canceled()||this.source.parentNode.insertBefore(this.originalSource,this.source),this.source.remove(),this.originalSource.style.display="",this.source.classList.remove(...this.getClassNamesFor("source:dragging")),this.originalSource.classList.remove(...this.getClassNamesFor("source:original")),this.originalSource.classList.add(...this.getClassNamesFor("source:placed")),this.sourceContainer.classList.add(...this.getClassNamesFor("container:placed")),this.sourceContainer.classList.remove(...this.getClassNamesFor("container:dragging")),document.body.classList.remove(...this.getClassNamesFor("body:dragging")),Lr(document.body,""),this.currentOver&&this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over")),this.currentOverContainer&&this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over")),this.lastPlacedSource=this.originalSource,this.lastPlacedContainer=this.sourceContainer,this.placedTimeoutID=setTimeout(()=>{this.lastPlacedSource&&this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed")),this.lastPlacedContainer&&this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed")),this.lastPlacedSource=null,this.lastPlacedContainer=null},this.options.placedTimeout);const s=new Ta({source:this.source,originalSource:this.originalSource,sensorEvent:e?e.sensorEvent:null,sourceContainer:this.sourceContainer});this.trigger(s),this.source=null,this.originalSource=null,this.currentOverContainer=null,this.currentOver=null,this.sourceContainer=null}[Bt](e){this[Ut](e)}[Gt](e){if(!this.dragging)return;const i=Ii(e),s=this.source||me(i.originalEvent.target,this.options.draggable),n=new Ia({sensorEvent:i,source:s,pressure:i.pressure});this.trigger(n)}}at.Plugins={Announcement:gm,Focusable:ym,Mirror:Sm,Scrollable:Pm};at.Sensors={MouseSensor:Wg,TouchSensor:Yg};function Ii(t){return t.detail}function Lr(t,e){t.style.webkitUserSelect=e,t.style.mozUserSelect=e,t.style.msUserSelect=e,t.style.oUserSelect=e,t.style.userSelect=e}class si extends ve{constructor(e){super(e),this.data=e}get dragEvent(){return this.data.dragEvent}}si.type="droppable";class Na extends si{get dropzone(){return this.data.dropzone}}Na.type="droppable:start";Na.cancelable=!0;class Fa extends si{get dropzone(){return this.data.dropzone}}Fa.type="droppable:dropped";Fa.cancelable=!0;class Ba extends si{get dropzone(){return this.data.dropzone}}Ba.type="droppable:returned";Ba.cancelable=!0;class Ga extends si{get dropzone(){return this.data.dropzone}}Ga.type="droppable:stop";Ga.cancelable=!0;class ni extends ve{constructor(e){super(e),this.data=e}get dragEvent(){return this.data.dragEvent}}ni.type="swappable";class Ua extends ni{}Ua.type="swappable:start";Ua.cancelable=!0;class za extends ni{get over(){return this.data.over}get overContainer(){return this.data.overContainer}}za.type="swappable:swap";za.cancelable=!0;class Um extends ni{get swappedElement(){return this.data.swappedElement}}Um.type="swappable:swapped";class zm extends ni{}zm.type="swappable:stop";class ri extends ve{constructor(e){super(e),this.data=e}get dragEvent(){return this.data.dragEvent}}ri.type="sortable";class pn extends ri{get startIndex(){return this.data.startIndex}get startContainer(){return this.data.startContainer}}pn.type="sortable:start";pn.cancelable=!0;class Gi extends ri{get currentIndex(){return this.data.currentIndex}get over(){return this.data.over}get overContainer(){return this.data.dragEvent.overContainer}}Gi.type="sortable:sort";Gi.cancelable=!0;class Us extends ri{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}Us.type="sortable:sorted";class Va extends ri{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}Va.type="sortable:stop";const zt=Symbol("onDragStart"),Vt=Symbol("onDragOverContainer"),Ht=Symbol("onDragOver"),$t=Symbol("onDragStop");function Vm({dragEvent:t}){const e=t.source.textContent.trim()||t.source.id||"sortable element";if(t.over){const i=t.over.textContent.trim()||t.over.id||"sortable element";return t.source.compareDocumentPosition(t.over)&Node.DOCUMENT_POSITION_FOLLOWING?`Placed ${e} after ${i}`:`Placed ${e} before ${i}`}else return`Placed ${e} into a different container`}const Hm={"sortable:sorted":Vm};class $m extends at{constructor(e=[],i={}){super(e,{...i,announcements:{...Hm,...i.announcements||{}}}),this.startIndex=null,this.startContainer=null,this[zt]=this[zt].bind(this),this[Vt]=this[Vt].bind(this),this[Ht]=this[Ht].bind(this),this[$t]=this[$t].bind(this),this.on("drag:start",this[zt]).on("drag:over:container",this[Vt]).on("drag:over",this[Ht]).on("drag:stop",this[$t])}destroy(){super.destroy(),this.off("drag:start",this[zt]).off("drag:over:container",this[Vt]).off("drag:over",this[Ht]).off("drag:stop",this[$t])}index(e){return this.getSortableElementsForContainer(e.parentNode).indexOf(e)}getSortableElementsForContainer(e){return[...e.querySelectorAll(this.options.draggable)].filter(s=>s!==this.originalSource&&s!==this.mirror&&s.parentNode===e)}[zt](e){this.startContainer=e.source.parentNode,this.startIndex=this.index(e.source);const i=new pn({dragEvent:e,startIndex:this.startIndex,startContainer:this.startContainer});this.trigger(i),i.canceled()&&e.cancel()}[Vt](e){if(e.canceled())return;const{source:i,over:s,overContainer:n}=e,r=this.index(i),o=new Gi({dragEvent:e,currentIndex:r,source:i,over:s});if(this.trigger(o),o.canceled())return;const a=this.getSortableElementsForContainer(n),l=xr({source:i,over:s,overContainer:n,children:a});if(!l)return;const{oldContainer:c,newContainer:d}=l,h=this.index(e.source),p=new Us({dragEvent:e,oldIndex:r,newIndex:h,oldContainer:c,newContainer:d});this.trigger(p)}[Ht](e){if(e.over===e.originalSource||e.over===e.source)return;const{source:i,over:s,overContainer:n}=e,r=this.index(i),o=new Gi({dragEvent:e,currentIndex:r,source:i,over:s});if(this.trigger(o),o.canceled())return;const a=this.getDraggableElementsForContainer(n),l=xr({source:i,over:s,overContainer:n,children:a});if(!l)return;const{oldContainer:c,newContainer:d}=l,h=this.index(i),p=new Us({dragEvent:e,oldIndex:r,newIndex:h,oldContainer:c,newContainer:d});this.trigger(p)}[$t](e){const i=new Va({dragEvent:e,oldIndex:this.startIndex,newIndex:this.index(e.source),oldContainer:this.startContainer,newContainer:e.source.parentNode});this.trigger(i),this.startIndex=null,this.startContainer=null}}function Mr(t){return Array.prototype.indexOf.call(t.parentNode.children,t)}function xr({source:t,over:e,overContainer:i,children:s}){const n=!s.length,r=t.parentNode!==i,o=e&&t.parentNode===e.parentNode;return n?km(t,i):o?qm(t,e):r?Wm(t,e,i):null}function km(t,e){const i=t.parentNode;return e.appendChild(t),{oldContainer:i,newContainer:e}}function qm(t,e){const i=Mr(t),s=Mr(e);return i<s?t.parentNode.insertBefore(t,e.nextElementSibling):t.parentNode.insertBefore(t,e),{oldContainer:t.parentNode,newContainer:t.parentNode}}function Wm(t,e,i){const s=t.parentNode;return e?e.parentNode.insertBefore(t,e):i.appendChild(t),{oldContainer:s,newContainer:t.parentNode}}window.axios=q;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.FilePond=Rp;Bi(Ic);Fi(ea);window.PhotoSwipeLightbox=Ff;window.PhotoSwipe=Ug;window.Sortable=$m;const ps=[[["ɓ",/ɓ/g],["b_<",/b_</g],["b_<",/b_</g],"voiced bilabial implosive"],[["ɖ",/ɖ/g],["d`",/d`/g],["d`",/d`/g],"voiced retroflex plosive"],[["ɗ",/ɗ/g],["d_<",/d_</g],["d_<",/d_</g],"voiced alveolar implosive"],[["ɡ",/ɡ/g],["g",/g/g],["g",/g/g],"voiced velar plosive"],[["ɠ",/ɠ/g],["g_<",/g_</g],["g_<",/g_</g],"voiced velar implosive"],[["ɦ",/ɦ/g],["h\\",/h\\/g],["h\\",/h\\/g],"voiced glottal fricative"],[["ʝ",/ʝ/g],["j\\",/j\\/g],["j\\",/j\\/g],"voiced palatal fricative"],[["ɭ",/ɭ/g],["l`",/l`/g],["l`",/l`/g],"retroflex lateral approximant"],[["ɺ",/ɺ/g],["l\\",/l\\/g],["l\\",/l\\/g],"alveolar lateral flap"],[["ɳ",/ɳ/g],["n`",/n`/g],["n`",/n`/g],"retroflex nasal"],[["ɸ",/ɸ/g],["p\\",/p\\/g],["p\\",/p\\/g],"voiceless bilabial fricative"],[["ɽ",/ɽ/g],["r`",/r`/g],["r`",/r`/g],"retroflex flap"],[["ɹ",/ɹ/g],["r\\",/r\\/g],["r\\",/r\\/g],"alveolar approximant"],[["ɻ",/ɻ/g],["r\\`",/r\\`/g],["r\\`",/r\\`/g],"retroflex approximant"],[["ʂ",/ʂ/g],["s`",/s`/g],["s`",/s`/g],"voiceless retroflex fricative"],[["ɕ",/ɕ/g],["s\\",/s\\/g],["s\\",/s\\/g],"voiceless alveolo-palatal fricative"],[["ʈ",/ʈ/g],["t`",/t`/g],["t`",/t`/g],"voiceless retroflex plosive"],[["ʋ",/ʋ/g],["v\\",/v\\/g],["v\\",/v\\/g],"labiodental approximant"],[["ɧ",/ɧ/g],["x\\",/x\\/g],["x\\",/x\\/g],"voiceless palatal-velar fricative"],[["ʐ",/ʐ/g],["z`",/z`/g],["z`",/z`/g],"voiced retroflex fricative"],[["ʑ",/ʑ/g],["z\\",/z\\/g],["z\\",/z\\/g],"voiced alveolo-palatal fricative"],[["ʙ",/ʙ/g],["B\\",/B\\/g],["B\\",/B\\/g],"bilabial trill"],[["ɢ",/ɢ/g],["G\\",/G\\/g],["G\\",/G\\/g],"voiced uvular plosive"],[["ʛ",/ʛ/g],["G\\_<",/G\\_</g],["G\\_<",/G\\_</g],"voiced uvular implosive"],[["ʜ",/ʜ/g],["H\\",/H\\/g],["H\\",/H\\/g],"voiceless epiglottal fricative"],[["ɨ̞",/ɨ̞/g],["I\\",/I\\/g],["I\\",/I\\/g],"near-close central unrounded vowel"],[["ɪ̈",/ɪ̈/g],["I\\",/I\\/g],["I\\",/I\\/g],"near-close central unrounded vowel"],[["ɟ",/ɟ/g],["J\\",/J\\/g],["J\\",/J\\/g],"voiced palatal plosive"],[["ʄ",/ʄ/g],["J\\_<",/J\\_</g],["J\\_<",/J\\_</g],"voiced palatal implosive"],[["ɮ",/ɮ/g],["K\\",/K\\/g],["K\\",/K\\/g],"voiced alveolar lateral fricative"],[["ʟ",/ʟ/g],["L\\",/L\\/g],["L\\",/L\\/g],"velar lateral approximant"],[["ɰ",/ɰ/g],["M\\",/M\\/g],["M\\",/M\\/g],"velar approximant"],[["ɴ",/ɴ/g],["N\\",/N\\/g],["N\\",/N\\/g],"uvular nasal"],[["ʘ",/ʘ/g],["O\\",/O\\/g],["O\\",/O\\/g],"bilabial click"],[["ʀ",/ʀ/g],["R\\",/R\\/g],["R\\",/R\\/g],"uvular trill"],[["ʊ̈",/ʊ̈/g],["U\\",/U\\/g],["U\\",/U\\/g],"near-close central rounded-sm vowel"],[["ʉ̞",/ʉ̞/g],["U\\",/U\\/g],["U\\",/U\\/g],"near-close central rounded-sm vowel"],[["ħ",/ħ/g],["X\\",/X\\/g],["X\\",/X\\/g],"voiceless pharyngeal fricative"],[["ˑ",/ˑ/g],[":\\",/:\\/g],[":\\",/:\\/g],"half long"],[["ɘ",/ɘ/g],["@\\",/@\\/g],["@\\",/@\\/g],"close-mid central unrounded vowel"],[["ɞ",/ɞ/g],["3\\",/3\\/g],["3\\",/3\\/g],"open-mid central rounded-sm vowel"],[["ɶ",/ɶ/g],["&",/&/g],["&\\",/&\\/g],"open front rounded-sm vowel"],[["ʕ",/ʕ/g],["?\\",/\?\\/g],["?\\",/\?\\/g],"voiced pharyngeal fricative"],[["ʢ",/ʢ/g],["<\\",/<\\/g],["<\\",/<\\/g],"voiced epiglottal fricative"],[["ʡ",/ʡ/g],[">\\",/>\\/g],[">\\",/>\\/g],"epiglottal plosive"],[["ǃ",/ǃ/g],["!\\",/!\\/g],["!\\",/!\\/g],"postalveolar click"],[["ꜜ",/ꜜ/g],["!",/!/g],["!",/!/g],"downstep"],[["ǁ",/ǁ/g],["|\\|\\",/\|\\\|\\/g],["|\\|\\",/\|\\\|\\/g],"alveolar lateral click"],[["ǀ",/ǀ/g],["|\\",/\|\\/g],["|\\",/\|\\/g],"dental click"],[["‖",/‖/g],["||",/\|\|/g],["||",/\|\|/g],"major intonation group"],[["ǂ",/ǂ/g],["=\\",/=\\/g],["=\\",/=\\/g],"palatal click"],[["‿",/‿/g],["-\\",/-\\/g],["-\\",/-\\/g],"linking mark"],[["̈",/̈/g],['_"',/_"/g],['_"',/_"/g],"centralized"],[["̟",/̟/g],["_+",/_\+/g],["_+",/_\+/g],"advanced"],[["̠",/̠/g],["_-",/_-/g],["_-",/_-/g],"retracted"],[["̌",/̌/g],["_/",/_\//g],["_/",/_\//g],"rising tone"],[["̥",/̥/g],["_0",/_0/g],["_0",/_0/g],"voiceless"],[["ʼ",/ʼ/g],["_>",/_>/g],["_>",/_>/g],"ejective"],[["ˤ",/ˤ/g],["_?\\",/_\?\\/g],["_?\\",/_\?\\/g],"pharyngealized"],[["̂",/̂/g],["_\\",/_\\/g],["_\\",/_\\/g],"falling tone"],[["̯",/̯/g],["_^",/_\^/g],["_^",/_\^/g],"non-syllabic"],[["̚",/̚/g],["_}",/_}/g],["_}",/_}/g],"no audible release"],[["˞",/˞/g],["`",/`/g],["`",/`/g],"rhotacized"],[["̃",/̃/g],["~",/_~/g],["~",/_~/g],"nasalized"],[["̃",/̃/g],["~",/~/g],["~",/~/g],"nasalized"],[["̃",/̃/g],["_~",/_~/g],["_~",/_~/g],"nasalized"],[["̘",/̘/g],["_A",/_A/g],["_A",/_A/g],"advanced tongue root"],[["̺",/̺/g],["_a",/_a/g],["_a",/_a/g],"apical"],[[" ᷅",/ ᷅/g],["_B_L",/_B_L/g],["_B_L",/_B_L/g],"low rising tone"],[["̏",/̏/g],["_B",/_B/g],["_B",/_B/g],"extra low tone"],[["̜",/̜/g],["_c",/_c/g],["_c",/_c/g],"less rounded-sm"],[["̪",/̪/g],["_d",/_d/g],["_d",/_d/g],"dental"],[["̴",/̴/g],["_e",/_e/g],["_e",/_e/g],"velarized or pharyngealized; also see 5"],[["↘",/↘/g],["<F>",/<F>/g],["<F>",/<F>/g],"global fall"],[["ˠ",/ˠ/g],["_G",/_G/g],["_G",/_G/g],"velarized"],[[" ᷄",/ ᷄/g],["_H_T",/_H_T/g],["_H_T",/_H_T/g],"high rising tone"],[["́",/́/g],["_H",/_H/g],["_H",/_H/g],"high tone"],[["ʰ",/ʰ/g],["_h",/_h/g],["_h",/_h/g],"aspirated"],[["̰",/̰/g],["_k",/_k/g],["_k",/_k/g],"creaky voice"],[["̀",/̀/g],["_L",/_L/g],["_L",/_L/g],"low tone"],[["ˡ",/ˡ/g],["_l",/_l/g],["_l",/_l/g],"lateral release"],[["̄",/̄/g],["_M",/_M/g],["_M",/_M/g],"mid tone"],[["̻",/̻/g],["_m",/_m/g],["_m",/_m/g],"laminal"],[["̼",/̼/g],["_N",/_N/g],["_N",/_N/g],"linguolabial"],[["ⁿ",/ⁿ/g],["_n",/_n/g],["_n",/_n/g],"nasal release"],[["̹",/̹/g],["_O",/_O/g],["_O",/_O/g],"more rounded-sm"],[["̞",/̞/g],["_o",/_o/g],["_o",/_o/g],"lowered"],[["̙",/̙/g],["_q",/_q/g],["_q",/_q/g],"retracted tongue root"],[["↗",/↗/g],["<R>",/<R>/g],["<R>",/<R>/g],"global rise"],[[" ᷈",/ ᷈/g],["_R_F",/_R_F/g],["_R_F",/_R_F/g],"rising falling tone"],[["̌",/̌/g],["_R",/_R/g],["_R",/_R/g],"rising tone"],[["̂",/̂/g],["_F",/_F/g],["_F",/_F/g],"falling tone"],[["̝",/̝/g],["_r",/_r/g],["_r",/_r/g],"raised"],[["̋",/̋/g],["_T",/_T/g],["_T",/_T/g],"extra high tone"],[["̤",/̤/g],["_t",/_t/g],["_t",/_t/g],"breathy voice"],[["̬",/̬/g],["_v",/_v/g],["_v",/_v/g],"voiced"],[["ʷ",/ʷ/g],["_w",/_w/g],["_w",/_w/g],"labialized"],[["̆",/̆/g],["_X",/_X/g],["_X",/_X/g],"extra-short"],[["̽",/̽/g],["_x",/_x/g],["_x",/_x/g],"mid-centralized"],[["ꜛ",/ꜛ/g],["^",/\^/g],["^",/\^/g],"upstep"],[["ː",/ː/g],[":",/:/g],[":",/:/g],"long"],[["|",/\|/g],["|",/\|/g],["|",/\|/g],"minor (foot) group"],[["̩",/̩/g],["=",/_=/g],["=",/_=/g],"syllabic"],[["̩",/̩/g],["=",/=/g],["=",/=/g],"syllabic"],[["ˈ",/ˈ/g],['"',/"/g],["'",/'/g],"primary stress"],[["ˌ",/ˌ/g],["%",/%/g],[",",/,/g],"secondary stress"],[["ə",/ə/g],["@",/@/g],["@",/@/g],"schwa"],[["ʲ",/ʲ/g],["_j",/_j/g],["_j",/_j/g],"palatalized"],[["æ",/æ/g],["{",/\{/g],["&",/&/g],"near-open front unrounded vowel"],[["ʉ",/ʉ/g],["}",/}/g],["u\\",/u\\/g],"close central rounded-sm vowel"],[["ʔ",/ʔ/g],["?",/\?/g],["?",/\?/g],"glottal stop"],[["ɨ",/ɨ/g],["1",/1/g],["1",/1/g],"close central unrounded vowel"],[["ø",/ø/g],["2",/2/g],["2",/2/g],"close-mid front rounded-sm vowel"],[["ɜ",/ɜ/g],["3",/3/g],["3",/3/g],"open-mid central unrounded vowel"],[["ɾ",/ɾ/g],["4",/4/g],["4",/4/g],"alveolar flap"],[["ɫ",/ɫ/g],["5",/5/g],["5",/5/g],"velarized alveolar lateral approximant; also see _e"],[["ɐ",/ɐ/g],["6",/6/g],["6",/6/g],"near-open central vowel"],[["ɤ",/ɤ/g],["7",/7/g],["7",/7/g],"close-mid back unrounded vowel"],[["ɵ",/ɵ/g],["8",/8/g],["8",/8/g],"close-mid central rounded-sm vowel"],[["œ",/œ/g],["9",/9/g],["9",/9/g],"open-mid front rounded-sm vowel"],[["ɑ",/ɑ/g],["A",/A/g],["A",/A/g],"open back unrounded vowel"],[["β",/β/g],["B",/B/g],["B",/B/g],"voiced bilabial fricative"],[["ç",/ç/g],["C",/C/g],["C",/C/g],"voiceless palatal fricative"],[["ð",/ð/g],["D",/D/g],["D",/D/g],"voiced dental fricative"],[["ɛ",/ɛ/g],["E",/E/g],["E",/E/g],"open-mid front unrounded vowel"],[["ɱ",/ɱ/g],["F",/F/g],["F",/F/g],"labiodental nasal"],[["ɣ",/ɣ/g],["G",/G/g],["G",/G/g],"voiced velar fricative"],[["ɥ",/ɥ/g],["H",/H/g],["H",/H/g],"labial-palatal approximant"],[["ɪ",/ɪ/g],["I",/I/g],["I",/I/g],"near-close front unrounded vowel"],[["ɲ",/ɲ/g],["J",/J/g],["J",/J/g],"palatal nasal"],[["ɬ",/ɬ/g],["K",/K/g],["K",/K/g],"voiceless alveolar lateral fricative"],[["ʎ",/ʎ/g],["L",/L/g],["L",/L/g],"palatal lateral approximant"],[["ɯ",/ɯ/g],["M",/M/g],["M",/M/g],"close back unrounded vowel"],[["ŋ",/ŋ/g],["N",/N/g],["N",/N/g],"velar nasal"],[["ɔ",/ɔ/g],["O",/O/g],["O",/O/g],"open-mid back rounded-sm vowel"],[["ɒ",/ɒ/g],["Q",/Q/g],["Q",/Q/g],"open back rounded-sm vowel"],[["ʁ",/ʁ/g],["R",/R/g],["R",/R/g],"voiced uvular fricative"],[["ʃ",/ʃ/g],["S",/S/g],["S",/S/g],"voiceless postalveolar fricative"],[["θ",/θ/g],["T",/T/g],["T",/T/g],"voiceless dental fricative"],[["ʊ",/ʊ/g],["U",/U/g],["U",/U/g],"near-close back rounded-sm vowel"],[["ʌ",/ʌ/g],["V",/V/g],["V",/V/g],"open-mid back unrounded vowel"],[["ʍ",/ʍ/g],["W",/W/g],["W",/W/g],"voiceless labial-velar fricative"],[["χ",/χ/g],["X",/X/g],["X",/X/g],"voiceless uvular fricative"],[["ʏ",/ʏ/g],["Y",/Y/g],["Y",/Y/g],"near-close front rounded-sm vowel"],[["ʒ",/ʒ/g],["Z",/Z/g],["Z",/Z/g],"voiced postalveolar fricative"],[["ʋ",/ʋ/g],["P",/P/g],["P",/P/g],"labiodental approximant"],[["͡",/͡/g],["_",/_/g],[")",/\)/g],"affricate tie bar"]];function Ha(t){let e=t;for(let i=0;i<ps.length;i++){let s=ps[i][1][1];e=e.replace(s,ps[i][0][0])}return e}function Ym(t){document.getElementsByName(t).forEach(i=>{i.value=Ha(i.value),i.dispatchEvent(new Event("input",{bubbles:!0}))})}window.x2i_input=Ym;function Xm(){let t=window.getSelection();if(!t.rangeCount)return;let e=t.getRangeAt(0),i=t.toString();if(i.trim()==="")return;let s=Ha(i),n=document.createTextNode(s);e.deleteContents(),e.insertNode(n),t.removeAllRanges()}window.x2i_select=Xm;function Zm(t){if(isNaN(t))return NaN;for(var e=String(+t).split(""),i=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],s="",n=3;n--;)s=(i[+e.pop()+n*10]||"")+s;return Array(+e.join("")+1).join("M")+s}window.romanize=Zm;document.addEventListener("scrollTop",function(){window.scrollTo({top:0,behavior:"smooth"})});let $a=0,ka=0;const Nr=document.getElementById("sidebar-toggle");document.addEventListener("touchstart",t=>{$a=t.changedTouches[0].screenX});document.addEventListener("touchend",t=>{ka=t.changedTouches[0].screenX,jm()});function jm(){const t=ka-$a;t>70&&Nr.click(),t<-70&&Nr.click()}
